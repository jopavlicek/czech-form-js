{"version":3,"file":"index.es.js","sources":["../src/features/expressionLanguage/variableExtractionHelpers.js","../src/features/expressionLanguage/FeelExpressionLanguage.js","../src/features/expressionLanguage/FeelersTemplating.js","../src/util/constants/DatetimeConstants.js","../src/util/constants/OptionsSourceConstants.js","../src/util/constants/IFrameConstants.js","../src/util/injector.js","../src/util/form.js","../src/render/components/Util.js","../src/render/components/form-fields/Button.js","../src/render/context/FormRenderContext.js","../src/render/context/LocalExpressionContext.js","../src/render/context/FormContext.js","../src/render/hooks/useService.js","../src/util/simple.js","../src/render/hooks/useCondition.js","../src/render/components/util/optionsUtil.js","../src/render/hooks/useExpressionEvaluation.js","../src/render/hooks/useDeepCompareMemoize.js","../src/render/hooks/useOptionsAsync.js","../src/render/hooks/useDangerousHTMLWrapper.js","../src/render/hooks/useSecurityAttributesMap.js","../src/render/hooks/useGetLabelCorrelation.js","../src/render/components/util/domUtil.js","../src/render/hooks/useScrollIntoView.js","../src/render/hooks/useFilteredFormData.js","../src/render/hooks/useKeyDownAction.js","../src/render/hooks/useReadonly.js","../src/render/hooks/usePrevious.js","../src/render/hooks/useFlushDebounce.js","../src/render/hooks/useTemplateEvaluation.js","../src/render/hooks/useSingleLineTemplateEvaluation.js","../src/render/components/util/dateTimeUtil.js","../src/render/components/util/sanitizerUtil.js","../src/render/hooks/useCleanupSingleSelectValue.js","../src/render/hooks/useCleanupMultiSelectValue.js","../src/render/components/Description.js","../src/render/components/Errors.js","../src/render/components/Label.js","../src/render/components/form-fields/Checkbox.js","../src/render/components/form-fields/Checklist.js","../src/render/components/FormField.js","../src/render/components/form-fields/parts/ChildrenRenderer.js","../src/render/components/form-fields/Default.js","../src/render/components/form-fields/icons/Calendar.svg","../src/render/components/util/localisationUtil.js","../src/render/components/form-fields/parts/InputAdorner.js","../src/render/components/form-fields/parts/Datepicker.js","../src/render/components/form-fields/icons/Clock.svg","../src/render/components/form-fields/parts/DropdownList.js","../src/render/components/form-fields/parts/Timepicker.js","../src/render/components/form-fields/Datetime.js","../src/render/components/form-fields/Group.js","../src/render/components/form-fields/IFrame.js","../src/render/components/icons/Button.svg","../src/render/components/icons/Checkbox.svg","../src/render/components/icons/Checklist.svg","../src/render/components/icons/Datetime.svg","../src/render/components/icons/Taglist.svg","../src/render/components/icons/Form.svg","../src/render/components/icons/Group.svg","../src/render/components/icons/Number.svg","../src/render/components/icons/Radio.svg","../src/render/components/icons/Select.svg","../src/render/components/icons/Separator.svg","../src/render/components/icons/Spacer.svg","../src/render/components/icons/DynamicList.svg","../src/render/components/icons/Text.svg","../src/render/components/icons/HTML.svg","../src/render/components/icons/ExpressionField.svg","../src/render/components/icons/Textfield.svg","../src/render/components/icons/Textarea.svg","../src/render/components/icons/IFrame.svg","../src/render/components/icons/Image.svg","../src/render/components/icons/Table.svg","../src/render/components/icons/index.js","../src/render/components/form-fields/Image.js","../src/render/components/form-fields/parts/TemplatedInputAdorner.js","../src/render/components/form-fields/icons/AngelDown.svg","../src/render/components/form-fields/icons/AngelUp.svg","../src/render/components/util/numberFieldUtil.js","../src/render/components/form-fields/Number.js","../src/render/components/form-fields/Radio.js","../src/render/components/form-fields/icons/XMark.svg","../src/render/components/form-fields/parts/SearchableSelect.js","../src/render/components/form-fields/parts/SimpleSelect.js","../src/render/components/form-fields/Select.js","../src/render/components/form-fields/Separator.js","../src/render/components/form-fields/Spacer.js","../src/render/components/form-fields/DynamicList.js","../src/render/components/form-fields/parts/SkipLink.js","../src/render/components/form-fields/Taglist.js","../src/render/components/Sanitizer.js","../src/render/components/form-fields/Text.js","../src/render/components/form-fields/Html.js","../src/render/components/form-fields/ExpressionField.js","../src/render/components/form-fields/Textfield.js","../src/render/components/form-fields/Textarea.js","../src/render/components/form-fields/icons/ArrowDown.svg","../src/render/components/form-fields/icons/ArrowUp.svg","../src/render/components/form-fields/icons/CaretLeft.svg","../src/render/components/form-fields/icons/CaretRight.svg","../src/render/components/form-fields/Table.js","../src/render/components/PoweredBy.js","../src/render/components/FormComponent.js","../src/render/components/index.js","../src/render/FormFields.js","../src/util/getSchemaVariables.js","../src/util/structure.js","../src/features/expressionLanguage/ConditionChecker.js","../src/features/expressionLanguage/index.js","../src/features/markdown/MarkdownRenderer.js","../src/features/markdown/index.js","../../../node_modules/diagram-js/lib/command/CommandStack.js","../../../node_modules/diagram-js/lib/command/index.js","../src/features/viewerCommands/cmd/UpdateFieldValidationHandler.js","../src/features/viewerCommands/ViewerCommands.js","../src/features/viewerCommands/index.js","../src/render/components/form-fields/icons/Expand.svg","../src/render/components/form-fields/icons/Collapse.svg","../src/render/components/form-fields/icons/Add.svg","../src/render/components/form-fields/icons/Delete.svg","../src/features/repeatRender/RepeatRenderManager.js","../src/features/repeatRender/index.js","../../../node_modules/diagram-js/lib/core/EventBus.js","../src/core/Validator.js","../src/core/Importer.js","../src/core/FieldFactory.js","../src/core/PathRegistry.js","../src/core/FormLayouter.js","../src/core/FormFieldRegistry.js","../src/render/Renderer.js","../src/render/index.js","../src/core/index.js","../src/Form.js","../src/index.js"],"sourcesContent":["import { parseExpression, parseUnaryTests } from 'feelin';\n\nexport const getFlavouredFeelVariableNames = (feelString, feelFlavour = 'expression', options = {}) => {\n\n  const {\n    depth = 0,\n    specialDepthAccessors = {}\n  } = options;\n\n  if (![ 'expression', 'unaryTest' ].includes(feelFlavour)) return [];\n\n  const tree = feelFlavour === 'expression' ? parseExpression(feelString) : parseUnaryTests(feelString);\n\n  const simpleExpressionTree = _buildSimpleFeelStructureTree(tree, feelString);\n\n  const variables = (function _unfoldVariables(node) {\n\n    if (node.name === 'PathExpression') {\n\n      // if the path is built on top of a context, we process that context and\n      // ignore the rest of the path expression, as it is not relevant for variable extraction\n      const pathRoot = _linearizePathExpression(node)[0];\n      if (pathRoot.name === 'Context') {\n        return _unfoldVariables(pathRoot);\n      }\n\n      if (Object.keys(specialDepthAccessors).length === 0) {\n        return depth === 0 ? [ _getVariableNameAtPathIndex(node, 0) ] : [ ];\n      }\n\n      // if using special depth accessors, use a more complex extraction\n      return Array.from(_smartExtractVariableNames(node, depth, specialDepthAccessors));\n    }\n\n    if (depth === 0 && node.name === 'VariableName') return [ node.variableName ];\n\n    // for any other kind of node, traverse its children and flatten the result\n    if (node.children) {\n      const variables = node.children.reduce((acc, child) => {\n        return acc.concat(_unfoldVariables(child));\n      }, []);\n\n      // if we are within a filter context, we need to remove the item variable as it is used for iteration there\n      return node.name === 'FilterContext' ? variables.filter((name) => name !== 'item') : variables;\n    }\n\n    return [];\n  })(simpleExpressionTree);\n\n  return [ ...new Set(variables) ];\n\n};\n\n\n/**\n * Get the variable name at the specified index in a given path expression.\n *\n * @param {Object} root - The root node of the path expression tree.\n * @param {number} index - The index of the variable name to retrieve.\n * @returns {string|null} The variable name at the specified index or null if index is out of bounds.\n */\nconst _getVariableNameAtPathIndex = (root, index) => {\n  const nodes = _linearizePathExpression(root);\n  return nodes[index].variableName || null;\n};\n\n\n/**\n * Extracts the variables which are required of the external context for a given path expression.\n * This is done by traversing the path expression tree and keeping track of the current depth relative to the external context.\n *\n * @param {Object} node - The root node of the path expression tree.\n * @param {number} initialDepth - The depth at which the root node is located in the outer context.\n * @param {Object} specialDepthAccessors - Definitions of special keywords which represent more complex accesses of the outer context.\n * @returns {Set} - A set containing the extracted variable names.\n */\nconst _smartExtractVariableNames = (node, initialDepth, specialDepthAccessors) => {\n\n  // depth info represents the previous (initialised as null) and current depth of the current accessor in the path expression\n  // we track multiple of these to account for the fact that a path expression may be ambiguous due to special keywords\n  let accessorDepthInfos = [ { previous: null, current: initialDepth - 1 } ];\n  const extractedVariables = new Set();\n  const pathNodes = _linearizePathExpression(node);\n\n  for (let i = 0; i < pathNodes.length; i++) {\n    const currentAccessor = pathNodes[i].variableName;\n\n    if (currentAccessor in specialDepthAccessors) {\n      const depthOffsets = specialDepthAccessors[currentAccessor];\n\n      // if the current accessor is a special keyword, we need to expand the current depth info set\n      // this is done to account for the ambiguity of keywords like parent, which may be used to access\n      // the parent of the current node, or a child variable of the same name\n      accessorDepthInfos = depthOffsets.reduce((accumulator, offset) => {\n        return [\n          ...accumulator,\n          ...accessorDepthInfos.map(depthInfo => ({ previous: depthInfo.current, current: depthInfo.current + offset })),\n        ];\n      }, []).filter(depthInfo => depthInfo.current >= -1); // discard all depth infos which are out of bounds\n\n    } else {\n\n      // if the current accessor is not a special keyword, we know it's simply accessing a child\n      // hence we are now one level deeper in the tree and simply increment\n      accessorDepthInfos = accessorDepthInfos.map(depthInfo => ({ previous: depthInfo.current, current: depthInfo.current + 1 }));\n    }\n\n    // finally, we check if for the current accessor, there is a scenario where:\n    // previous it was at depth -1 (i.e. the root context), and is now at depth 0 (i.e. a variable)\n    // these are the variables we need to request, so we add them to the set\n    if (accessorDepthInfos.some(depthInfo => depthInfo.previous === -1 && depthInfo.current === 0)) {\n      extractedVariables.add(currentAccessor);\n    }\n  }\n\n  // we return a set to avoid duplicates\n  return new Set(extractedVariables);\n};\n\n\n/**\n * Deconstructs a path expression tree into an array of components.\n *\n * @param {Object} root - The root node of the path expression tree.\n * @returns {Array<object>} An array of components in the path expression, in the correct order.\n */\nconst _linearizePathExpression = (root) => {\n\n  let node = root;\n  let parts = [];\n\n  // Traverse the tree and collect path components\n  while (node.name === 'PathExpression') {\n    parts.push(node.children[1]);\n    node = node.children[0];\n  }\n\n  // Add the last component to the array\n  parts.push(node);\n\n  // Reverse and return the array to get the correct order\n  return parts.reverse();\n};\n\n\n/**\n * Builds a simplified feel structure tree from the given parse tree and feel string.\n * The nodes follow this structure: `{ name: string, children: Array, variableName?: string }`\n *\n * @param {Object} parseTree - The parse tree generated by a parser.\n * @param {string} feelString - The feel string used for parsing.\n * @returns {Object} The simplified feel structure tree.\n */\nconst _buildSimpleFeelStructureTree = (parseTree, feelString) => {\n\n  const stack = [ { children: [] } ];\n  parseTree.iterate({\n    enter: (node) => {\n\n      const nodeRepresentation = {\n        name: node.type.name,\n        children: [],\n      };\n\n      if (node.type.name === 'VariableName') {\n        nodeRepresentation.variableName = feelString.slice(node.from, node.to);\n      }\n\n      stack.push(nodeRepresentation);\n    },\n    leave: () => {\n      const result = stack.pop();\n      const parent = stack[stack.length - 1];\n      parent.children.push(result);\n    }\n  });\n\n  return _extractFilterExpressions(stack[0].children[0]);\n};\n\n/**\n * Restructure the tree in such a way to bring filters (which create new contexts) to the root of the tree.\n * This is done to simplify the extraction of variables and match the context hierarchy.\n */\nconst _extractFilterExpressions = (tree) => {\n\n  const flattenedExpressionTree = {\n    name: 'Root',\n    children: [ tree ]\n  };\n\n  const iterate = (node) => {\n\n    if (node.children) {\n      for (let x = 0; x < node.children.length; x++) {\n\n        if (node.children[x].name === 'FilterExpression') {\n\n          const filterTarget = node.children[x].children[0];\n          const filterExpression = node.children[x].children[2];\n\n          // bypass the filter expression\n          node.children[x] = filterTarget;\n\n          const taggedFilterExpression = {\n            name: 'FilterContext',\n            children: [ filterExpression ]\n          };\n\n          // append the filter expression to the root\n          flattenedExpressionTree.children.push(taggedFilterExpression);\n\n          // recursively iterate the expression\n          iterate(filterExpression);\n\n        } else {\n          iterate(node.children[x]);\n        }\n      }\n\n    }\n\n  };\n\n  iterate(tree);\n\n  return flattenedExpressionTree;\n};\n","import { evaluate } from 'feelin';\nimport { isString } from 'min-dash';\nimport { getFlavouredFeelVariableNames } from './variableExtractionHelpers';\n\nexport class FeelExpressionLanguage {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * Determines if the given value is a FEEL expression.\n   *\n   * @param {any} value\n   * @returns {boolean}\n   *\n   */\n  isExpression(value) { return isString(value) && value.startsWith('='); }\n\n  /**\n   * Retrieve variable names from a given FEEL expression.\n   *\n   * @param {string} expression\n   * @param {object} [options]\n   * @param {string} [options.type]\n   *\n   * @returns {string[]}\n   */\n  getVariableNames(expression, options = {}) {\n\n    const {\n      type = 'expression'\n    } = options;\n\n    if (!this.isExpression(expression)) {\n      return [];\n    }\n\n    if (![ 'unaryTest', 'expression' ].includes(type)) {\n      throw new Error('Unknown expression type: ' + type);\n    }\n\n    return getFlavouredFeelVariableNames(expression, type);\n  }\n\n  /**\n   * Evaluate an expression.\n   *\n   * @param {string} expression\n   * @param {import('../../types').Data} [data]\n   *\n   * @returns {any}\n   */\n  evaluate(expression, data = {}) {\n    if (!expression) {\n      return null;\n    }\n\n    if (!isString(expression) || !expression.startsWith('=')) {\n      return null;\n    }\n\n    try {\n      const result = evaluate(expression.slice(1), data);\n\n      return result;\n    } catch (error) {\n      this._eventBus.fire('error', { error });\n      return null;\n    }\n  }\n}\n\nFeelExpressionLanguage.$inject = [\n  'eventBus'\n];","import { parser as feelersParser, buildSimpleTree, evaluate as evaluateFeelers } from 'feelers';\nimport { isString } from 'min-dash';\nimport { getFlavouredFeelVariableNames } from './variableExtractionHelpers';\n\nexport class FeelersTemplating {\n\n  constructor() { }\n\n  /**\n   * Determines if the given value is a feelers template.\n   *\n   * @param {any} value\n   * @returns {boolean}\n   *\n   */\n  isTemplate(value) { return isString(value) && (value.startsWith('=') || /{{.*?}}/.test(value)); }\n\n\n  /**\n   * Retrieve variable names from a given feelers template.\n   *\n   * @param {string} template\n   *\n   * @returns {string[]}\n   */\n  getVariableNames(template) {\n\n    if (!this.isTemplate(template)) {\n      return [];\n    }\n\n    const expressions = this._extractExpressionsWithDepth(template);\n\n    // defines special accessors, and the change(s) in depth they could imply (e.g. parent can be used to access the parent context (depth - 1) or a child variable named parent (depth + 1)\n    const specialDepthAccessors = {\n      parent: [ -1, 1 ],\n      _parent_: [ -1 ],\n      this: [ 0, 1 ],\n      _this_: [ 0 ],\n    };\n\n    return expressions.reduce((variables, { expression, depth }) => {\n      return variables.concat(getFlavouredFeelVariableNames(expression, 'expression', { depth, specialDepthAccessors }));\n    }, []);\n  }\n\n\n  /**\n   * Evaluate a template.\n   *\n   * @param {string} template\n   * @param {Object<string, any>} context\n   * @param {Object} options\n   * @param {boolean} [options.debug = false]\n   * @param {boolean} [options.strict = false]\n   * @param {Function} [options.buildDebugString]\n   * @param {Function} [options.sanitizer]\n   *\n   * @returns\n   */\n  evaluate(template, context = {}, options = {}) {\n\n    const {\n      debug = false,\n      strict = false,\n      buildDebugString = (err) => ' {{⚠}} ',\n      sanitizer = (value) => value\n    } = options;\n\n    return evaluateFeelers(template, context, { debug, strict, buildDebugString, sanitizer });\n  }\n\n\n  /**\n * @typedef {Object} ExpressionWithDepth\n * @property {number} depth - The depth of the expression in the syntax tree.\n * @property {string} expression - The extracted expression\n */\n\n  /**\n * Extracts all feel expressions in the template along with their depth in the syntax tree.\n * The depth is incremented for child expressions of loops to account for context drilling.\n\n * @name extractExpressionsWithDepth\n * @param {string} template - A feelers template string.\n * @returns {Array<ExpressionWithDepth>} An array of objects, each containing the depth and the extracted expression.\n *\n * @example\n * const template = \"Hello {{user}}, you have:{{#loop items}}\\n- {{amount}} {{name}}{{/loop}}.\";\n * const extractedExpressions = _extractExpressionsWithDepth(template);\n */\n  _extractExpressionsWithDepth(template) {\n\n    // build simplified feelers syntax tree\n    const parseTree = feelersParser.parse(template);\n    const tree = buildSimpleTree(parseTree, template);\n\n    return (function _traverse(n, depth = 0) {\n\n      if ([ 'Feel', 'FeelBlock' ].includes(n.name)) {\n        return [ { depth, expression: n.content } ];\n      }\n\n      if (n.name === 'LoopSpanner') {\n        const loopExpression = n.children[0].content;\n        const childResults = n.children.slice(1).reduce((acc, child) => {\n          return acc.concat(_traverse(child, depth + 1));\n        }, []);\n        return [ { depth, expression: loopExpression }, ...childResults ];\n      }\n\n      return n.children.reduce((acc, child) => {\n        return acc.concat(_traverse(child, depth));\n      }, []);\n\n    })(tree);\n\n  }\n}\n\nFeelersTemplating.$inject = [];","// config  ///////////////////\n\nexport const MINUTES_IN_DAY = 60 * 24;\n\nexport const DATETIME_SUBTYPES = {\n  DATE: 'date',\n  TIME: 'time',\n  DATETIME: 'datetime'\n};\n\nexport const TIME_SERIALISING_FORMATS = {\n  UTC_OFFSET: 'utc_offset',\n  UTC_NORMALIZED: 'utc_normalized',\n  NO_TIMEZONE: 'no_timezone'\n};\n\nexport const DATETIME_SUBTYPES_LABELS = {\n  [DATETIME_SUBTYPES.DATE]: 'Datum',\n  [DATETIME_SUBTYPES.TIME]: 'Čas',\n  [DATETIME_SUBTYPES.DATETIME]: 'Datum a čas'\n};\n\nexport const TIME_SERIALISINGFORMAT_LABELS = {\n  [TIME_SERIALISING_FORMATS.UTC_OFFSET]: 'Posun UTC',\n  [TIME_SERIALISING_FORMATS.UTC_NORMALIZED]: 'Normalizované UTC',\n  [TIME_SERIALISING_FORMATS.NO_TIMEZONE]: 'Bez časové zóny'\n};\n\nexport const DATETIME_SUBTYPE_PATH = [ 'subtype' ];\nexport const DATE_LABEL_PATH = [ 'dateLabel' ];\nexport const DATE_DISALLOW_PAST_PATH = [ 'disallowPassedDates' ];\nexport const TIME_LABEL_PATH = [ 'timeLabel' ];\nexport const TIME_USE24H_PATH = [ 'use24h' ];\nexport const TIME_INTERVAL_PATH = [ 'timeInterval' ];\nexport const TIME_SERIALISING_FORMAT_PATH = [ 'timeSerializingFormat' ];\n","import { get } from 'min-dash';\n\n// config  ///////////////////\n\nexport const OPTIONS_SOURCES = {\n  STATIC: 'static',\n  INPUT: 'input',\n  EXPRESSION: 'expression',\n};\n\nexport const OPTIONS_SOURCE_DEFAULT = OPTIONS_SOURCES.STATIC;\n\nexport const OPTIONS_SOURCES_LABELS = {\n  [OPTIONS_SOURCES.STATIC]: 'Staticky',\n  [OPTIONS_SOURCES.INPUT]: 'Dynamicky',\n  [OPTIONS_SOURCES.EXPRESSION]: 'Výraz',\n};\n\nexport const OPTIONS_SOURCES_PATHS = {\n  [OPTIONS_SOURCES.STATIC]: [ 'values' ],\n  [OPTIONS_SOURCES.INPUT]: [ 'valuesKey' ],\n  [OPTIONS_SOURCES.EXPRESSION]: [ 'valuesExpression' ],\n};\n\nexport const OPTIONS_SOURCES_DEFAULTS = {\n  [OPTIONS_SOURCES.STATIC]: [\n    {\n      label: 'Možnost',\n      value: 'moznost'\n    }\n  ],\n  [OPTIONS_SOURCES.INPUT]: '',\n  [OPTIONS_SOURCES.EXPRESSION]: '='\n};\n\n// helpers ///////////////////\n\nexport function getOptionsSource(field) {\n\n  for (const source of Object.values(OPTIONS_SOURCES)) {\n    if (get(field, OPTIONS_SOURCES_PATHS[source]) !== undefined) {\n      return source;\n    }\n  }\n\n  return OPTIONS_SOURCE_DEFAULT;\n}\n","export const SANDBOX_ATTRIBUTE = 'sandbox';\nexport const ALLOW_ATTRIBUTE = 'allow';\n\n// Cf. https://developer.mozilla.org/en-US/docs/Web/HTTP/Permissions_Policy#iframe_syntax\nexport const SECURITY_ATTRIBUTES_DEFINITIONS = [\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-scripts',\n    property: 'allowScripts',\n    label: 'Spouštění skriptů'\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-same-origin',\n    property: 'allowSameOrigin',\n    label: 'Povolit stejný původ'\n  },\n  {\n    attribute: ALLOW_ATTRIBUTE,\n    directive: 'fullscreen',\n    property: 'fullscreen',\n    label: 'Otevřít na celé obrazovce'\n  },\n  {\n    attribute: ALLOW_ATTRIBUTE,\n    directive: 'geolocation',\n    property: 'geolocation',\n    label: 'Geolokační služby'\n  },\n  {\n    attribute: ALLOW_ATTRIBUTE,\n    directive: 'camera',\n    property: 'camera',\n    label: 'Přístup ke kaměře'\n  },\n  {\n    attribute: ALLOW_ATTRIBUTE,\n    directive: 'microphone',\n    property: 'microphone',\n    label: 'Přístup k mikrofonu'\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-forms',\n    property: 'allowForms',\n    label: 'Odesílání formulářů'\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-modals',\n    property: 'allowModals',\n    label: 'Otevírat modální okna'\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-popups',\n    property: 'allowPopups',\n    label: 'Otevírat vyskakovací okna'\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-top-navigation',\n    property: 'allowTopNavigation',\n    label: 'Top-level navigace'\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-storage-access-by-user-activation',\n    property: 'allowStorageAccessByUserActivation',\n    label: 'Přístup k úložišti uživatelem'\n  }\n];","import { Injector } from 'didi';\n\nexport function createInjector(bootstrapModules) {\n\n  const injector = new Injector(bootstrapModules);\n\n  injector.init();\n\n  return injector;\n}","/**\n * @param {string?} prefix\n *\n * @returns Element\n */\nexport function createFormContainer(prefix = 'fjs') {\n  const container = document.createElement('div');\n\n  container.classList.add(`${ prefix }-container`);\n\n  return container;\n}","import classNames from 'classnames';\n\nexport function formFieldClasses(type, { errors = [], disabled = false, readonly = false } = {}) {\n  if (!type) {\n    throw new Error('type required');\n  }\n\n  return classNames('fjs-form-field', `fjs-form-field-${type}`, {\n    'fjs-has-errors': errors.length > 0,\n    'fjs-disabled': disabled,\n    'fjs-readonly': readonly\n  });\n}\n\nexport function gridColumnClasses(formField) {\n  const {\n    layout = {}\n  } = formField;\n\n  const {\n    columns\n  } = layout;\n\n  return classNames(\n    'fjs-layout-column',\n    `cds--col${columns ? '-lg-' + columns : ''}`,\n\n    // always fall back to top-down on smallest screens\n    'cds--col-sm-16',\n    'cds--col-md-16'\n  );\n}\n\nexport function prefixId(id, formId, indexes) {\n  let result = 'fjs-form';\n\n  if (formId) {\n    result += `-${formId}`;\n  }\n\n  result += `-${id}`;\n\n  Object.values(indexes || {}).forEach((index) => {\n    result += `_${index}`;\n  });\n\n  return result;\n}\n","import { formFieldClasses } from '../Util';\n\nconst type = 'button';\n\nexport function Button(props) {\n  const {\n    disabled,\n    onFocus,\n    onBlur,\n    field\n  } = props;\n\n  const { action = 'submit' } = field;\n\n  return <div class={ formFieldClasses(type) }>\n    <button\n      class=\"fjs-button\"\n      type={ action }\n      disabled={ disabled }\n      onFocus={ () => onFocus && onFocus() }\n      onBlur={ () => onBlur && onBlur() }>\n      { field.label }\n    </button>\n  </div>;\n}\n\nButton.config = {\n  type,\n  keyed: false,\n  label: 'Tlačítko',\n  group: 'action',\n  create: (options = {}) => ({\n    action: 'submit',\n    ...options\n  })\n};\n","import { createContext } from 'preact';\n\nexport const FormRenderContext = createContext({\n  Empty: (props) => {\n    return null;\n  },\n  Hidden: (props) => {\n    return null;\n  },\n  Children: (props) => {\n    return <div class={ props.class } style={ props.style }>{ props.children }</div>;\n  },\n  Element: (props) => {\n    return <div class={ props.class } style={ props.style }>{ props.children }</div>;\n  },\n  Row: (props) => {\n    return <div class={ props.class } style={ props.style }>{ props.children }</div>;\n  },\n  Column: (props) => {\n    if (props.field.type === 'default') {\n      return props.children;\n    }\n\n    return <div class={ props.class } style={ props.style }>{ props.children }</div>;\n  },\n  hoverInfo: {\n    cleanup: () => {}\n  },\n});\n","import { createContext } from 'preact';\n\nexport const LocalExpressionContext = createContext({\n  data: null,\n  this: null,\n  parent: null,\n  i: null\n});\n","import { createContext } from 'preact';\n\n/**\n * @param {string} type\n * @param {boolean} [strict]\n *\n * @returns {any}\n */\nfunction getService(type, strict) {}\n\nexport const FormContext = createContext({\n  getService,\n  formId: null\n});\n","import {\n  useContext\n} from 'preact/hooks';\n\nimport { FormContext } from '../context';\n\nexport function useService(type, strict) {\n  const {\n    getService\n  } = useContext(FormContext);\n\n  return getService(type, strict);\n}","export function isRequired(field) {\n  return field.required;\n}\n\nexport function pathParse(path) {\n  if (!path) {\n    return [];\n  }\n\n  return path.split('.').map(key => {\n    return isNaN(parseInt(key)) ? key : parseInt(key);\n  });\n}\n\nexport function pathsEqual(a, b) {\n  return (\n    a &&\n    b &&\n    a.length === b.length &&\n    a.every((value, index) => value === b[ index ])\n  );\n}\n\nconst indices = {};\n\nexport function generateIndexForType(type) {\n  if (type in indices) {\n    indices[ type ]++;\n  } else {\n    indices[ type ] = 1;\n  }\n\n  return indices[ type ];\n}\n\nexport function generateIdForType(type) {\n  return `${ type }${ generateIndexForType(type) }`;\n}\n\n/**\n * @template T\n * @param {T} data\n * @param {(this: any, key: string, value: any) => any} [replacer]\n * @return {T}\n */\nexport function clone(data, replacer) {\n  return JSON.parse(JSON.stringify(data, replacer));\n}\n\n/**\n * Transform a LocalExpressionContext object into a usable FEEL context.\n *\n * @param {Object} context - The LocalExpressionContext object.\n * @returns {Object} The usable FEEL context.\n */\n\nexport function buildExpressionContext(context) {\n  const {\n    data,\n    ...specialContextKeys\n  } = context;\n\n  return {\n    ...specialContextKeys,\n    ...data,\n    ..._wrapObjectKeysWithUnderscores(specialContextKeys)\n  };\n}\n\nexport function runRecursively(formField, fn) {\n  const components = formField.components || [];\n\n  components.forEach((component, index) => {\n    runRecursively(component, fn);\n  });\n\n  fn(formField);\n}\n\n// helpers //////////////////////\n\nfunction _wrapObjectKeysWithUnderscores(obj) {\n  const newObj = {};\n  for (const [ key, value ] of Object.entries(obj)) {\n    newObj[`_${key}_`] = value;\n  }\n  return newObj;\n}","import { useService } from './useService.js';\nimport { useContext, useMemo } from 'preact/hooks';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext.js';\nimport { buildExpressionContext } from '../../util/simple';\n\n/**\n * Evaluate if condition is met reactively based on the conditionChecker and form data.\n *\n * @param {string | undefined} condition\n *\n * @returns {boolean} true if condition is met or no condition or condition checker exists\n */\nexport function useCondition(condition) {\n  const conditionChecker = useService('conditionChecker', false);\n  const expressionContextInfo = useContext(LocalExpressionContext);\n\n  return useMemo(() => {\n    return conditionChecker ? conditionChecker.check(condition, buildExpressionContext(expressionContextInfo)) : null;\n  }, [ conditionChecker, condition, expressionContextInfo ]);\n}\n","import { get, isObject, isString, isNil } from 'min-dash';\n\n/**\n * Returns the options data for the provided if they can be simply determined, ignoring expression defined options.\n *\n * @param {object} formField\n * @param {object} formData\n */\nfunction getSimpleOptionsData(formField, formData) {\n\n  const {\n    valuesExpression: optionsExpression,\n    valuesKey: optionsKey,\n    values: staticOptions\n  } = formField;\n\n  if (optionsExpression) {\n    return null;\n  }\n\n  return optionsKey ? get(formData, [ optionsKey ]) : staticOptions;\n}\n\n/**\n * Normalizes the provided options data to a format that can be used by the select components.\n * If the options data is not valid, it is filtered out.\n *\n * @param {any[]} optionsData\n *\n * @returns {object[]}\n */\nfunction normalizeOptionsData(optionsData) {\n  return optionsData.filter(_isAllowedValue).map(_normalizeOption).filter(o => !isNil(o));\n}\n\n/**\n * Creates an options object with default values if no options are provided.\n *\n * @param {object} options\n *\n * @returns {object}\n */\nfunction createEmptyOptions(options = {}) {\n\n  const defaults = {};\n\n  // provide default options if valuesKey and valuesExpression are not set\n  if (!options.valuesKey && !options.valuesExpression) {\n    defaults.values = [\n      {\n        label: 'Možnost',\n        value: 'moznost'\n      }\n    ];\n  }\n\n  return {\n    ...defaults,\n    ...options\n  };\n}\n\n/**\n * Converts the provided option to a normalized format.\n * If the option is not valid, null is returned.\n *\n * @param {object} option\n * @param {string} option.label\n * @param {*} option.value\n *\n * @returns\n */\nfunction _normalizeOption(option) {\n\n  // (1) simple primitive case, use it as both label and value\n  if (_isAllowedPrimitive(option)) {\n    return { value: option, label: `${ option }` };\n  }\n\n  if (isObject(option)) {\n\n    const isValidLabel = _isValidLabel(option.label);\n\n    // (2) no label provided, but value is a simple primitive, use it as label and value\n    if (!isValidLabel && _isAllowedPrimitive(option.value)) {\n      return { value: option.value, label: `${ option.value }` };\n    }\n\n    // (3) both label and value are provided, use them as is\n    if (isValidLabel && _isAllowedValue(option.value)) {\n      return option;\n    }\n  }\n\n  return null;\n}\n\nfunction _isAllowedPrimitive(value) {\n  const isAllowedPrimitiveType = [ 'number', 'string', 'boolean' ].includes(typeof(value));\n  const isValid = value || value === 0 || value === false;\n\n  return isAllowedPrimitiveType && isValid;\n}\n\nfunction _isValidLabel(label) {\n  return label && isString(label);\n}\n\nfunction _isAllowedValue(value) {\n  if (isObject(value)) {\n    return Object.keys(value).length > 0;\n  }\n\n  return _isAllowedPrimitive(value);\n}\n\nexport { getSimpleOptionsData, normalizeOptionsData, createEmptyOptions };\n","import { useService } from './useService';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext';\nimport { useContext, useMemo } from 'preact/hooks';\nimport { buildExpressionContext } from '../../util/simple';\n\n/**\n * Evaluate a string reactively based on the expressionLanguage and form data.\n * If the string is not an expression, it is returned as is.\n * The function is memoized to minimize re-renders.\n *\n * @param {string} value - The string to evaluate.\n * @returns {any} - Evaluated value or the original value if not an expression.\n */\nexport function useExpressionEvaluation(value) {\n  const expressionLanguage = useService('expressionLanguage');\n  const expressionContextInfo = useContext(LocalExpressionContext);\n\n  return useMemo(() => {\n    if (expressionLanguage && expressionLanguage.isExpression(value)) {\n      return expressionLanguage.evaluate(value, buildExpressionContext(expressionContextInfo));\n    }\n    return value;\n  }, [ expressionLanguage, expressionContextInfo, value ]);\n}\n","import { useRef } from 'preact/hooks';\nimport isEqual from 'lodash/isEqual';\n\n/**\n * A custom hook to manage state changes with deep comparison.\n *\n * @template T\n * @param {T} value - The current value to manage.\n * @returns {T} - Returns the current state.\n */\nexport function useDeepCompareMemoize(value) {\n  const ref = useRef();\n\n  if (!isEqual(value, ref.current)) {\n    ref.current = value;\n  }\n\n  return ref.current;\n}","import { useMemo } from 'preact/hooks';\nimport { normalizeOptionsData } from '../components/util/optionsUtil';\nimport { useExpressionEvaluation } from './useExpressionEvaluation';\nimport { useDeepCompareMemoize } from './useDeepCompareMemoize';\nimport { useService } from './useService';\n\n/**\n * @enum { String }\n */\nexport const LOAD_STATES = {\n  LOADING: 'loading',\n  LOADED: 'loaded',\n  ERROR: 'error'\n};\n\n/**\n * @typedef {Object} OptionsGetter\n * @property {Object[]} options - The options data\n * @property {(LOAD_STATES)} loadState - The options data's loading state, to use for conditional rendering\n */\n\n/**\n * A hook to load options for single and multiselect components.\n *\n * @param {Object} field - The form field to handle options for\n * @return {OptionsGetter} optionsGetter - A options getter object providing loading state and options\n */\nexport function useOptionsAsync(field) {\n  const {\n    valuesExpression: optionsExpression,\n    valuesKey: optionsKey,\n    values: staticOptions\n  } = field;\n\n  const initialData = useService('form')._getState().initialData;\n  const expressionEvaluation = useExpressionEvaluation(optionsExpression);\n  const evaluatedOptions = useDeepCompareMemoize(expressionEvaluation || []);\n\n  const optionsGetter = useMemo(() => {\n    let options = [];\n\n    // dynamic options\n    if (optionsKey !== undefined) {\n      const keyedOptions = (initialData || {})[optionsKey];\n      if (keyedOptions && Array.isArray(keyedOptions)) {\n        options = keyedOptions;\n      }\n\n    // static options\n    } else if (staticOptions !== undefined) {\n      options = Array.isArray(staticOptions) ? staticOptions : [];\n\n    // expression\n    } else if (optionsExpression && evaluatedOptions && Array.isArray(evaluatedOptions)) {\n      options = evaluatedOptions;\n\n    // error case\n    } else {\n      return buildErrorState('No options source defined in the form definition');\n    }\n\n    // normalize data to support primitives and partially defined objects\n    return buildLoadedState(normalizeOptionsData(options));\n  }, [ optionsKey, staticOptions, initialData, optionsExpression, evaluatedOptions ]);\n\n  return optionsGetter;\n}\n\nconst buildErrorState = (error) => ({ options: [], error, loadState: LOAD_STATES.ERROR });\n\nconst buildLoadedState = (options) => ({ options, error: undefined, loadState: LOAD_STATES.LOADED });\n","import { useMemo } from 'preact/hooks';\nimport DOMPurify from 'dompurify';\n\n\n/**\n * Wrap HTML content in a configuration object for dangerouslySetInnerHTML\n * @param {Object} props\n * @param {string} props.html\n * @param {Function} [props.transform]\n * @param {boolean} [props.sanitize = true]\n * @param {boolean} [props.sanitizeStyleTags = true]\n */\nconst useDangerousHTMLWrapper = (props) => {\n\n  const {\n    html,\n    transform = (html) => html,\n    sanitize = true,\n    sanitizeStyleTags = true\n  } = props;\n\n  const sanitizedHtml = useMemo(() => sanitize ? DOMPurify.sanitize(html, getDOMPurifyConfig(sanitizeStyleTags)) : html, [ html, sanitize, sanitizeStyleTags ]);\n  const transformedHtml = useMemo(() => transform(sanitizedHtml), [ sanitizedHtml, transform ]);\n\n  // Return the configuration object for dangerouslySetInnerHTML\n  return { __html: transformedHtml };\n};\n\nconst getDOMPurifyConfig = (sanitizeStyleTags) => {\n  return {\n    FORCE_BODY: true,\n    FORBID_TAGS: (sanitizeStyleTags ? [ 'style' ] : [])\n  };\n};\n\nexport { useDangerousHTMLWrapper };\n","import { get } from 'min-dash';\r\nimport { SECURITY_ATTRIBUTES_DEFINITIONS, SANDBOX_ATTRIBUTE } from '../../util/constants';\r\nimport { useMemo } from 'preact/hooks';\r\nimport { useDeepCompareMemoize } from './useDeepCompareMemoize';\r\n\r\n/**\r\n * A custom hook to build up security attributes from form configuration.\r\n *\r\n * @param {Object} security - The security configuration.\r\n * @returns {Array} - Returns a tuple with sandbox and allow attributes.\r\n */\r\nexport function useSecurityAttributesMap(security) {\r\n\r\n  const securityMemoized = useDeepCompareMemoize(security);\r\n\r\n  const sandbox = useMemo(() =>\r\n    SECURITY_ATTRIBUTES_DEFINITIONS\r\n      .filter(({ attribute }) => attribute === SANDBOX_ATTRIBUTE)\r\n      .filter(({ property }) => get(securityMemoized, [ property ], false))\r\n      .map(({ directive }) => directive)\r\n      .join(' ')\r\n  , [ securityMemoized ]);\r\n\r\n  const allow = useMemo(() =>\r\n    SECURITY_ATTRIBUTES_DEFINITIONS\r\n      .filter(({ attribute }) => attribute !== SANDBOX_ATTRIBUTE)\r\n      .filter(({ property }) => get(securityMemoized, [ property ], false))\r\n      .map(({ directive }) => directive)\r\n      .join('; ')\r\n  , [ securityMemoized ]);\r\n\r\n  return [ sandbox, allow ];\r\n}\r\n","import { useCallback, useMemo } from 'preact/hooks';\nimport { isObject } from 'min-dash';\n\n/**\n * This hook allows us to retrieve the label from a value in linear time by caching it in a map\n * @param {Array} options\n */\nexport function useGetLabelCorrelation(options) {\n\n  // This allows us to retrieve the label from a value in linear time\n  const labelMap = useMemo(() => Object.assign({}, ...options.map((o) => ({ [_getValueHash(o.value)]:  o.label }))), [ options ]);\n  return useCallback((value) => labelMap[_getValueHash(value)], [ labelMap ]);\n}\n\nconst _getValueHash = (value) => {\n  return isObject(value) ? JSON.stringify(value) : value;\n};","/**\n * Wrap CSS styles with a given prefix.\n *\n * @param {HTMLElement} rootNode\n * @param {string} prefix\n *\n * @returns {HTMLElement}\n */\nfunction wrapCSSStyles(rootNode, prefix) {\n  const styleTags = rootNode.querySelectorAll('style');\n  styleTags.forEach(styleTag => {\n    const topLevelRules = extractTopLevelRules(styleTag.textContent);\n    const scopedCss = topLevelRules\n      .map(rule => {\n        const { selector, styles } = splitRule(rule);\n        const scopedSelector = scopeSelector(selector, prefix);\n        return `${scopedSelector} ${styles}`;\n      })\n      .join(' ');\n    styleTag.textContent = scopedCss;\n  });\n\n  return rootNode;\n}\n\nfunction extractTopLevelRules(cssString) {\n  let cursor = 0;\n  let start = 0;\n  let level = 0;\n  const topLevelRules = [];\n\n  while (cursor < cssString.length) {\n    if (cssString[cursor] === '{') {\n      level++;\n    }\n\n    if (cssString[cursor] === '}') {\n      level--;\n      if (level === 0) {\n        topLevelRules.push(cssString.substring(start, cursor + 1));\n        start = cursor + 1;\n      }\n    }\n\n    cursor++;\n  }\n\n  return topLevelRules.map(rule => rule.trim());\n}\n\nfunction splitRule(rule) {\n  const firstBracket = rule.indexOf('{');\n  const selector = rule.substring(0, firstBracket);\n  const styles = rule.substring(firstBracket);\n  return { selector, styles };\n}\n\nfunction scopeSelector(selector, prefix) {\n  return selector\n    .split(',')\n    .map(sel => `${prefix} ${sel.trim()}`)\n    .join(', ');\n}\n\nfunction getScrollContainer(el) {\n  while (el && el !== document.body && el !== document.documentElement) {\n    if (_isElementScrollable(el)) {\n      return el;\n    }\n    el = el.parentElement;\n  }\n\n  if (_isElementScrollable(document.body)) {\n    return document.body;\n  } else if (_isElementScrollable(document.documentElement)) {\n    return document.documentElement;\n  }\n\n  return null;\n}\n\nfunction _isElementScrollable(el) {\n  const style = window.getComputedStyle(el);\n  const overflowY = style.overflowY || style.overflow;\n\n  return (overflowY === 'auto' || overflowY === 'scroll') && el.scrollHeight > el.clientHeight;\n}\n\nexport { wrapCSSStyles, getScrollContainer };","import { some } from 'min-dash';\nimport { useEffect } from 'preact/hooks';\nimport { getScrollContainer } from '../components/util/domUtil';\n\nconst EMPTY_OBJECT = {};\nconst EMPTY_ARRAY = [];\n\n/**\n * Custom hook to scroll an element within a scrollable container.\n *\n * @param {Object} scrolledElementRef - A ref pointing to the DOM element to scroll into view.\n * @param {Array} deps - An array of dependencies that trigger the effect.\n * @param {Object} [scrollOptions={}] - Options defining the behavior of the scrolling.\n * @param {String} [scrollOptions.align='center'] - The alignment of the element within the viewport.\n * @param {String} [scrollOptions.behavior='auto'] - The scrolling behavior.\n * @param {Number} [scrollOptions.offset=0] - An offset that is added to the scroll position.\n * @param {Boolean} [scrollOptions.scrollIfVisible=false] - Whether to scroll even if the element is visible.\n * @param {Array} [flagRefs] - An array of refs that are used as flags to control when to scroll.\n */\nexport function useScrollIntoView(scrolledElementRef, deps, scrollOptions, flagRefs) {\n\n  const _scrollOptions = scrollOptions || EMPTY_OBJECT;\n  const _flagRefs = flagRefs || EMPTY_ARRAY;\n\n  useEffect(() => {\n\n    // return early if flags are not raised, or component is not mounted\n    if (some(_flagRefs, ref => !ref.current) || !scrolledElementRef.current) {\n      return;\n    }\n\n    for (let i = 0; i < _flagRefs.length; i++) {\n      _flagRefs[i].current = false;\n    }\n\n    const itemToBeScrolled = scrolledElementRef.current;\n    const scrollContainer = getScrollContainer(itemToBeScrolled);\n\n    if (!scrollContainer) {\n      return;\n    }\n\n    const itemRect = itemToBeScrolled.getBoundingClientRect();\n    const containerRect = scrollContainer.getBoundingClientRect();\n\n    const { align = 'center', offset = 0, behavior = 'auto', scrollIfVisible = false } = _scrollOptions;\n\n    const shouldScroll = scrollIfVisible || !(itemRect.top >= containerRect.top && itemRect.bottom <= containerRect.bottom);\n\n    if (!shouldScroll) {\n      return;\n    }\n\n    const topOffset = _getTopOffset(itemToBeScrolled, scrollContainer, { align, offset });\n    scrollContainer.scroll({ top: topOffset, behavior });\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n}\n\n\n// helper //////////////////////\n\nfunction _getTopOffset(item, scrollContainer, options) {\n  const itemRect = item.getBoundingClientRect();\n  const containerRect = scrollContainer.getBoundingClientRect();\n\n  if (options.align === 'top') {\n    return itemRect.top - containerRect.top + scrollContainer.scrollTop - options.offset;\n  } else if (options.align === 'bottom') {\n    return itemRect.bottom - containerRect.top - scrollContainer.clientHeight + scrollContainer.scrollTop + options.offset;\n  } else if (options.align === 'center') {\n    return itemRect.top - containerRect.top - scrollContainer.clientHeight / 2 + scrollContainer.scrollTop + itemRect.height / 2 + options.offset;\n  }\n\n  return 0;\n}\n","import { useService } from './useService.js';\nimport { useMemo } from 'preact/hooks';\n\n/**\n * Returns the conditionally filtered data of a form reactively.\n * Memoised to minimize re-renders\n *\n * Warning: costly operation, use with care\n */\nexport function useFilteredFormData() {\n  const { initialData, data } = useService('form')._getState();\n  const conditionChecker = useService('conditionChecker', false);\n\n  return useMemo(() => {\n    const newData = conditionChecker ? conditionChecker.applyConditions(data, data) : data;\n    return { ...initialData, ...newData };\n  }, [ conditionChecker, data, initialData ]);\n\n}\n","import { useEffect } from 'preact/hooks';\n\nexport function useKeyDownAction(targetKey, action, listenerElement = window) {\n\n  function downHandler({ key }) {\n    if (key === targetKey) {\n      action();\n    }\n  }\n\n  useEffect(() => {\n    listenerElement.addEventListener('keydown', downHandler);\n\n    return () => {\n      listenerElement.removeEventListener('keydown', downHandler);\n    };\n  });\n}","import { buildExpressionContext } from '../../util/simple';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext.js';\nimport { useService } from './useService.js';\nimport { useContext } from 'preact/hooks';\n\n/**\n * Retrieve readonly value of a form field, given it can be an\n * expression optionally or configured globally.\n *\n * @typedef { import('../../types').FormProperties } FormProperties\n *\n * @param {any} formField\n * @param {FormProperties} properties\n *\n * @returns {boolean}\n */\nexport function useReadonly(formField, properties = {}) {\n  const expressionLanguage = useService('expressionLanguage');\n  const conditionChecker = useService('conditionChecker', false);\n  const expressionContextInfo = useContext(LocalExpressionContext);\n\n  const { readonly } = formField;\n\n  if (properties.readOnly) {\n    return true;\n  }\n\n  if (expressionLanguage && expressionLanguage.isExpression(readonly)) {\n    return conditionChecker ? conditionChecker.check(readonly, buildExpressionContext(expressionContextInfo)) : false;\n  }\n\n  return readonly || false;\n}\n","import {\n  useEffect,\n  useRef\n} from 'preact/hooks';\n\n\nexport function usePrevious(value, defaultValue = null) {\n  const ref = useRef(defaultValue);\n\n  useEffect(() => ref.current = value, [ value ]);\n\n  return ref.current;\n}","import { useCallback, useRef } from 'preact/hooks';\nimport { useService } from './useService';\n\nexport function useFlushDebounce(func) {\n\n  const timeoutRef = useRef(null);\n  const lastArgsRef = useRef(null);\n\n  const config = useService('config', false);\n  const debounce = config && config.debounce;\n  const shouldDebounce = debounce !== false && debounce !== 0;\n  const delay = typeof debounce === 'number' ? debounce : 300;\n\n  const debounceFunc = useCallback((...args) => {\n\n    if (!shouldDebounce) {\n      func(...args);\n      return;\n    }\n\n    lastArgsRef.current = args;\n\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    timeoutRef.current = setTimeout(() => {\n      func(...lastArgsRef.current);\n      lastArgsRef.current = null;\n    }, delay);\n\n  }, [ func, delay, shouldDebounce ]);\n\n  const flushFunc = useCallback(() => {\n\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n      if (lastArgsRef.current !== null) {\n        func(...lastArgsRef.current);\n        lastArgsRef.current = null;\n      }\n      timeoutRef.current = null;\n    }\n\n  }, [ func ]);\n\n  return [ debounceFunc, flushFunc ];\n}\n","import { useService } from './useService';\nimport { useContext, useMemo } from 'preact/hooks';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext';\nimport { buildExpressionContext } from '../../util/simple';\n\n/**\n * Template a string reactively based on form data. If the string is not a template, it is returned as is.\n * Memoised to minimize re-renders\n *\n * @param {string} value\n * @param {Object} options\n * @param {boolean} [options.debug = false]\n * @param {boolean} [options.strict = false]\n * @param {Function} [options.sanitizer]\n * @param {Function} [options.buildDebugString]\n *\n */\nexport function useTemplateEvaluation(value, options = {}) {\n  const templating = useService('templating');\n  const expressionContextInfo = useContext(LocalExpressionContext);\n\n  return useMemo(() => {\n    if (templating && templating.isTemplate(value)) {\n      return templating.evaluate(value, buildExpressionContext(expressionContextInfo), options);\n    }\n    return value;\n  }, [ templating, value, expressionContextInfo, options ]);\n}\n","import { useTemplateEvaluation } from './useTemplateEvaluation';\nimport { useMemo } from 'preact/hooks';\n\n/**\n * Template a string reactively based on form data. If the string is not a template, it is returned as is.\n * If the string contains multiple lines, only the first line is returned.\n * Memoised to minimize re-renders\n *\n * @param {string} value\n * @param {Object} [options]\n * @param {boolean} [options.debug = false]\n * @param {boolean} [options.strict = false]\n * @param {Function} [options.buildDebugString]\n *\n */\nexport function useSingleLineTemplateEvaluation(value, options = {}) {\n  const evaluatedTemplate = useTemplateEvaluation(value, options);\n  return useMemo(() => evaluatedTemplate && evaluatedTemplate.split('\\n')[0], [ evaluatedTemplate ]);\n}","import { isNumber } from 'min-dash';\nimport { MINUTES_IN_DAY, TIME_SERIALISING_FORMATS } from '../../../util/constants/DatetimeConstants';\n\nexport const ENTER_KEYDOWN_EVENT = new KeyboardEvent('keydown', {\n  code: 'Enter',\n  key: 'Enter',\n  charCode: 13,\n  keyCode: 13,\n  bubbles: true\n});\n\nexport function focusRelevantFlatpickerDay(flatpickrInstance) {\n\n  if (!flatpickrInstance) return;\n\n  !flatpickrInstance.isOpen && flatpickrInstance.open();\n\n  const container = flatpickrInstance.calendarContainer;\n  const dayToFocus =\n    container.querySelector('.flatpickr-day.selected') ||\n    container.querySelector('.flatpickr-day.today') ||\n    container.querySelector('.flatpickr-day');\n\n  dayToFocus && dayToFocus.focus();\n}\n\nexport function formatTime(use24h, minutes) {\n\n  if (minutes === null) return null;\n\n  const wrappedMinutes = minutes % (24 * 60);\n\n  const minute = minutes % 60;\n  let hour = Math.floor(wrappedMinutes / 60);\n\n  if (use24h) {\n    return _getZeroPaddedString(hour) + ':' + _getZeroPaddedString(minute);\n  }\n\n  hour = (hour % 12 || 12);\n\n  const isPM = (wrappedMinutes >= 12 * 60);\n\n  return _getZeroPaddedString(hour) + ':' + _getZeroPaddedString(minute) + ' ' + (isPM ? 'PM' : 'AM');\n}\n\nexport function parseInputTime(stringTime) {\n\n  let workingString = stringTime.toLowerCase();\n  const is12h = workingString.includes('am') || workingString.includes('pm');\n\n  if (is12h) {\n    const isPM = workingString.includes('pm');\n    const digits = workingString.match(/\\d+/g);\n    const displayHour = parseInt(digits && digits[0]);\n    const minute = parseInt(digits && digits[1]) || 0;\n\n    const isValidDisplayHour = isNumber(displayHour) && (displayHour >= 1) && (displayHour <= 12);\n    const isValidMinute = (minute >= 0) && (minute <= 59);\n\n    if (!isValidDisplayHour || !isValidMinute) return null;\n\n    const hour = (displayHour % 12) + (isPM ? 12 : 0);\n\n    return hour * 60 + minute;\n  }\n  else {\n    const digits = workingString.match(/\\d+/g);\n    const hour = parseInt(digits && digits[0]);\n    const minute = parseInt(digits && digits[1]);\n\n    const isValidHour = isNumber(hour) && (hour >= 0) && (hour <= 23);\n    const isValidMinute = isNumber(minute) && (minute >= 0) && (minute <= 59);\n\n    if (!isValidHour || !isValidMinute) return null;\n\n    return hour * 60 + minute;\n  }\n}\n\nexport function serializeTime(minutes, offset, timeSerializingFormat) {\n\n  if (timeSerializingFormat === TIME_SERIALISING_FORMATS.UTC_NORMALIZED) {\n    const normalizedMinutes = (minutes + offset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n    return _getZeroPaddedString(Math.floor(normalizedMinutes / 60)) + ':' + _getZeroPaddedString(normalizedMinutes % 60) + 'Z';\n  }\n\n  const baseTime = _getZeroPaddedString(Math.floor(minutes / 60)) + ':' + _getZeroPaddedString(minutes % 60);\n  const addUTCOffset = timeSerializingFormat === TIME_SERIALISING_FORMATS.UTC_OFFSET;\n\n  return baseTime + (addUTCOffset ? formatTimezoneOffset(offset) : '');\n}\n\nexport function parseIsoTime(isoTimeString) {\n\n  if (!isoTimeString) return null;\n\n  const parseBasicMinutes = (timeString) => {\n    const timeSegments = timeString.split(':');\n    const hour = parseInt(timeSegments[0]);\n    const minute = timeSegments.length > 1 ? parseInt(timeSegments[1]) : 0;\n    if (isNaN(hour) || hour < 0 || hour > 24 || isNaN(minute) || minute < 0 || minute > 60) return null;\n    return hour * 60 + minute;\n  };\n\n  const localOffset = new Date().getTimezoneOffset();\n\n  // Parse normalized time\n  if (isoTimeString.includes('Z')) {\n    isoTimeString = isoTimeString.replace('Z', '');\n    const minutes = parseBasicMinutes(isoTimeString);\n    if (minutes === null) return null;\n    return (minutes - localOffset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n  }\n\n  // Parse offset positive time\n  else if (isoTimeString.includes('+')) {\n    const [ timeString, offsetString ] = isoTimeString.split('+');\n\n    const minutes = parseBasicMinutes(timeString);\n    let inboundOffset = parseBasicMinutes(offsetString);\n\n    if (minutes === null || inboundOffset === null) return null;\n\n    // The offset is flipped for consistency with javascript\n    inboundOffset = -inboundOffset;\n\n    return (minutes + inboundOffset - localOffset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n  }\n\n  // Parse offset negative time\n  else if (isoTimeString.includes('-')) {\n    const [ timeString, offsetString ] = isoTimeString.split('-');\n\n    const minutes = parseBasicMinutes(timeString);\n    let inboundOffset = parseBasicMinutes(offsetString);\n\n    if (minutes === null || inboundOffset === null) return null;\n\n    return (minutes + inboundOffset - localOffset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n  }\n\n  // Default to local parsing\n  else {\n    return parseBasicMinutes(isoTimeString);\n  }\n}\n\nexport function serializeDate(date) {\n  var d = new Date(date), month = '' + (d.getMonth() + 1), day = '' + d.getDate(), year = d.getFullYear();\n\n  if (month.length < 2)\n    month = '0' + month;\n  if (day.length < 2)\n    day = '0' + day;\n\n  return [ year, month, day ].join('-');\n}\n\n// this method is used to make the `new Date(value)` parsing behavior stricter\nexport function isDateTimeInputInformationSufficient(value) {\n\n  if (!value || typeof value !== 'string') return false;\n\n  const segments = value.split('T');\n  if (segments.length != 2) return false;\n\n  const dateNumbers = segments[0].split('-');\n  if (dateNumbers.length != 3) return false;\n\n  return true;\n\n}\n\n// this method checks if the date isn't a datetime, or a partial date\nexport function isDateInputInformationMatching(value) {\n\n  if (!value || typeof value !== 'string') return false;\n\n  if (value.includes('T')) return false;\n\n  const dateNumbers = value.split('-');\n  if (dateNumbers.length != 3) return false;\n\n  return true;\n}\n\nexport function serializeDateTime(date, time, timeSerializingFormat) {\n\n  const workingDate = new Date();\n  workingDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n  workingDate.setHours(Math.floor(time / 60), time % 60, 0, 0);\n\n  if (timeSerializingFormat === TIME_SERIALISING_FORMATS.UTC_NORMALIZED) {\n\n    const timezoneOffsetMinutes = workingDate.getTimezoneOffset();\n    const dayOffset = (time + timezoneOffsetMinutes < 0) ? -1 : (((time + timezoneOffsetMinutes) > MINUTES_IN_DAY) ? 1 : 0);\n\n    // Apply the date rollover pre-emptively\n    workingDate.setHours(workingDate.getHours() + dayOffset * 24);\n  }\n\n  return serializeDate(workingDate) + 'T' + serializeTime(time, workingDate.getTimezoneOffset(), timeSerializingFormat);\n\n}\n\nexport function formatTimezoneOffset(minutes) {\n  return _getSignedPaddedHours(minutes) + ':' + _getZeroPaddedString(Math.abs(minutes % 60));\n}\n\nexport function isInvalidDateString(value) {\n  return isNaN(new Date(Date.parse(value)).getTime());\n}\n\nexport function getNullDateTime() {\n  return {\n    date: new Date(Date.parse(null)),\n    time: null\n  };\n}\n\nexport function isValidDate(date) {\n  return date && !isNaN(date.getTime());\n}\n\nexport function isValidTime(time) {\n  return !isNaN(parseInt(time));\n}\n\nfunction _getSignedPaddedHours(minutes) {\n  if (minutes > 0) {\n    return '-' + _getZeroPaddedString(Math.floor(minutes / 60));\n  }\n  else {\n    return '+' + _getZeroPaddedString(Math.floor((0 - minutes) / 60));\n  }\n}\n\nfunction _getZeroPaddedString(time) {\n  return time.toString().padStart(2, '0');\n}","import isEqual from 'lodash/isEqual';\nimport { DATETIME_SUBTYPES } from '../../../util/constants/DatetimeConstants';\nimport { isDateInputInformationMatching, isDateTimeInputInformationSufficient, isInvalidDateString, parseIsoTime } from './dateTimeUtil';\nimport { getSimpleOptionsData, normalizeOptionsData } from './optionsUtil';\n\nconst ALLOWED_IMAGE_SRC_PATTERN = /^(https?|data):.*/i; // eslint-disable-line no-useless-escape\nconst ALLOWED_IFRAME_SRC_PATTERN = /^(https):\\/\\/*/i; // eslint-disable-line no-useless-escape\n\nexport function sanitizeDateTimePickerValue(options) {\n  const {\n    formField,\n    value\n  } = options;\n\n  const { subtype } = formField;\n\n  if (typeof value !== 'string') return null;\n\n  if (subtype === DATETIME_SUBTYPES.DATE && (isInvalidDateString(value) || !isDateInputInformationMatching(value))) return null;\n  if (subtype === DATETIME_SUBTYPES.TIME && parseIsoTime(value) === null) return null;\n  if (subtype === DATETIME_SUBTYPES.DATETIME && (isInvalidDateString(value) || !isDateTimeInputInformationSufficient(value))) return null;\n\n  return value;\n}\n\nexport function hasEqualValue(value, array) {\n\n  if (!Array.isArray(array)) {\n    return false;\n  }\n\n  return array.some(element => isEqual(value, element));\n}\n\nexport function sanitizeSingleSelectValue(options) {\n  const {\n    formField,\n    data,\n    value\n  } = options;\n\n  const {\n    valuesExpression: optionsExpression\n  } = formField;\n\n  try {\n\n    // if options are expression evaluated, we don't need to sanitize the value against the options\n    // and defer to the field's internal validation\n    if (optionsExpression) {\n      return value;\n    }\n\n    const validValues = normalizeOptionsData(getSimpleOptionsData(formField, data)).map(v => v.value);\n    return hasEqualValue(value, validValues) ? value : null;\n  } catch (error) {\n\n    // use default value in case of formatting error\n    // TODO(@Skaiir): log a warning when this happens - https://github.com/bpmn-io/form-js/issues/289\n    return null;\n  }\n}\n\nexport function sanitizeMultiSelectValue(options) {\n  const {\n    formField,\n    data,\n    value\n  } = options;\n\n  const {\n    valuesExpression: optionsExpression\n  } = formField;\n\n  try {\n\n    // if options are expression evaluated, we don't need to sanitize the values against the options\n    // and defer to the field's internal validation\n    if (optionsExpression) {\n      return value;\n    }\n\n    const validValues = normalizeOptionsData(getSimpleOptionsData(formField, data)).map(v => v.value);\n    return value.filter(v => hasEqualValue(v, validValues));\n  } catch (error) {\n\n    // use default value in case of formatting error\n    // TODO(@Skaiir): log a warning when this happens - https://github.com/bpmn-io/form-js/issues/289\n    return [];\n  }\n}\n\n/**\n * Sanitizes an image source to ensure we only allow for data URI and links\n * that start with http(s).\n *\n * Note: Most browsers anyway do not support script execution in <img> elements.\n *\n * @param {string} src\n * @returns {string}\n */\nexport function sanitizeImageSource(src) {\n  const valid = ALLOWED_IMAGE_SRC_PATTERN.test(src);\n\n  return valid ? src : '';\n}\n\n/**\n * Sanitizes an iframe source to ensure we only allow for links\n * that start with http(s).\n *\n * @param {string} src\n * @returns {string}\n */\nexport function sanitizeIFrameSource(src) {\n  const valid = ALLOWED_IFRAME_SRC_PATTERN.test(src);\n\n  return valid ? src : '';\n}\n\n/**\n * Escapes HTML and returns pure text.\n * @param {string} html\n * @returns {string}\n */\nexport function escapeHTML(html) {\n  const escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#039;',\n    '{': '&#123;',\n    '}': '&#125;',\n    ':': '&#58;',\n    ';': '&#59;'\n  };\n\n  return html.replace(/[&<>\"'{};:]/g, match => escapeMap[match]);\n}","import { useEffect } from 'preact/hooks';\nimport { LOAD_STATES } from './useOptionsAsync';\nimport { hasEqualValue } from '../components/util/sanitizerUtil';\n\nexport function useCleanupSingleSelectValue(props) {\n\n  const {\n    field,\n    options,\n    loadState,\n    onChange,\n    value\n  } = props;\n\n  // Ensures that the value is always one of the possible options\n  useEffect(() => {\n\n    if (loadState !== LOAD_STATES.LOADED) {\n      return;\n    }\n\n    const optionValues = options.map(o => o.value);\n    const hasValueNotInOptions = value && !hasEqualValue(value, optionValues);\n\n    if (hasValueNotInOptions) {\n      onChange({\n        field,\n        value: null\n      });\n    }\n\n  }, [ field, options, onChange, value, loadState ]);\n\n}","import { useEffect } from 'preact/hooks';\nimport { LOAD_STATES } from './useOptionsAsync';\nimport { hasEqualValue } from '../components/util/sanitizerUtil';\nimport { useDeepCompareMemoize } from './useDeepCompareMemoize';\n\nexport function useCleanupMultiSelectValue(props) {\n\n  const {\n    field,\n    options,\n    loadState,\n    onChange,\n    values\n  } = props;\n\n  const memoizedValues = useDeepCompareMemoize(values || []);\n\n  // ensures that the values are always a subset of the possible options\n  useEffect(() => {\n\n    if (loadState !== LOAD_STATES.LOADED) {\n      return;\n    }\n\n    const optionValues = options.map(o => o.value);\n    const hasValuesNotInOptions = memoizedValues.some(v => !hasEqualValue(v, optionValues));\n\n    if (hasValuesNotInOptions) {\n      onChange({\n        field,\n        value: memoizedValues.filter(v => hasEqualValue(v, optionValues))\n      });\n    }\n\n  }, [ field, options, onChange, memoizedValues, loadState ]);\n\n}","import { useSingleLineTemplateEvaluation } from '../hooks';\n\n\nexport function Description(props) {\n  const { description, id } = props;\n\n  const evaluatedDescription = useSingleLineTemplateEvaluation(description || '', { debug: true });\n\n  if (!evaluatedDescription) {\n    return null;\n  }\n\n  return <div id={ id } class=\"fjs-form-field-description\">{ evaluatedDescription }</div>;\n}","export function Errors(props) {\n  const { errors, id } = props;\n\n  if (!errors.length) {\n    return null;\n  }\n\n  return <div class=\"fjs-form-field-error\" aria-live=\"polite\" id={ id }>\n    <ul>\n      {\n        errors.map(error => {\n          return <li>{ error }</li>;\n        })\n      }\n    </ul>\n  </div>;\n}","import classNames from 'classnames';\n\nimport { useSingleLineTemplateEvaluation } from '../hooks';\n\n\n/**\n * @typedef Props\n * @property {string|undefined} [id]\n * @property {string|undefined} [htmlFor]\n * @property {string|undefined} label\n * @property {string} [class]\n * @property {boolean} [collapseOnEmpty]\n * @property {boolean} [required]\n * @property {import(\"preact\").VNode} [children]\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nexport function Label(props) {\n  const {\n    id,\n    htmlFor,\n    label,\n    collapseOnEmpty = true,\n    required = false\n  } = props;\n\n  const evaluatedLabel = useSingleLineTemplateEvaluation(label || '', { debug: true });\n\n  return (\n    <label id={ id } for={ htmlFor } class={ classNames('fjs-form-field-label', { 'fjs-incollapsible-label': !collapseOnEmpty }, props['class']) }>\n      { props.children }\n      { evaluatedLabel }\n      {\n        required && <span class=\"fjs-asterix\" aria-hidden>*</span>\n      }\n    </label>\n  );\n}","import { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\n\nimport {\n  formFieldClasses\n} from '../Util';\n\nimport classNames from 'classnames';\n\nconst type = 'checkbox';\n\nexport function Checkbox(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value = false\n  } = props;\n\n  const {\n    description,\n    label,\n    validate = {}\n  } = field;\n\n  const { required } = validate;\n\n  const onChange = ({ target }) => {\n    props.onChange({\n      field,\n      value: target.checked\n    });\n  };\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return <div class={ classNames(formFieldClasses(type, { errors, disabled, readonly }), { 'fjs-checked': value }) }>\n    <Label\n      htmlFor={ domId }\n      label={ label }\n      required={ required }>\n      <input\n        checked={ value }\n        class=\"fjs-input\"\n        disabled={ disabled }\n        readOnly={ readonly }\n        id={ domId }\n        type=\"checkbox\"\n        onChange={ onChange }\n        onBlur={ () => onBlur && onBlur() }\n        onFocus={ () => onFocus && onFocus() }\n        required={ required }\n        aria-invalid={ errors.length > 0 }\n        aria-describedby={ [ descriptionId, errorMessageId ].join(' ') } />\n    </Label>\n    <Description id={ descriptionId } description={ description } />\n    <Errors id={ errorMessageId } errors={ errors } />\n  </div>;\n}\n\nCheckbox.config = {\n  type,\n  keyed: true,\n  label: 'Zaškrtávací pole',\n  group: 'selection',\n  emptyValue: false,\n  sanitizeValue: ({ value }) => value === true,\n  create: (options = {}) => ({\n    ...options\n  })\n};\n","import { useRef } from 'preact/hooks';\nimport { useOptionsAsync, LOAD_STATES } from '../../hooks/useOptionsAsync';\nimport { useCleanupMultiSelectValue } from '../../hooks/useCleanupMultiSelectValue';\nimport classNames from 'classnames';\nimport isEqual from 'lodash/isEqual';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\n\nimport { sanitizeMultiSelectValue, hasEqualValue } from '../util/sanitizerUtil';\n\nimport { createEmptyOptions } from '../util/optionsUtil';\n\nimport {\n  formFieldClasses\n} from '../Util';\n\nconst type = 'checklist';\n\n\nexport function Checklist(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value: values = [],\n  } = props;\n\n  const {\n    description,\n    label,\n    validate = {}\n  } = field;\n\n  const outerDivRef = useRef();\n\n  const { required } = validate;\n\n  const toggleCheckbox = (toggledValue) => {\n\n    const newValues = hasEqualValue(toggledValue, values)\n      ? values.filter(value => !isEqual(value, toggledValue))\n      : [ ...values, toggledValue ];\n\n    props.onChange({\n      field,\n      value: newValues,\n    });\n  };\n\n  const onCheckboxBlur = (e) => {\n\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n\n    onBlur && onBlur();\n  };\n\n  const onCheckboxFocus = (e) => {\n\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n\n    onFocus && onFocus();\n  };\n\n  const {\n    loadState,\n    options\n  } = useOptionsAsync(field);\n\n  useCleanupMultiSelectValue({\n    field,\n    loadState,\n    options,\n    values,\n    onChange: props.onChange\n  });\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return <div class={ classNames(formFieldClasses(type, { errors, disabled, readonly })) } ref={ outerDivRef }>\n    <Label\n      label={ label }\n      required={ required } />\n    {\n      loadState == LOAD_STATES.LOADED && options.map((o, index) => {\n\n        const itemDomId = `${domId}-${index}`;\n        const isChecked = hasEqualValue(o.value, values);\n\n        return (\n          <Label\n            htmlFor={ itemDomId }\n            label={ o.label }\n            class={ classNames({\n              'fjs-checked': isChecked\n            }) }\n            required={ false }>\n            <input\n              checked={ isChecked }\n              class=\"fjs-input\"\n              disabled={ disabled }\n              readOnly={ readonly }\n              id={ itemDomId }\n              type=\"checkbox\"\n              onClick={ () => toggleCheckbox(o.value) }\n              onBlur={ onCheckboxBlur }\n              onFocus={ onCheckboxFocus }\n              required={ required }\n              aria-invalid={ errors.length > 0 }\n              aria-describedby={ [ descriptionId, errorMessageId ].join(' ') } />\n          </Label>\n        );\n      })\n    }\n    <Description id={ descriptionId } description={ description } />\n    <Errors id={ errorMessageId } errors={ errors } />\n  </div>;\n}\n\nChecklist.config = {\n  type,\n  keyed: true,\n  label: 'Zaškrtávací seznam',\n  group: 'selection',\n  emptyValue: [],\n  sanitizeValue: sanitizeMultiSelectValue,\n  create: createEmptyOptions\n};\n","import { useCallback, useContext, useEffect, useMemo, useState } from 'preact/hooks';\nimport isEqual from 'lodash/isEqual';\n\nimport { get } from 'min-dash';\n\nimport { FormContext, FormRenderContext } from '../context';\n\nimport {\n  useCondition,\n  useReadonly,\n  useService\n} from '../hooks';\n\nimport { gridColumnClasses, prefixId } from './Util';\n\nconst noop = () => false;\n\n\nexport function FormField(props) {\n  const {\n    field,\n    indexes,\n    onChange\n  } = props;\n\n  const formFields = useService('formFields'),\n        viewerCommands = useService('viewerCommands', false),\n        pathRegistry = useService('pathRegistry'),\n        eventBus = useService('eventBus'),\n        form = useService('form');\n\n  const {\n    initialData,\n    data,\n    errors,\n    properties\n  } = form._getState();\n\n  const {\n    Element,\n    Hidden,\n    Column\n  } = useContext(FormRenderContext);\n\n  const { formId } = useContext(FormContext);\n\n  // track whether we should trigger initial validation on certain actions, e.g. field blur\n  // disabled straight away, if viewerCommands are not available\n  const [ initialValidationTrigger, setInitialValidationTrigger ] = useState(!!viewerCommands);\n\n  const FormFieldComponent = formFields.get(field.type);\n\n  if (!FormFieldComponent) {\n    throw new Error(`cannot render field <${field.type}>`);\n  }\n\n  const fieldConfig = FormFieldComponent.config;\n\n  const valuePath = useMemo(() => pathRegistry.getValuePath(field, { indexes }), [ field, indexes, pathRegistry ]);\n\n  const initialValue = useMemo(() => get(initialData, valuePath), [ initialData, valuePath ]);\n\n  const readonly = useReadonly(field, properties);\n\n  const value = get(data, valuePath);\n\n  // add precedence: global readonly > form field disabled\n  const disabled = !properties.readOnly && (\n    properties.disabled || field.disabled || false\n  );\n\n  // ensures the initial validation behavior can be re-triggered upon form reset\n  useEffect(() => {\n\n    if (!viewerCommands) {\n      return;\n    }\n\n    const resetValidation = () => {\n      setInitialValidationTrigger(true);\n    };\n\n    eventBus.on('import.done', resetValidation);\n    eventBus.on('reset', resetValidation);\n\n    return () => {\n      eventBus.off('import.done', resetValidation);\n      eventBus.off('reset', resetValidation);\n    };\n\n  }, [ eventBus, viewerCommands ]);\n\n  useEffect(() => {\n\n    const hasInitialValue = initialValue && !isEqual(initialValue, []);\n\n    if (initialValidationTrigger && hasInitialValue) {\n      setInitialValidationTrigger(false);\n      viewerCommands.updateFieldValidation(field, initialValue, indexes);\n    }\n\n  }, [ viewerCommands, field, initialValue, initialValidationTrigger, indexes ]);\n\n  const onBlur = useCallback(() => {\n\n    const value = get(data, valuePath);\n\n    if (initialValidationTrigger) {\n      setInitialValidationTrigger(false);\n      viewerCommands.updateFieldValidation(field, value, indexes);\n    }\n\n    eventBus.fire('formField.blur', { formField: field });\n\n  }, [ eventBus, field, indexes, viewerCommands, initialValidationTrigger, data, valuePath ]);\n\n  const onFocus = useCallback(() => {\n    eventBus.fire('formField.focus', { formField: field });\n  }, [ eventBus, field ]);\n\n  const hidden = useCondition(field.conditional && field.conditional.hide || null);\n\n  const onChangeIndexed = useCallback((update) => {\n\n    // any data change will trigger validation\n    setInitialValidationTrigger(false);\n\n    // add indexes of the keyed field to the update, if any\n    onChange(fieldConfig.keyed ? { ...update, indexes } : update);\n  }, [ onChange, fieldConfig.keyed, indexes ]);\n\n  if (hidden) {\n    return <Hidden field={ field } />;\n  }\n\n  const domId = `${prefixId(field.id, formId, indexes)}`;\n  const fieldErrors = get(errors, [ field.id, ...Object.values(indexes || {}) ]) || [];\n\n  const formFieldElement = (\n    <FormFieldComponent\n      { ...props }\n      disabled={ disabled }\n      errors={ fieldErrors }\n      domId={ domId }\n      onChange={ disabled || readonly ? noop : onChangeIndexed }\n      onBlur={ disabled || readonly ? noop : onBlur }\n      onFocus={ disabled || readonly ? noop : onFocus }\n      readonly={ readonly }\n      value={ value }\n    />\n  );\n\n  if (fieldConfig.escapeGridRender) {\n    return formFieldElement;\n  }\n\n  return (\n    <Column field={ field } class={ gridColumnClasses(field) }>\n      <Element class=\"fjs-element\" field={ field }>\n        { formFieldElement }\n      </Element>\n    </Column>\n  );\n}\n","import { useContext, useState } from 'preact/hooks';\n\nimport { useService } from '../../../hooks/useService';\n\nimport { FormField } from '../../FormField';\n\nimport { FormRenderContext } from '../../../context';\n\nexport function ChildrenRenderer(props) {\n\n  const {\n    Children\n  } = useContext(FormRenderContext);\n\n  const { field, Empty } = props;\n\n  const { id } = field;\n\n  const repeatRenderManager = useService('repeatRenderManager', false);\n\n  const isRepeating = repeatRenderManager && repeatRenderManager.isFieldRepeating(id);\n\n  const Repeater = repeatRenderManager.Repeater;\n  const RepeatFooter = repeatRenderManager.RepeatFooter;\n\n  return (\n    isRepeating\n      ? <RepeatChildrenRenderer { ...props } { ...{ ChildrenRoot: Children, Empty, Repeater, RepeatFooter, repeatRenderManager } } />\n      : <SimpleChildrenRenderer { ...props } { ...{ ChildrenRoot: Children, Empty } } />\n  );\n}\n\nfunction SimpleChildrenRenderer(props) {\n\n  const {\n    ChildrenRoot,\n    Empty,\n    field\n  } = props;\n\n  const { components = [] } = field;\n\n  const isEmpty = !components.length;\n\n  return (\n    <ChildrenRoot class=\"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed\" field={ field }>\n      <RowsRenderer { ...props } />\n      { isEmpty ? <Empty field={ field } /> : null }\n    </ChildrenRoot>\n  );\n}\n\nfunction RepeatChildrenRenderer(props) {\n\n  const {\n    ChildrenRoot,\n    repeatRenderManager,\n    Empty,\n    field,\n    ...restProps\n  } = props;\n\n  const { components = [] } = field;\n\n  const useSharedState = useState({ isCollapsed: true });\n\n  const Repeater = repeatRenderManager.Repeater;\n  const RepeatFooter = repeatRenderManager.RepeatFooter;\n\n  return <>\n    <ChildrenRoot class=\"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed\" field={ field }>\n      { Repeater ? <Repeater { ...{ ...restProps, useSharedState, field, RowsRenderer } } /> : <RowsRenderer { ...{ ...restProps, field } } /> }\n      { !components.length ? <Empty field={ field } /> : null }\n    </ChildrenRoot>\n    { RepeatFooter ? <RepeatFooter { ...{ ...restProps, useSharedState, field } } /> : null }\n  </>;\n}\n\nfunction RowsRenderer(props) {\n\n  const { field, indexes } = props;\n  const { id: parentId, verticalAlignment = 'start' } = field;\n\n  const formLayouter = useService('formLayouter');\n  const formFieldRegistry = useService('formFieldRegistry');\n  const rows = formLayouter.getRows(parentId);\n\n  const {\n    Row\n  } = useContext(FormRenderContext);\n\n  return <> {\n    rows.map(row => {\n      const {\n        components = []\n      } = row;\n\n      if (!components.length) {\n        return null;\n      }\n\n      return (\n        <Row row={ row } class=\"fjs-layout-row cds--row\" style={ { alignItems: verticalAlignment } }>\n          {\n            components.map(childId => {\n\n              const childField = formFieldRegistry.get(childId);\n\n              if (!childField) {\n                return null;\n              }\n\n              return (\n                <FormField\n                  { ...props }\n                  key={ childId }\n                  field={ childField }\n                  indexes={ indexes } />\n              );\n            })\n          }\n        </Row>\n      );\n    })\n  } </>;\n}\n","import { useContext } from 'preact/hooks';\nimport { FormRenderContext } from '../../context';\nimport { ChildrenRenderer } from './parts/ChildrenRenderer';\n\nexport function Default(props) {\n\n  const {\n    Empty,\n  } = useContext(FormRenderContext);\n\n  const fullProps = { ...props, Empty };\n\n  return <ChildrenRenderer { ...fullProps } />;\n}\n\nDefault.config = {\n  type: 'default',\n  keyed: false,\n  label: null,\n  group: null,\n  create: (options = {}) => ({\n    components: [],\n    ...options\n  })\n};\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"15\" fill=\"none\" viewBox=\"0 0 28 30\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M19 2H9V0H7v2H2a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5V0h-2v2ZM7 7V4H2v5h24V4h-5v3h-2V4H9v3H7Zm-5 4v17h24V11H2Z\" clip-rule=\"evenodd\"/></svg>","/**\n * Returns date format for the provided locale.\n * If the locale is not provided, uses the browser's locale.\n *\n * @param {string} [locale] - The locale to get date format for.\n * @returns {string} The date format for the locale.\n */\nexport function getLocaleDateFormat(locale = 'default') {\n  const parts = new Intl.DateTimeFormat(locale).formatToParts(new Date(Date.UTC(2020, 5, 5)));\n  return parts.map(part => {\n    const len = part.value.length;\n    switch (part.type) {\n    case 'day': return 'd'.repeat(len);\n    case 'month': return 'M'.repeat(len);\n    case 'year': return 'y'.repeat(len);\n    default: return part.value;\n    }\n  }).join('');\n}\n\n/**\n * Returns readable date format for the provided locale.\n * If the locale is not provided, uses the browser's locale.\n *\n * @param {string} [locale] - The locale to get readable date format for.\n * @returns {string} The readable date format for the locale.\n */\nexport function getLocaleReadableDateFormat(locale) {\n  let format = getLocaleDateFormat(locale).toLowerCase();\n\n  // Ensure month is in 'mm' format\n  if (!format.includes('mm')) {\n    format = format.replace('m', 'mm');\n  }\n\n  // Ensure day is in 'dd' format\n  if (!format.includes('dd')) {\n    format = format.replace('d', 'dd');\n  }\n\n  return format;\n}\n\n/**\n * Returns flatpickr config for the provided locale.\n * If the locale is not provided, uses the browser's locale.\n *\n * @param {string} [locale] - The locale to get flatpickr config for.\n * @returns {object} The flatpickr config for the locale.\n */\nexport function getLocaleDateFlatpickrConfig(locale) {\n  return flatpickerizeDateFormat(getLocaleDateFormat(locale));\n}\n\nfunction flatpickerizeDateFormat(dateFormat) {\n\n  const useLeadingZero = {\n    day: dateFormat.includes('dd'),\n    month: dateFormat.includes('MM'),\n    year: dateFormat.includes('yyyy')\n  };\n\n  dateFormat = useLeadingZero.day ? dateFormat.replace('dd', 'd') : dateFormat.replace('d', 'j');\n  dateFormat = useLeadingZero.month ? dateFormat.replace('MM', 'm') : dateFormat.replace('M', 'n');\n  dateFormat = useLeadingZero.year ? dateFormat.replace('yyyy', 'Y') : dateFormat.replace('yy', 'y');\n\n  return dateFormat;\n}\n","import classNames from 'classnames';\nimport { isString } from 'min-dash';\n\nexport function InputAdorner(props) {\n\n  const {\n    pre,\n    post,\n    rootRef,\n    inputRef,\n    children,\n    disabled,\n    readonly,\n    hasErrors\n  } = props;\n\n  const onAdornmentClick = () => inputRef && inputRef.current && inputRef.current.focus();\n\n  return <div class={ classNames('fjs-input-group', { 'fjs-disabled': disabled, 'fjs-readonly': readonly }, { 'hasErrors': hasErrors }) } ref={ rootRef }>\n    { pre && <span class=\"fjs-input-adornment border-right border-radius-left\" onClick={ onAdornmentClick }> { isString(pre) ? <span class=\"fjs-input-adornment-text\">{ pre }</span> : pre } </span> }\n    { children }\n    { post && <span class=\"fjs-input-adornment border-left border-radius-right\" onClick={ onAdornmentClick }> { isString(post) ? <span class=\"fjs-input-adornment-text\">{ post }</span> : post } </span> }\n  </div>;\n\n}","import flatpickr from 'flatpickr';\nimport CalendarIcon from '../icons/Calendar.svg';\n\nimport { ENTER_KEYDOWN_EVENT, focusRelevantFlatpickerDay } from '../../util/dateTimeUtil';\nimport { getLocaleReadableDateFormat, getLocaleDateFlatpickrConfig } from '../../util/localisationUtil';\nimport { useCallback, useEffect, useRef, useState } from 'preact/hooks';\nimport { useDeepCompareMemoize } from '../../../hooks';\n\nimport { InputAdorner } from './InputAdorner';\nimport { Label } from '../../Label';\n\nexport function Datepicker(props) {\n\n  const {\n    label,\n    domId,\n    collapseLabelOnEmpty,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    required,\n    disabled,\n    disallowPassedDates,\n    date: dateObject,\n    readonly,\n    setDate\n  } = props;\n\n  const dateInputRef = useRef();\n  const focusScopeRef = useRef();\n\n  const [ flatpickrInstance, setFlatpickrInstance ] = useState(null);\n  const [ isInputDirty, setIsInputDirty ] = useState(false);\n  const [ forceFocusCalendar, setForceFocusCalendar ] = useState(false);\n\n  // ensures we render based on date value instead of reference\n  const date = useDeepCompareMemoize(dateObject);\n\n  // shorts the date value back to the source\n  useEffect(() => {\n\n    if (!flatpickrInstance || !flatpickrInstance.config) return;\n\n    flatpickrInstance.setDate(date, true);\n    setIsInputDirty(false);\n\n  }, [ flatpickrInstance, date ]);\n\n  useEffect(() => {\n\n    if (!forceFocusCalendar) return;\n\n    focusRelevantFlatpickerDay(flatpickrInstance);\n    setForceFocusCalendar(false);\n\n  }, [ flatpickrInstance, forceFocusCalendar ]);\n\n  // setup flatpickr instance\n  useEffect(() => {\n\n    let config = {\n      allowInput: true,\n      dateFormat: getLocaleDateFlatpickrConfig(),\n      static: true,\n      clickOpens: false,\n\n      // TODO: support dates prior to 1900 (https://github.com/bpmn-io/form-js/issues/533)\n      minDate: disallowPassedDates ? 'today' : '01/01/1900',\n      errorHandler: () => { /* do nothing, we expect the values to sometimes be erronous and we don't want warnings polluting the console */ }\n    };\n\n    const instance = flatpickr(dateInputRef.current, config);\n\n    setFlatpickrInstance(instance);\n\n    const onCalendarFocusOut = (e) => {\n      if (!instance.calendarContainer.contains(e.relatedTarget) && e.relatedTarget != dateInputRef.current) {\n        instance.close();\n      }\n    };\n\n    // remove dirty tag to have mouse day selection prioritize input blur\n    const onCalendarMouseDown = (e) => {\n      if (e.target.classList.contains('flatpickr-day')) {\n        setIsInputDirty(false);\n      }\n    };\n\n    // when the dropdown of the datepickr opens, we register a few event handlers to re-implement some of the\n    // flatpicker logic that was lost when setting allowInput to true\n    instance.config.onOpen = [\n      () => instance.calendarContainer.addEventListener('focusout', onCalendarFocusOut),\n      () => instance.calendarContainer.addEventListener('mousedown', onCalendarMouseDown),\n    ];\n\n    instance.config.onClose = [\n      () => instance.calendarContainer.removeEventListener('focusout', onCalendarFocusOut),\n      () => instance.calendarContainer.removeEventListener('mousedown', onCalendarMouseDown),\n    ];\n\n  }, [ disallowPassedDates ]);\n\n  // onChange is updated dynamically, so not to re-render the flatpicker every time it changes\n  useEffect(() => {\n\n    if (!flatpickrInstance || !flatpickrInstance.config) return;\n\n    flatpickrInstance.config.onChange = [ (date) => setDate(new Date(date)), () => setIsInputDirty(false) ];\n\n  }, [ flatpickrInstance, setDate ]);\n\n  const onInputKeyDown = useCallback(\n    (e) => {\n\n      if (!flatpickrInstance) return;\n\n      if (e.code === 'Escape') {\n        flatpickrInstance.close();\n      }\n\n      if (e.code === 'ArrowDown') {\n\n        if (isInputDirty) {\n\n          // trigger an enter keypress to submit the new input, then focus calendar day on the next render cycle\n          dateInputRef.current.dispatchEvent(ENTER_KEYDOWN_EVENT);\n          setIsInputDirty(false);\n          setForceFocusCalendar(true);\n        }\n        else {\n\n          // focus calendar day immediately\n          focusRelevantFlatpickerDay(flatpickrInstance);\n        }\n\n        e.preventDefault();\n      }\n\n      if (e.code === 'Enter') {\n        setIsInputDirty(false);\n      }\n    },\n    [ flatpickrInstance, isInputDirty ],\n  );\n\n  const onInputFocus = useCallback(\n    (e) => {\n\n      if (!flatpickrInstance || focusScopeRef.current.contains(e.relatedTarget) || readonly) return;\n      flatpickrInstance.open();\n      onDateTimeFocus(e);\n\n    }, [ flatpickrInstance, readonly, onDateTimeFocus ]\n  );\n\n  // simulate an enter press on blur to make sure the date value is submitted in all scenarios\n  const onInputBlur = useCallback(\n    (e) => {\n\n      const isFalseBlur = e.relatedTarget && e.relatedTarget.classList.contains('flatpickr-day');\n      if (isFalseBlur) return;\n      if (isInputDirty) {\n        dateInputRef.current.dispatchEvent(ENTER_KEYDOWN_EVENT);\n        setIsInputDirty(false);\n      }\n\n      onDateTimeBlur(e);\n\n    }, [ isInputDirty, onDateTimeBlur ]\n  );\n\n  return <div class=\"fjs-datetime-subsection\">\n    <Label\n      htmlFor={ domId }\n      label={ label }\n      collapseOnEmpty={ collapseLabelOnEmpty }\n      required={ required } />\n    <InputAdorner\n      pre={ <CalendarIcon /> }\n      disabled={ disabled }\n      readonly={ readonly }\n      rootRef={ focusScopeRef }\n      inputRef={ dateInputRef }>\n      <div class=\"fjs-datepicker\" style={ { width: '100%' } }>\n        <input ref={ dateInputRef }\n          type=\"text\"\n          id={ domId }\n          class=\"fjs-input\"\n          disabled={ disabled }\n          readOnly={ readonly }\n          placeholder={ getLocaleReadableDateFormat() }\n          autoComplete=\"off\"\n          onFocus={ onInputFocus }\n          onBlur={ onInputBlur }\n          onKeyDown={ onInputKeyDown }\n          onMouseDown={ () => !flatpickrInstance.isOpen && !readonly && flatpickrInstance.open() }\n          onInput={ () => setIsInputDirty(true) }\n          data-input\n          aria-describedby={ props['aria-describedby'] } />\n      </div>\n    </InputAdorner>\n  </div>\n  ;\n}\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\" viewBox=\"0 0 28 29\"><path fill=\"currentColor\" d=\"M13 14.41 18.59 20 20 18.59l-5-5.01V5h-2v9.41Z\"/><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M6.222 25.64A14 14 0 1 0 21.778 2.36 14 14 0 0 0 6.222 25.64ZM7.333 4.023a12 12 0 1 1 13.334 19.955A12 12 0 0 1 7.333 4.022Z\" clip-rule=\"evenodd\"/></svg>","import classNames from 'classnames';\nimport { useState, useEffect, useCallback, useRef, useMemo } from 'preact/hooks';\nimport { useKeyDownAction } from '../../../hooks/useKeyDownAction';\n\nconst DEFAULT_LABEL_GETTER = (value) => value;\nconst NOOP = () => {};\n\nexport function DropdownList(props) {\n\n  const {\n    listenerElement = window,\n    values = [],\n    getLabel = DEFAULT_LABEL_GETTER,\n    onValueSelected = NOOP,\n    height = 235,\n    emptyListMessage = 'No results',\n    initialFocusIndex = 0\n  } = props;\n\n  const [ mouseControl, setMouseControl ] = useState(false);\n  const [ focusedValueIndex, setFocusedValueIndex ] = useState(initialFocusIndex);\n  const [ smoothScrolling, setSmoothScrolling ] = useState(false);\n  const dropdownContainer = useRef();\n  const mouseScreenPos = useRef();\n\n  const focusedItem = useMemo(() => values.length ? values[focusedValueIndex] : null, [ focusedValueIndex, values ]);\n\n  const changeFocusedValueIndex = useCallback((delta) => {\n    setFocusedValueIndex(x => Math.min(Math.max(0, x + delta), values.length - 1));\n  }, [ values.length ]);\n\n  useEffect(() => {\n    if (focusedValueIndex === 0) return;\n\n    if (!focusedValueIndex || !values.length) {\n      setFocusedValueIndex(0);\n    }\n    else if (focusedValueIndex >= values.length) {\n      setFocusedValueIndex(values.length - 1);\n    }\n  }, [ focusedValueIndex, values.length ]);\n\n  useKeyDownAction('ArrowUp', () => {\n    if (values.length) {\n      changeFocusedValueIndex(-1);\n      setMouseControl(false);\n    }\n  }, listenerElement);\n\n  useKeyDownAction('ArrowDown', () => {\n    if (values.length) {\n      changeFocusedValueIndex(1);\n      setMouseControl(false);\n    }\n  }, listenerElement);\n\n  useKeyDownAction('Enter', () => {\n    if (focusedItem) {\n      onValueSelected(focusedItem);\n    }\n  }, listenerElement);\n\n  useEffect(() => {\n    const individualEntries = dropdownContainer.current.children;\n    if (individualEntries.length && !mouseControl) {\n      const focusedEntry = individualEntries[focusedValueIndex];\n      focusedEntry && focusedEntry.scrollIntoView({ block: 'nearest', inline: 'nearest' });\n    }\n  }, [ focusedValueIndex, mouseControl ]);\n\n  useEffect(() => {\n    setSmoothScrolling(true);\n  }, []);\n\n  const onMouseMovedInKeyboardMode = (event, valueIndex) => {\n\n    const userMovedCursor = !mouseScreenPos.current || mouseScreenPos.current.x !== event.screenX && mouseScreenPos.current.y !== event.screenY;\n\n    if (userMovedCursor) {\n      mouseScreenPos.current = { x: event.screenX, y: event.screenY };\n      setMouseControl(true);\n      setFocusedValueIndex(valueIndex);\n    }\n\n  };\n\n  return <div\n    ref={ dropdownContainer }\n    tabIndex={ -1 }\n    class=\"fjs-dropdownlist\"\n    onMouseDown={ (e) => e.preventDefault() }\n    style={ { maxHeight: height, scrollBehavior: smoothScrolling ? 'smooth' : 'auto' } }>\n    {\n      values.length > 0 && values.map((v, i) => {\n        return (\n          <div\n            class={ classNames('fjs-dropdownlist-item', { 'focused': focusedValueIndex === i }) }\n            onMouseMove={ mouseControl ? undefined : (e) => onMouseMovedInKeyboardMode(e, i) }\n            onMouseEnter={ mouseControl ? () => setFocusedValueIndex(i) : undefined }\n            onMouseDown={ (e) => onValueSelected(v) }>\n            {getLabel(v)}\n          </div>\n        );\n      })\n    }\n    {\n      !values.length && <div class=\"fjs-dropdownlist-empty\">{ emptyListMessage }</div>\n    }\n  </div>;\n}","import { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { formatTime, parseInputTime } from '../../util/dateTimeUtil';\nimport { isNumber } from 'min-dash';\n\nimport ClockIcon from '../icons/Clock.svg';\nimport { DropdownList } from './DropdownList';\nimport { InputAdorner } from './InputAdorner';\nimport { Label } from '../../Label';\n\nexport function Timepicker(props) {\n\n  const {\n    label,\n    collapseLabelOnEmpty,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    domId,\n    required,\n    disabled,\n    readonly,\n    use24h = false,\n    timeInterval,\n    time,\n    setTime\n  } = props;\n\n  const safeTimeInterval = useMemo(() => {\n\n    const allowedIntervals = [ 1, 5, 10, 15, 30, 60 ];\n\n    if (allowedIntervals.includes(timeInterval)) {\n      return timeInterval;\n    }\n\n    return 15;\n\n  }, [ timeInterval ]);\n\n  const timeInputRef = useRef();\n  const [ dropdownIsOpen, setDropdownIsOpen ] = useState(false);\n  const useDropdown = useMemo(() => safeTimeInterval !== 1, [ safeTimeInterval ]);\n\n  const [ rawValue, setRawValue ] = useState('');\n\n  // populates values from source\n  useEffect(() => {\n    if (time === null) {\n      setRawValue('');\n      return;\n    }\n\n    const intervalAdjustedTime = time - (time % safeTimeInterval);\n    setRawValue(formatTime(use24h, intervalAdjustedTime));\n\n    if (intervalAdjustedTime != time) {\n      setTime(intervalAdjustedTime);\n    }\n\n  }, [ time, setTime, use24h, safeTimeInterval ]);\n\n  const propagateRawToMinute = useCallback((newRawValue) => {\n\n    const localRawValue = newRawValue || rawValue;\n\n    // If no raw value exists, set the minute to null\n    if (!localRawValue) {\n      setTime(null);\n      return;\n    }\n\n    const minutes = parseInputTime(localRawValue);\n\n    // If raw string couldn't be parsed, clean everything up\n    if (!isNumber(minutes)) {\n      setRawValue('');\n      setTime(null);\n      return;\n    }\n\n    // Enforce the minutes to match the timeInterval\n    const correctedMinutes = minutes - (minutes % safeTimeInterval);\n\n    // Enforce the raw text to be formatted properly\n    setRawValue(formatTime(use24h, correctedMinutes));\n    setTime(correctedMinutes);\n\n  }, [ rawValue, safeTimeInterval, use24h, setTime ]);\n\n  const timeOptions = useMemo(() => {\n\n    const minutesInDay = 24 * 60;\n    const intervalCount = Math.floor(minutesInDay / safeTimeInterval);\n    return [ ...Array(intervalCount).keys() ].map(intervalIndex => formatTime(use24h, intervalIndex * safeTimeInterval));\n\n  }, [ safeTimeInterval, use24h ]);\n\n  const initialFocusIndex = useMemo(() => {\n\n    // if there are no options, there will not be any focusing\n    if (!timeOptions || !safeTimeInterval) return null;\n\n    // if there is a set minute value, we focus it in the dropdown\n    if (time) return time / safeTimeInterval;\n\n    const cacheTime = parseInputTime(rawValue);\n\n    // if there is a valid value in the input cache, we try and focus close to it\n    if (cacheTime) {\n      const flooredCacheTime = cacheTime - cacheTime % safeTimeInterval;\n      return flooredCacheTime / safeTimeInterval;\n    }\n\n    // If there is no set value, simply focus the middle of the dropdown (12:00)\n    return Math.floor(timeOptions.length / 2);\n\n  }, [ rawValue, time, safeTimeInterval, timeOptions ]);\n\n  const onInputKeyDown = (e) => {\n    switch (e.key) {\n    case 'ArrowUp':\n      e.preventDefault();\n      break;\n    case 'ArrowDown':\n      useDropdown && setDropdownIsOpen(true);\n      e.preventDefault();\n      break;\n    case 'Escape':\n      useDropdown && setDropdownIsOpen(false);\n      break;\n    case 'Enter':\n      !dropdownIsOpen && propagateRawToMinute();\n      break;\n    }\n  };\n\n  const onInputBlur = (e) => {\n    setDropdownIsOpen(false);\n    propagateRawToMinute();\n    onDateTimeBlur(e);\n  };\n\n  const onInputFocus = (e) => {\n    onDateTimeFocus(e);\n    !readonly && useDropdown && setDropdownIsOpen(true);\n  };\n\n  const onDropdownValueSelected = (value) => {\n    setDropdownIsOpen(false);\n    propagateRawToMinute(value);\n  };\n\n  return <div class=\"fjs-datetime-subsection\">\n    <Label\n      htmlFor={ domId }\n      label={ label }\n      collapseOnEmpty={ collapseLabelOnEmpty }\n      required={ required } />\n    <InputAdorner\n      pre={ <ClockIcon /> }\n      inputRef={ timeInputRef }\n      disabled={ disabled }\n      readonly={ readonly }>\n      <div class=\"fjs-timepicker fjs-timepicker-anchor\">\n        <input ref={ timeInputRef }\n          type=\"text\"\n          id={ domId }\n          class=\"fjs-input\"\n          value={ rawValue }\n          disabled={ disabled }\n          readOnly={ readonly }\n          placeholder={ use24h ? 'hh:mm' : 'hh:mm ?m' }\n          autoComplete=\"off\"\n\n          // @ts-ignore\n          onInput={ (e) => { setRawValue(e.target.value); useDropdown && setDropdownIsOpen(false); } }\n          onBlur={ onInputBlur }\n          onFocus={ onInputFocus }\n          onClick={ () => !readonly && useDropdown && setDropdownIsOpen(true) }\n          onKeyDown={ onInputKeyDown }\n          data-input\n          aria-describedby={ props['aria-describedby'] } />\n\n        { dropdownIsOpen && <DropdownList\n          values={ timeOptions }\n          height={ 150 }\n          onValueSelected={ onDropdownValueSelected }\n          listenerElement={ timeInputRef.current }\n          initialFocusIndex={ initialFocusIndex } /> }\n\n      </div>\n    </InputAdorner>\n  </div>;\n}\n","import { useCallback, useContext, useMemo, useState, useEffect, useRef } from 'preact/hooks';\n\nimport classNames from 'classnames';\n\nimport { set } from 'min-dash';\n\nimport { FormContext } from '../../context';\n\nimport { DATETIME_SUBTYPES, DATETIME_SUBTYPE_PATH, DATE_LABEL_PATH } from '../../../util/constants/DatetimeConstants';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Datepicker } from './parts/Datepicker';\nimport { Timepicker } from './parts/Timepicker';\n\nimport { formFieldClasses, prefixId } from '../Util';\nimport { sanitizeDateTimePickerValue } from '../util/sanitizerUtil';\nimport { parseIsoTime, serializeDate, serializeDateTime, serializeTime, getNullDateTime, isValidDate, isValidTime } from '../util/dateTimeUtil';\n\nconst type = 'datetime';\n\nexport function Datetime(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    onChange,\n    readonly,\n    value = ''\n  } = props;\n\n  const {\n    description,\n    id,\n    dateLabel,\n    timeLabel,\n    validate = {},\n    subtype,\n    use24h,\n    disallowPassedDates,\n    timeInterval,\n    timeSerializingFormat\n  } = field;\n\n  const { required } = validate;\n  const { formId } = useContext(FormContext);\n  const dateTimeGroupRef = useRef();\n\n  const [ dateTime, setDateTime ] = useState(getNullDateTime());\n  const [ dateTimeUpdateRequest, setDateTimeUpdateRequest ] = useState(null);\n\n  const useDatePicker = useMemo(() => subtype === DATETIME_SUBTYPES.DATE || subtype === DATETIME_SUBTYPES.DATETIME, [ subtype ]);\n  const useTimePicker = useMemo(() => subtype === DATETIME_SUBTYPES.TIME || subtype === DATETIME_SUBTYPES.DATETIME, [ subtype ]);\n\n  const onDateTimeBlur = useCallback((e) => {\n    if (e.relatedTarget && dateTimeGroupRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n\n    onBlur && onBlur();\n  }, [ onBlur ]);\n\n  const onDateTimeFocus = useCallback((e) => {\n    if (e.relatedTarget && dateTimeGroupRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n\n    onFocus && onFocus();\n  }, [ onFocus ]);\n\n  useEffect(() => {\n\n    let { date, time } = getNullDateTime();\n\n    switch (subtype) {\n    case DATETIME_SUBTYPES.DATE: {\n      date = new Date(Date.parse(value));\n      break;\n    }\n    case DATETIME_SUBTYPES.TIME: {\n      time = parseIsoTime(value);\n      break;\n    }\n    case DATETIME_SUBTYPES.DATETIME: {\n      date = new Date(Date.parse(value));\n      time = isValidDate(date) ? 60 * date.getHours() + date.getMinutes() : null;\n      break;\n    }}\n\n    setDateTime({ date, time });\n\n  }, [ subtype, value ]);\n\n  const computeAndSetState = useCallback(({ date, time }) => {\n\n    let newDateTimeValue = null;\n\n    if (subtype === DATETIME_SUBTYPES.DATE && isValidDate(date)) {\n      newDateTimeValue = serializeDate(date);\n    }\n    else if (subtype === DATETIME_SUBTYPES.TIME && isValidTime(time)) {\n      newDateTimeValue = serializeTime(time, new Date().getTimezoneOffset(), timeSerializingFormat);\n    }\n    else if (subtype === DATETIME_SUBTYPES.DATETIME && isValidDate(date) && isValidTime(time)) {\n      newDateTimeValue = serializeDateTime(date, time, timeSerializingFormat);\n    }\n\n    if (value === newDateTimeValue) {\n      return;\n    }\n\n    onChange({ value: newDateTimeValue, field });\n\n  }, [ value, field, onChange, subtype, timeSerializingFormat ]);\n\n  useEffect(() => {\n    if (dateTimeUpdateRequest) {\n      if (dateTimeUpdateRequest.refreshOnly) {\n        computeAndSetState(dateTime);\n      }\n      else {\n        const newDateTime = { ...dateTime, ...dateTimeUpdateRequest };\n        setDateTime(newDateTime);\n        computeAndSetState(newDateTime);\n      }\n      setDateTimeUpdateRequest(null);\n    }\n  }, [ computeAndSetState, dateTime, dateTimeUpdateRequest ]);\n\n  useEffect(() => {\n    setDateTimeUpdateRequest({ refreshOnly: true });\n  }, [ timeSerializingFormat ]);\n\n  const allErrors = useMemo(() => {\n    if (required || subtype !== DATETIME_SUBTYPES.DATETIME) return errors;\n    const isOnlyOneFieldSet = (isValidDate(dateTime.date) && !isValidTime(dateTime.time)) || (!isValidDate(dateTime.date) && isValidTime(dateTime.time));\n    return isOnlyOneFieldSet ? [ 'Pole pro datum i čas musí být vyplněné.', ...errors ] : errors;\n  }, [ required, subtype, dateTime, errors ]);\n\n  const setDate = useCallback((date) => {\n    setDateTimeUpdateRequest((prev) => (prev ? { ...prev, date } : { date }));\n  }, []);\n\n  const setTime = useCallback((time) => {\n    setDateTimeUpdateRequest((prev) => (prev ? { ...prev, time } : { time }));\n  }, []);\n\n  const errorMessageId = allErrors.length === 0 ? undefined : `${prefixId(id, formId)}-error-message`;\n  const descriptionId = `${prefixId(id, formId)}-description`;\n\n  const datePickerProps = {\n    label: dateLabel,\n    collapseLabelOnEmpty: !timeLabel,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    domId: `${domId}-date`,\n    required,\n    disabled,\n    disallowPassedDates,\n    date: dateTime.date,\n    readonly,\n    setDate,\n    'aria-describedby': [ descriptionId, errorMessageId ].join(' ')\n  };\n\n  const timePickerProps = {\n    label: timeLabel,\n    collapseLabelOnEmpty: !dateLabel,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    domId: `${domId}-time`,\n    required,\n    disabled,\n    readonly,\n    use24h,\n    timeInterval,\n    time: dateTime.time,\n    setTime,\n    'aria-describedby': [ descriptionId, errorMessageId ].join(' ')\n  };\n\n  return <div class={ formFieldClasses(type, { errors: allErrors, disabled, readonly }) }>\n    <div class={ classNames('fjs-vertical-group') } ref={ dateTimeGroupRef }>\n      { useDatePicker && <Datepicker { ...datePickerProps } /> }\n      { useTimePicker && useDatePicker && <div class=\"fjs-datetime-separator\" /> }\n      { useTimePicker && <Timepicker { ...timePickerProps } /> }\n    </div>\n    <Description id={ descriptionId } description={ description } />\n    <Errors errors={ allErrors } id={ errorMessageId } />\n  </div>;\n}\n\nDatetime.config = {\n  type,\n  keyed: true,\n  label: 'Datum a čas',\n  group: 'basic-input',\n  emptyValue: null,\n  sanitizeValue: sanitizeDateTimePickerValue,\n  create: (options = {}) => {\n    const defaults = {};\n    set(defaults, DATETIME_SUBTYPE_PATH, DATETIME_SUBTYPES.DATE);\n    set(defaults, DATE_LABEL_PATH, 'Datum');\n\n    return { ...defaults, ...options };\n  }\n};\n","import classNames from 'classnames';\nimport { useContext } from 'preact/hooks';\nimport { FormRenderContext } from '../../context';\nimport { formFieldClasses } from '../Util';\nimport { Label } from '../Label';\nimport { ChildrenRenderer } from './parts/ChildrenRenderer';\n\nexport function Group(props) {\n\n  const { field, domId } = props;\n  const { label, type, showOutline } = field;\n  const { Empty } = useContext(FormRenderContext);\n\n  const fullProps = { ...props, Empty };\n\n  return (\n    <div className={ classNames(formFieldClasses(type), 'fjs-form-field-grouplike' , { 'fjs-outlined' : showOutline }) } role=\"group\" aria-labelledby={ domId }>\n      <Label\n        id={ domId }\n        label={ label } />\n      <ChildrenRenderer { ...fullProps } />\n    </div>\n  );\n}\n\nGroup.config = {\n  type: 'group',\n  pathed: true,\n  label: 'Skupina',\n  group: 'container',\n  create: (options = {}) => ({\n    components: [],\n    showOutline: true,\n    ...options\n  })\n};\n","import { useEffect, useMemo, useState } from 'preact/hooks';\n\nimport { useSingleLineTemplateEvaluation, useSecurityAttributesMap } from '../../hooks';\nimport { sanitizeIFrameSource } from '../util/sanitizerUtil';\n\nimport { Label } from '../Label';\n\nimport { formFieldClasses } from '../Util';\n\n\nconst type = 'iframe';\n\nconst DEFAULT_HEIGHT = 300;\n\n\nexport function IFrame(props) {\n  const {\n    field,\n    disabled,\n    readonly,\n    domId\n  } = props;\n\n  const {\n    height = DEFAULT_HEIGHT,\n    label,\n    url,\n    security = {}\n  } = field;\n\n  const evaluatedUrl = useSingleLineTemplateEvaluation(url, { debug: true });\n\n  const safeUrl = useMemo(() => sanitizeIFrameSource(evaluatedUrl), [ evaluatedUrl ]);\n\n  const evaluatedLabel = useSingleLineTemplateEvaluation(label, { debug: true });\n\n  const [ sandbox, allow ] = useSecurityAttributesMap(security);\n  const [ iframeRefresh, setIframeRefresh ] = useState(0);\n\n  // forces re-render of iframe when sandbox or allow attributes change, as browsers do not do it automatically\n  useEffect(() => {\n    setIframeRefresh(count => count + 1);\n  }, [ sandbox, allow ]);\n\n  return <div class={ formFieldClasses(type, { disabled, readonly }) }>\n    <Label htmlFor={ domId } label={ evaluatedLabel } />\n    {\n      !evaluatedUrl && <IFramePlaceholder text=\"Žádný dostupný obsah.\" />\n    }\n    {\n      evaluatedUrl && safeUrl &&\n        <iframe\n          src={ safeUrl }\n          title={ evaluatedLabel }\n          height={ height }\n          class=\"fjs-iframe\"\n          id={ domId }\n          sandbox={ sandbox }\n          key={ 'iframe-' + iframeRefresh }\n\n          /* @Note: JSX HTML attributes do not include <allow> */\n          { ...{ allow } }\n        />\n    }\n    {\n      evaluatedUrl && !safeUrl && <IFramePlaceholder text=\"External content couldn't be loaded.\" />\n    }\n  </div>;\n}\n\nfunction IFramePlaceholder(props) {\n  const { text = 'iFrame' } = props;\n\n  return <div class=\"fjs-iframe-placeholder\">\n    <p class=\"fjs-iframe-placeholder-text\">{ text }</p>\n  </div>;\n}\n\nIFrame.config = {\n  type,\n  keyed: false,\n  label: 'iFrame',\n  group: 'container',\n  create: (options = {}) => ({\n    security: {\n      allowScripts: true\n    },\n    ...options\n  })\n};\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 17a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V20a3 3 0 0 1 3-3h36zm-9 8.889H18v2.222h18v-2.222z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path d=\"M34 18H20a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V20a2 2 0 0 0-2-2zm-9 14-5-5 1.41-1.41L25 29.17l7.59-7.59L34 23l-9 9z\"/></svg>","<svg width=\"54\" height=\"54\" viewBox=\"0 0 54 54\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.35 24.75H19V29.4H14.35V24.75ZM12.9358 23.3358C13.3109 22.9607 13.8196 22.75 14.35 22.75H19C19.5304 22.75 20.0391 22.9607 20.4142 23.3358C20.7893 23.7109 21 24.2196 21 24.75V29.4C21 29.9304 20.7893 30.4391 20.4142 30.8142C20.0391 31.1893 19.5304 31.4 19 31.4H14.35C13.8196 31.4 13.3109 31.1893 12.9358 30.8142C12.5607 30.4391 12.35 29.9304 12.35 29.4V24.75C12.35 24.2196 12.5607 23.7109 12.9358 23.3358ZM14.35 37.05H19V41.7H14.35V37.05ZM12.9358 35.6358C13.3109 35.2607 13.8196 35.05 14.35 35.05H19C19.5304 35.05 20.0391 35.2607 20.4142 35.6358C20.7893 36.0109 21 36.5196 21 37.05V41.7C21 42.2304 20.7893 42.7391 20.4142 43.1142C20.0391 43.4893 19.5304 43.7 19 43.7H14.35C13.8196 43.7 13.3109 43.4893 12.9358 43.1142C12.5607 42.7391 12.35 42.2304 12.35 41.7V37.05C12.35 36.5196 12.5607 36.0109 12.9358 35.6358ZM14.35 12.45H19V17.1H14.35V12.45ZM12.9358 11.0358C13.3109 10.6607 13.8196 10.45 14.35 10.45H19C19.5304 10.45 20.0391 10.6607 20.4142 11.0358C20.7893 11.4109 21 11.9196 21 12.45V17.1C21 17.6304 20.7893 18.1391 20.4142 18.5142C20.0391 18.8893 19.5304 19.1 19 19.1H14.35C13.8196 19.1 13.3109 18.8893 12.9358 18.5142C12.5607 18.1391 12.35 17.6304 12.35 17.1V12.45C12.35 11.9196 12.5607 11.4109 12.9358 11.0358ZM24.9429 26.0128C24.7554 26.2004 24.65 26.4547 24.65 26.7199V27.3699C24.65 27.6352 24.7554 27.8895 24.9429 28.077C25.1304 28.2646 25.3848 28.3699 25.65 28.3699H40.65C40.9152 28.3699 41.1696 28.2646 41.3571 28.077C41.5446 27.8895 41.65 27.6352 41.65 27.3699V26.7199C41.65 26.4547 41.5446 26.2004 41.3571 26.0128C41.1696 25.8253 40.9152 25.7199 40.65 25.7199H25.65C25.3848 25.7199 25.1304 25.8253 24.9429 26.0128ZM24.9429 38.3128C24.7554 38.5004 24.65 38.7547 24.65 39.0199V39.6699C24.65 39.9352 24.7554 40.1895 24.9429 40.377C25.1304 40.5646 25.3848 40.6699 25.65 40.6699H40.65C40.9152 40.6699 41.1696 40.5646 41.3571 40.377C41.5446 40.1895 41.65 39.9352 41.65 39.6699V39.0199C41.65 38.7547 41.5446 38.5004 41.3571 38.3128C41.1696 38.1253 40.9152 38.0199 40.65 38.0199H25.65C25.3848 38.0199 25.1304 38.1253 24.9429 38.3128ZM24.9429 13.7128C24.7554 13.9004 24.65 14.1547 24.65 14.4199V15.0699C24.65 15.3352 24.7554 15.5895 24.9429 15.777C25.1304 15.9646 25.3848 16.0699 25.65 16.0699H40.65C40.9152 16.0699 41.1696 15.9646 41.3571 15.777C41.5446 15.5895 41.65 15.3352 41.65 15.0699V14.4199C41.65 14.1547 41.5446 13.9004 41.3571 13.7128C41.1696 13.5253 40.9152 13.4199 40.65 13.4199H25.65C25.3848 13.4199 25.1304 13.5253 24.9429 13.7128Z\" fill=\"currentColor\"/>\n</svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M37.908 13.418h-5.004v-2.354h-1.766v2.354H21.13v-2.354h-1.766v2.354H14.36a2.07 2.07 0 0 0-2.06 2.06v23.549a2.07 2.07 0 0 0 2.06 2.06h6.77v-1.766h-6.358a.707.707 0 0 1-.706-.706V15.89c0-.39.316-.707.706-.707h4.592v2.355h1.766v-2.355h10.008v2.355h1.766v-2.355h4.592a.71.71 0 0 1 .707.707v6.358h1.765v-6.77c0-1.133-.927-2.06-2.06-2.06z\"/><path d=\"m35.13 37.603 1.237-1.237-3.468-3.475v-5.926h-1.754v6.654l3.984 3.984Z\"/><path fill-rule=\"evenodd\" d=\"M23.08 36.962a9.678 9.678 0 1 0 17.883-7.408 9.678 9.678 0 0 0-17.882 7.408Zm4.54-10.292a7.924 7.924 0 1 1 8.805 13.177A7.924 7.924 0 0 1 27.62 26.67Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36Zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1Z\"/><path d=\"M11 22a1 1 0 0 1 1-1h19a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H12a1 1 0 0 1-1-1V22Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\"><rect width=\"24\" height=\"4\" x=\"15\" y=\"17\" rx=\"1\"/><rect width=\"24\" height=\"4\" x=\"15\" y=\"25\" rx=\"1\"/><rect width=\"13\" height=\"4\" x=\"15\" y=\"33\" rx=\"1\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M4.05 42.132v1.164c0 .693.604 1.254 1.35 1.254h1.35v-2.507h-2.7v.09Zm0-2.328h2.7v-2.328h-2.7v2.328Zm0-4.656h2.7V32.82h-2.7v2.328Zm0-4.656h2.7v-2.328h-2.7v2.328Zm0-4.656h2.7v-2.328h-2.7v2.328Zm0-4.656h2.7v-2.328h-2.7v2.328Zm0-4.656h2.7v-2.328h-2.7v2.328Zm0-4.656v.09h2.7V9.45H5.4c-.746 0-1.35.561-1.35 1.254v1.164Zm5.4-2.418v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V10.704c0-.693-.604-1.254-1.35-1.254h-1.35Zm2.7 4.746h-2.7v2.328h2.7v-2.328Zm0 4.656h-2.7v2.328h2.7v-2.328Zm0 4.656h-2.7v2.328h2.7v-2.328Zm0 4.656h-2.7v2.328h2.7v-2.328Zm0 4.656h-2.7v2.328h2.7V32.82Zm0 4.656h-2.7v2.328h2.7v-2.328Zm0 4.656v-.09h-2.7v2.508h1.35c.746 0 1.35-.561 1.35-1.254v-1.164Zm-5.4 2.418v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Z\" clip-rule=\"evenodd\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1zM35 28.444h7l-3.5 4-3.5-4zM35 26h7l-3.5-4-3.5 4z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path d=\"M27 22c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0 18a8 8 0 1 1 0-16 8 8 0 1 1 0 16z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1zm-12 7h9l-4.5 6-4.5-6z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"currentColor\" d=\"M26.293 16.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 18.414l-3.293 3.293a1 1 0 0 1-1.414-1.414l4-4ZM9 26h36v2H9v-2ZM22.293 33.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 35.586l-3.293-3.293a1 1 0 0 0-1.414 1.414Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"currentColor\" d=\"M9 15v2h36v-2H9ZM9 37v2h36v-2H9ZM26.293 19.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 21.414l-3.293 3.293a1 1 0 0 1-1.414-1.414l4-4ZM22.293 30.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 32.586l-3.293-3.293a1 1 0 0 0-1.414 1.414Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M2.7 43.296v1.254c0 .746.604 1.35 1.35 1.35h1.275v-1.795c.049.14.075.29.075.445v-1.254h-.075V43.2H4.05c.177 0 .347.034.502.096H2.7Zm2.7-2.507v-2.507H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507h2.7Zm0-5.015V23.24H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507h2.7Zm0-5.014V13.21H2.7v2.507h2.7Zm-2.7-5.014h1.852a1.346 1.346 0 0 1-.502.096h1.275v-.096H5.4V9.45c0 .156-.026.306-.075.445V8.1H4.05A1.35 1.35 0 0 0 2.7 9.45v1.254Zm5.175.096h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1-2.7v1.795a1.348 1.348 0 0 1-.075-.445v1.254h.075v.096h1.275c-.177 0-.347-.034-.502-.096H51.3V9.45a1.35 1.35 0 0 0-1.35-1.35h-1.275Zm-.075 5.11v2.508h2.7V13.21h-2.7Zm0 5.015v2.507h2.7v-2.507h-2.7Zm0 5.014v2.507h2.7V23.24h-2.7Zm0 5.015v2.507h2.7v-2.507h-2.7Zm0 5.014v2.507h2.7v-2.507h-2.7Zm0 5.014v2.507h2.7v-2.507h-2.7Zm2.7 5.014h-1.852c.155-.062.325-.096.502-.096h-1.275v.096H48.6v1.254c0-.156.026-.305.075-.445V45.9h1.275a1.35 1.35 0 0 0 1.35-1.35v-1.254Zm-5.175-.096h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7ZM16.2 17.55a4.05 4.05 0 0 1 4.05 4.05v1.35A4.05 4.05 0 0 1 16.2 27h-1.35a4.05 4.05 0 0 1-4.05-4.05V21.6a4.05 4.05 0 0 1 4.05-4.05h1.35Zm0 2.7h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35c0 .746.604 1.35 1.35 1.35h1.35a1.35 1.35 0 0 0 1.35-1.35V21.6a1.35 1.35 0 0 0-1.35-1.35Zm27 1.35a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35A4.05 4.05 0 0 0 29.7 27h9.45a4.05 4.05 0 0 0 4.05-4.05V21.6Zm-13.5-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35a1.35 1.35 0 0 1-1.35 1.35H29.7a1.35 1.35 0 0 1-1.35-1.35V21.6c0-.746.604-1.35 1.35-1.35ZM43.2 37.8a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35h2.7V37.8c0-.746.604-1.35 1.35-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35h2.7V37.8Zm-27-4.05a4.05 4.05 0 0 1 4.05 4.05v1.35h-2.7V37.8a1.35 1.35 0 0 0-1.35-1.35h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35h-2.7V37.8a4.05 4.05 0 0 1 4.05-4.05h1.35Z\" clip-rule=\"evenodd\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path d=\"M20.58 33.77h-3l-1.18-3.08H11l-1.1 3.08H7l5.27-13.54h2.89zm-5-5.36-1.86-5-1.83 5zM22 20.23h5.41a15.47 15.47 0 0 1 2.4.14 3.42 3.42 0 0 1 1.41.55 3.47 3.47 0 0 1 1 1.14 3 3 0 0 1 .42 1.58 3.26 3.26 0 0 1-1.91 2.94 3.63 3.63 0 0 1 1.91 1.22 3.28 3.28 0 0 1 .66 2 4 4 0 0 1-.43 1.8 3.63 3.63 0 0 1-1.09 1.4 3.89 3.89 0 0 1-1.83.65q-.69.07-3.3.09H22zm2.73 2.25v3.13h3.8a1.79 1.79 0 0 0 1.1-.49 1.41 1.41 0 0 0 .41-1 1.49 1.49 0 0 0-.35-1 1.54 1.54 0 0 0-1-.48c-.27 0-1.05-.05-2.34-.05zm0 5.39v3.62h2.57a11.52 11.52 0 0 0 1.88-.09 1.65 1.65 0 0 0 1-.54 1.6 1.6 0 0 0 .38-1.14 1.75 1.75 0 0 0-.29-1 1.69 1.69 0 0 0-.86-.62 9.28 9.28 0 0 0-2.41-.23zm19.62.92 2.65.84a5.94 5.94 0 0 1-2 3.29A5.74 5.74 0 0 1 41.38 34a5.87 5.87 0 0 1-4.44-1.84 7.09 7.09 0 0 1-1.73-5A7.43 7.43 0 0 1 37 21.87 6 6 0 0 1 41.54 20a5.64 5.64 0 0 1 4 1.47A5.33 5.33 0 0 1 47 24l-2.7.65a2.8 2.8 0 0 0-2.86-2.27A3.09 3.09 0 0 0 39 23.42a5.31 5.31 0 0 0-.93 3.5 5.62 5.62 0 0 0 .93 3.65 3 3 0 0 0 2.4 1.09 2.72 2.72 0 0 0 1.82-.66 4 4 0 0 0 1.13-2.21z\"/></svg>","<svg width=\"54\" height=\"54\" viewBox=\"0 0 54 54\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M47.0082 12.15C48.6329 12.15 49.95 13.5106 49.95 15.189V38.811C49.95 40.4894 48.6329 41.85 47.0082 41.85H6.99194C5.36718 41.85 4.05005 40.4894 4.05005 38.811V15.189C4.05005 13.5106 5.36718 12.15 6.99194 12.15H47.0082ZM47.0082 14.176H6.99194C6.45035 14.176 6.01131 14.6295 6.01131 15.189V16.2H6.00755V18.9H6.01131V38.811C6.01131 39.3705 6.45035 39.824 6.99194 39.824H47.0082C47.5498 39.824 47.9888 39.3705 47.9888 38.811V18.9H47.9925V16.2H47.9888V15.189C47.9888 14.6295 47.5498 14.176 47.0082 14.176ZM14.9344 26.055V22.275H17.1282V31.725H14.9344V27.945H11.6438V31.725H9.45005V22.275H11.6438V26.055H14.9344ZM19.3219 24.165H21.5157V31.725H23.7094V24.165H25.9032V22.275H19.3219V24.165ZM33.5813 22.275H35.775V31.725H33.5813V25.11L31.936 28.89L30.2907 25.11V31.725H28.0969V22.275H30.2907L31.936 26.055L33.5813 22.275ZM37.9688 22.275H40.1625V29.835H44.55V31.725H37.9688V22.275Z\" fill=\"currentColor\"/>\n</svg>\n","<svg width=\"54\" height=\"54\" viewBox=\"0 0 54 54\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.78 16.2V22.95C12.78 24.5689 12.1447 26.0086 11.1621 27C12.1447 27.9914 12.78 29.4311 12.78 31.05V37.8H16.29V40.5H12.78C11.4912 40.5 10.44 39.2871 10.44 37.8V31.05C10.44 29.5629 9.38883 28.35 8.10001 28.35V25.65C9.38883 25.65 10.44 24.4371 10.44 22.95V16.2C10.44 14.7129 11.4912 13.5 12.78 13.5H16.29V16.2H12.78ZM43.56 16.2V22.95C43.56 24.4371 44.6112 25.65 45.9 25.65V28.35C44.6112 28.35 43.56 29.5629 43.56 31.05V37.8C43.56 39.2871 42.5088 40.5 41.22 40.5H37.71V37.8H41.22V31.05C41.22 29.4311 41.8553 27.9914 42.8379 27C41.8553 26.0086 41.22 24.5689 41.22 22.95V16.2H37.71V13.5H41.22C42.5088 13.5 43.56 14.7129 43.56 16.2ZM21.8005 34.5313C22.2674 34.1521 22.5869 33.5662 22.7589 32.7734L24.5467 24.4321H26.1317L26.5187 22.6053H24.9337L25.3392 20.7268H26.9242L27.3113 18.9H25.6894C24.8416 18.9 24.1842 19.0896 23.7173 19.4687C23.2627 19.8479 22.9494 20.4338 22.7774 21.2266L22.4825 22.6053H21.3398L20.9527 24.4321H22.0954L20.1971 33.2732H18.612L18.225 35.1H19.8469C20.6947 35.1 21.3459 34.9104 21.8005 34.5313ZM29.0479 26.8449L25.2512 31.6532H27.8499L29.9694 28.6372H30.1906L31.0752 31.6532H33.6739L31.9967 27.293L35.775 22.6053H33.1763L31.0568 25.5523H30.8356L29.951 22.6053H27.3523L29.0479 26.8449Z\" fill=\"currentcolor\"/>\r\n</svg>\r\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1zm-32 4v10h-2V22h2z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 13a3 3 0 0 1 3 3v22a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V16a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v22a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V16a1 1 0 0 0-1-1zm-1.136 15.5.849.849-6.364 6.364-.849-.849 6.364-6.364zm.264 3.5.849.849-2.828 2.828-.849-.849L44.128 34zM13 19v10h-2V19h2z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M45.658 9.45c1.625 0 2.942 1.36 2.942 3.039V22.95h-1.961v-4.383H7.36V41.51c0 .56.44 1.013.98 1.013H27v2.026H8.342c-1.625 0-2.942-1.36-2.942-3.039V12.489c0-1.678 1.317-3.039 2.942-3.039h37.316Zm0 2.026H8.342c-.542 0-.98.454-.98 1.013v4.052h39.277v-4.052c0-.56-.44-1.013-.98-1.013ZM31.05 35.775A8.768 8.768 0 0 1 39.825 27a8.768 8.768 0 0 1 8.775 8.775 8.768 8.768 0 0 1-8.775 8.775 8.768 8.768 0 0 1-8.775-8.775Zm12.388-.516h3.097c-.206-2.581-1.858-4.646-4.026-5.678.62 1.548.93 3.613.93 5.678Zm-5.162 2.065c.207 3.303 1.136 4.955 1.549 5.161.413-.206 1.239-1.858 1.445-5.161h-2.994Zm1.446-8.26c-.31.207-1.342 2.272-1.446 6.195h2.994c-.103-3.923-1.135-5.988-1.548-6.194Zm-3.51 6.195c.103-2.065.31-4.13.929-5.678-2.168 1.032-3.82 3.097-4.026 5.678h3.097Zm0 2.065h-2.89c.515 2.064 1.96 3.82 3.819 4.645-.516-1.342-.826-2.994-.93-4.645Zm7.226 0c-.103 1.755-.413 3.303-.929 4.645 1.858-.826 3.304-2.58 3.923-4.645h-2.994Z\" clip-rule=\"evenodd\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M34.636 21.91A3.818 3.818 0 1 1 27 21.908a3.818 3.818 0 0 1 7.636 0Zm-2 0A1.818 1.818 0 1 1 29 21.908a1.818 1.818 0 0 1 3.636 0Z\" clip-rule=\"evenodd\"/><path fill-rule=\"evenodd\" d=\"M15 13a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V15a2 2 0 0 0-2-2H15Zm24 2H15v12.45l4.71-4.709a1.91 1.91 0 0 1 2.702 0l6.695 6.695 2.656-1.77a1.91 1.91 0 0 1 2.411.239L39 32.73V15ZM15 39v-8.754c.06-.038.116-.083.168-.135l5.893-5.893 6.684 6.685a1.911 1.911 0 0 0 2.41.238l2.657-1.77 6.02 6.02c.052.051.108.097.168.135V39H15Z\" clip-rule=\"evenodd\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 54 54\"><path fill=\"currentcolor\" fill-rule=\"evenodd\" d=\"M42.545479 12.272741C43.901087 12.272741 45 13.371687 45 14.727295v24.545443c0 1.355609-1.098913 2.454521-2.454521 2.454521H11.454554C10.098946 41.727259 9 40.628347 9 39.272738V14.727295c0-1.355608 1.098946-2.454554 2.454554-2.454554zM27.818242 40.090875h14.727237c.451869 0 .818137-.366267.818137-.818137v-4.909042H27.818242Zm-1.636385-5.727179v5.727179H11.454554c-.451869 0-.818192-.366267-.818192-.818137v-4.909042zm1.636385-1.636385h15.545374v-5.727289H27.818242Zm-1.636385-5.727289v5.727289H10.636362v-5.727289zm1.636385-1.636384h15.545374v-5.72729H27.818242Zm-1.636385-5.72729v5.72729H10.636362v-5.72729z\" clip-rule=\"evenodd\"/></svg>\n","import ButtonIcon from './Button.svg';\nimport CheckboxIcon from './Checkbox.svg';\nimport ChecklistIcon from './Checklist.svg';\nimport DatetimeIcon from './Datetime.svg';\nimport TaglistIcon from './Taglist.svg';\nimport FormIcon from './Form.svg';\nimport ColumnsIcon from './Group.svg';\nimport NumberIcon from './Number.svg';\nimport RadioIcon from './Radio.svg';\nimport SelectIcon from './Select.svg';\nimport SeparatorIcon from './Separator.svg';\nimport SpacerIcon from './Spacer.svg';\nimport DynamicListIcon from './DynamicList.svg';\nimport TextIcon from './Text.svg';\nimport HTMLIcon from './HTML.svg';\nimport ExpressionFieldIcon from './ExpressionField.svg';\nimport TextfieldIcon from './Textfield.svg';\nimport TextareaIcon from './Textarea.svg';\nimport IFrameIcon from './IFrame.svg';\nimport ImageIcon from './Image.svg';\nimport GroupIcon from './Group.svg';\nimport TableIcon from './Table.svg';\n\nexport const iconsByType = (type) => {\n  return {\n    button: ButtonIcon,\n    checkbox: CheckboxIcon,\n    checklist: ChecklistIcon,\n    columns: ColumnsIcon,\n    datetime: DatetimeIcon,\n    group: GroupIcon,\n    iframe: IFrameIcon,\n    image: ImageIcon,\n    number: NumberIcon,\n    expression: ExpressionFieldIcon,\n    radio: RadioIcon,\n    select: SelectIcon,\n    separator: SeparatorIcon,\n    spacer: SpacerIcon,\n    dynamiclist: DynamicListIcon,\n    taglist: TaglistIcon,\n    text: TextIcon,\n    html: HTMLIcon,\n    textfield: TextfieldIcon,\n    textarea: TextareaIcon,\n    table: TableIcon,\n    default: FormIcon\n  }[type];\n};\n","import { useContext, useMemo } from 'preact/hooks';\n\nimport { FormContext } from '../../context';\n\nimport { iconsByType } from '../icons';\n\nimport { useSingleLineTemplateEvaluation } from '../../hooks';\nimport { sanitizeImageSource } from '../util/sanitizerUtil';\n\nimport {\n  formFieldClasses,\n  prefixId\n} from '../Util';\n\nconst type = 'image';\n\n\nexport function Image(props) {\n  const {\n    field\n  } = props;\n\n  const {\n    alt,\n    id,\n    source\n  } = field;\n\n  const Icon = iconsByType(field.type);\n\n  const evaluatedImageSource = useSingleLineTemplateEvaluation(source, { debug: true });\n\n  const safeSource = useMemo(() => sanitizeImageSource(evaluatedImageSource), [ evaluatedImageSource ]);\n\n  const altText = useSingleLineTemplateEvaluation(alt, { debug: true });\n\n  const { formId } = useContext(FormContext);\n\n  return <div class={ formFieldClasses(type) }>\n    {\n      safeSource && <div class=\"fjs-image-container\">\n        <img\n          alt={ altText }\n          src={ safeSource }\n          class=\"fjs-image\"\n          id={ prefixId(id, formId) } />\n      </div>\n    }\n    {\n      !safeSource && <div class=\"fjs-image-placeholder\">\n        <span class=\"fjs-image-placeholder-inner\">\n          <Icon alt=\"This is an image placeholder\" width=\"32\" height=\"32\" viewBox=\"0 0 56 56\" />\n        </span>\n      </div>\n    }\n  </div>;\n}\n\nImage.config = {\n  type,\n  keyed: false,\n  label: 'Obrázek',\n  group: 'presentation',\n  create: (options = {}) => ({\n    ...options\n  })\n};\n","import { InputAdorner } from './InputAdorner';\n\nimport { useSingleLineTemplateEvaluation } from '../../../hooks';\n\nexport function TemplatedInputAdorner(props) {\n\n  const {\n    pre,\n    post\n  } = props;\n\n  const evaluatedPre = useSingleLineTemplateEvaluation(pre, { debug: true });\n  const evaluatedPost = useSingleLineTemplateEvaluation(post, { debug: true });\n\n  return <InputAdorner { ...props } pre={ evaluatedPre } post={ evaluatedPost } />;\n\n}","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\"><path fill=\"currentColor\" fill-rule=\"evenodd\" stroke=\"currentColor\" stroke-width=\".5\" d=\"M7.75 1.336 4 6.125.258 1.335 0 1.54l4 5.125L8 1.54Zm0 0\" clip-rule=\"evenodd\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\"><path fill=\"currentColor\" fill-rule=\"evenodd\" stroke=\"currentColor\" stroke-width=\".5\" d=\"M7.75 6.664 4 1.875.258 6.665 0 6.46l4-5.125L8 6.46Zm0 0\" clip-rule=\"evenodd\"/></svg>","import Big from 'big.js';\n\nexport function countDecimals(number) {\n  const num = Big(number);\n  if (num.toString() === num.toFixed(0)) return 0;\n  return num.toFixed().split('.')[1].length || 0;\n}\n\nexport function isValidNumber(value) {\n  return (typeof value === 'number' || typeof value === 'string') && value !== '' && !isNaN(Number(value));\n}\n\nexport function willKeyProduceValidNumber(key, previousValue, caretIndex, selectionWidth, decimalDigits) {\n\n  if (previousValue === 'NaN') {\n    return false;\n  }\n\n  // Dot and comma are both treated as dot\n  previousValue = previousValue.replace(',', '.');\n  const isFirstDot = !previousValue.includes('.') && (key === '.' || key === ',');\n  const isFirstMinus = !previousValue.includes('-') && key === '-' && caretIndex === 0;\n\n  const keypressIsNumeric = /^[0-9]$/i.test(key);\n  const dotIndex = previousValue === undefined ? -1 : previousValue.indexOf('.');\n\n  // If the caret is positioned after a dot, and the current decimal digits count is equal or greater to the maximum, disallow the key press\n  const overflowsDecimalSpace = typeof(decimalDigits) === 'number'\n    && selectionWidth === 0\n    && dotIndex !== -1\n    && previousValue.includes('.')\n    && previousValue.split('.')[1].length >= decimalDigits\n    && caretIndex > dotIndex;\n\n  const keypressIsAllowedChar = keypressIsNumeric || ((decimalDigits !== 0) && isFirstDot) || isFirstMinus;\n\n  return keypressIsAllowedChar && !overflowsDecimalSpace;\n\n}\n\nexport function isNullEquivalentValue(value) {\n  return value === undefined || value === null || value === '';\n}\n","import Big from 'big.js';\nimport classNames from 'classnames';\nimport { useCallback, useMemo, useRef, useState } from 'preact/hooks';\nimport { useFlushDebounce, usePrevious } from '../../hooks';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\nimport { TemplatedInputAdorner } from './parts/TemplatedInputAdorner';\n\nimport AngelDownIcon from './icons/AngelDown.svg';\nimport AngelUpIcon from './icons/AngelUp.svg';\n\nimport {\n  formFieldClasses\n} from '../Util';\n\nimport {\n  isNullEquivalentValue,\n  isValidNumber,\n  willKeyProduceValidNumber\n} from '../util/numberFieldUtil';\n\nconst type = 'number';\n\nexport function Numberfield(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    value,\n    readonly\n  } = props;\n\n  const {\n    description,\n    label,\n    appearance = {},\n    validate = {},\n    decimalDigits,\n    increment: incrementValue\n  } = field;\n\n  const {\n    prefixAdorner,\n    suffixAdorner\n  } = appearance;\n\n  const { required } = validate;\n\n  const inputRef = useRef();\n\n  const [ cachedValue, setCachedValue ] = useState(value);\n  const [ displayValue, setDisplayValue ] = useState(value);\n\n  const sanitize = useCallback((value) => Numberfield.config.sanitizeValue({ value, formField: field }), [ field ]);\n\n  const [ debouncedOnChange, flushOnChange ] = useFlushDebounce(props.onChange);\n\n  const previousCachedValue = usePrevious(value);\n\n  if (previousCachedValue !== cachedValue) {\n    debouncedOnChange({ field, value: cachedValue });\n  }\n\n  const onInputBlur = () => {\n    flushOnChange && flushOnChange();\n    onBlur && onBlur();\n  };\n\n  const onInputFocus = () => {\n    onFocus && onFocus();\n  };\n\n  // all value changes must go through this function\n  const setValue = useCallback((stringValue) => {\n\n    if (isNullEquivalentValue(stringValue)) {\n      setDisplayValue('');\n      setCachedValue(null);\n      return;\n    }\n\n    // converts automatically for countries where the comma is used as a decimal separator\n    stringValue = stringValue.replaceAll(',', '.');\n\n    if (stringValue === '-') {\n      setDisplayValue('-');\n      return;\n    }\n\n    // provides feedback for invalid numbers entered via pasting as opposed to just ignoring the paste\n    if (isNaN(Number(stringValue))) {\n      setDisplayValue('NaN');\n      setCachedValue(null);\n      return;\n    }\n\n    setDisplayValue(stringValue);\n    setCachedValue(sanitize(stringValue));\n\n  }, [ sanitize ]);\n\n  // when external changes occur independently of the input, we update the display and cache values of the component\n  const previousValue = usePrevious(value);\n  const outerValueChanged = previousValue != value;\n  const outerValueEqualsCache = sanitize(value) === sanitize(cachedValue);\n\n  if (outerValueChanged && !outerValueEqualsCache) {\n    setValue(value && value.toString() || '');\n  }\n\n  // caches the value an increment/decrement operation will be based on\n  const incrementAmount = useMemo(() => {\n\n    if (incrementValue) return Big(incrementValue);\n    if (decimalDigits) return Big(`1e-${decimalDigits}`);\n    return Big('1');\n\n  }, [ decimalDigits, incrementValue ]);\n\n  const increment = () => {\n    if (readonly) {\n      return;\n    }\n\n    const base = isValidNumber(cachedValue) ? Big(cachedValue) : Big(0);\n    const stepFlooredValue = base.minus(base.mod(incrementAmount));\n\n    // note: toFixed() behaves differently in big.js\n    setValue(stepFlooredValue.plus(incrementAmount).toFixed());\n  };\n\n  const decrement = () => {\n    if (readonly) {\n      return;\n    }\n\n    const base = isValidNumber(cachedValue) ? Big(cachedValue) : Big(0);\n    const offset = base.mod(incrementAmount);\n\n    if (offset.cmp(0) === 0) {\n\n      // if we're already on a valid step, decrement\n      setValue(base.minus(incrementAmount).toFixed());\n    }\n    else {\n\n      // otherwise floor to the step\n      const stepFlooredValue = base.minus(base.mod(incrementAmount));\n      setValue(stepFlooredValue.toFixed());\n    }\n  };\n\n  const onKeyDown = (e) => {\n\n    // delete the NaN state all at once on backspace or delete\n    if (displayValue === 'NaN' && (e.code === 'Backspace' || e.code === 'Delete')) {\n      setValue('');\n      e.preventDefault();\n      return;\n    }\n\n    if (e.code === 'ArrowUp') {\n      increment();\n      e.preventDefault();\n      return;\n    }\n\n    if (e.code === 'ArrowDown') {\n      decrement();\n      e.preventDefault();\n      return;\n    }\n\n  };\n\n  // intercept key presses which would lead to an invalid number\n  const onKeyPress = (e) => {\n    const caretIndex = inputRef.current.selectionStart;\n    const selectionWidth = inputRef.current.selectionStart - inputRef.current.selectionEnd;\n    const previousValue = inputRef.current.value;\n\n    if (!willKeyProduceValidNumber(e.key, previousValue, caretIndex, selectionWidth, decimalDigits)) {\n      e.preventDefault();\n    }\n  };\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return <div class={ formFieldClasses(type, { errors, disabled, readonly }) }>\n    <Label\n      htmlFor={ domId }\n      label={ label }\n      required={ required } />\n    <TemplatedInputAdorner disabled={ disabled } readonly={ readonly } pre={ prefixAdorner } post={ suffixAdorner }>\n      <div class={ classNames('fjs-vertical-group', { 'fjs-disabled': disabled, 'fjs-readonly': readonly }, { 'hasErrors': errors.length }) }>\n        <input\n          ref={ inputRef }\n          class=\"fjs-input\"\n          disabled={ disabled }\n          readOnly={ readonly }\n          id={ domId }\n          onKeyDown={ onKeyDown }\n          onKeyPress={ onKeyPress }\n          onBlur={ onInputBlur }\n          onFocus={ onInputFocus }\n\n          // @ts-ignore\n          onInput={ (e) => setValue(e.target.value, true) }\n          onPaste={ (e) => displayValue === 'NaN' && e.preventDefault() }\n          type=\"text\"\n          autoComplete=\"off\"\n          step={ incrementAmount }\n          value={ displayValue }\n          aria-describedby={ [ descriptionId, errorMessageId ].join(' ') }\n          required={ required }\n          aria-invalid={ errors.length > 0 } />\n        <div class={ classNames('fjs-number-arrow-container', { 'fjs-disabled': disabled, 'fjs-readonly': readonly }) }>\n          { /* we're disabling tab navigation on both buttons to imitate the native browser behavior of input[type='number'] increment arrows */ }\n          <button\n            type=\"button\"\n            class=\"fjs-number-arrow-up\"\n            aria-label=\"Increment\"\n            onClick={ () => increment() }\n            tabIndex={ -1 }><AngelUpIcon /></button>\n          <div class=\"fjs-number-arrow-separator\" />\n          <button\n            type=\"button\"\n            class=\"fjs-number-arrow-down\"\n            aria-label=\"Decrement\"\n            onClick={ () => decrement() }\n            tabIndex={ -1 }><AngelDownIcon /></button>\n        </div>\n      </div>\n    </TemplatedInputAdorner>\n    <Description id={ descriptionId } description={ description } />\n    <Errors id={ errorMessageId } errors={ errors } />\n  </div>;\n}\n\nNumberfield.config = {\n  type,\n  keyed: true,\n  label: 'Číslo',\n  group: 'basic-input',\n  emptyValue: null,\n  sanitizeValue: ({ value, formField }) => {\n\n    // invalid value types are sanitized to null\n    if (isNullEquivalentValue(value) || !isValidNumber(value)) return null;\n\n    // otherwise, we return a string or a number depending on the form field configuration\n    return formField.serializeToString ? value.toString() : Number(value);\n  },\n  create: (options = {}) => ({\n    ...options\n  })\n};","import { useRef } from 'preact/hooks';\nimport isEqual from 'lodash/isEqual';\nimport { useOptionsAsync, LOAD_STATES } from '../../hooks/useOptionsAsync';\nimport { useCleanupSingleSelectValue } from '../../hooks/useCleanupSingleSelectValue';\nimport classNames from 'classnames';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\n\nimport { sanitizeSingleSelectValue } from '../util/sanitizerUtil';\n\nimport { createEmptyOptions } from '../util/optionsUtil';\n\nimport {\n  formFieldClasses\n} from '../Util';\n\nconst type = 'radio';\n\n\nexport function Radio(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value\n  } = props;\n\n  const {\n    description,\n    label,\n    validate = {}\n  } = field;\n\n  const outerDivRef = useRef();\n\n  const { required } = validate;\n\n  const onChange = (v) => {\n    props.onChange({\n      field,\n      value: v\n    });\n  };\n\n  const onRadioBlur = (e) => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n\n    onBlur && onBlur();\n  };\n\n  const onRadioFocus = (e) => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n\n    onFocus && onFocus();\n  };\n\n  const {\n    loadState,\n    options\n  } = useOptionsAsync(field);\n\n  useCleanupSingleSelectValue({\n    field,\n    loadState,\n    options,\n    value,\n    onChange: props.onChange\n  });\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return <div class={ formFieldClasses(type, { errors, disabled, readonly }) } ref={ outerDivRef }>\n    <Label\n      label={ label }\n      required={ required } />\n    {\n      loadState == LOAD_STATES.LOADED && options.map((option, index) => {\n\n        const itemDomId = `${domId}-${index}`;\n        const isChecked = isEqual(option.value, value);\n\n        return (\n          <Label\n            htmlFor={ itemDomId }\n            key={ index }\n            label={ option.label }\n            class={ classNames({ 'fjs-checked': isChecked }) }\n            required={ false }>\n            <input\n              checked={ isChecked }\n              class=\"fjs-input\"\n              disabled={ disabled }\n              readOnly={ readonly }\n              id={ itemDomId }\n              type=\"radio\"\n              onClick={ () => onChange(option.value) }\n              onBlur={ onRadioBlur }\n              onFocus={ onRadioFocus }\n              aria-describedby={ [ descriptionId, errorMessageId ].join(' ') }\n              required={ required }\n              aria-invalid={ errors.length > 0 } />\n          </Label>\n        );\n      })\n    }\n    <Description id={ descriptionId } description={ description } />\n    <Errors id={ errorMessageId } errors={ errors } />\n  </div>;\n}\n\nRadio.config = {\n  type,\n  keyed: true,\n  label: 'Výběr z možností',\n  group: 'selection',\n  emptyValue: null,\n  sanitizeValue: sanitizeSingleSelectValue,\n  create: createEmptyOptions\n};\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\"><path fill=\"currentColor\" fill-rule=\"evenodd\" stroke=\"currentColor\" stroke-width=\".5\" d=\"M4 3.766 7.43.336l.234.234L4.234 4l3.43 3.43-.234.234L4 4.234.57 7.664.336 7.43 3.766 4 .336.57.57.336Zm0 0\" clip-rule=\"evenodd\"/></svg>","import { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { useOptionsAsync, LOAD_STATES } from '../../../hooks/useOptionsAsync';\nimport { useGetLabelCorrelation } from '../../../hooks/useGetLabelCorrelation';\nimport { useService, useCleanupSingleSelectValue } from '../../../hooks';\n\nimport classNames from 'classnames';\n\nimport XMarkIcon from '../icons/XMark.svg';\nimport AngelDownIcon from '../icons/AngelDown.svg';\nimport AngelUpIcon from '../icons/AngelUp.svg';\nimport { DropdownList } from './DropdownList';\n\nexport function SearchableSelect(props) {\n  const {\n    domId,\n    disabled,\n    errors,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value\n  } = props;\n\n  const [ filter, setFilter ] = useState('');\n  const [ isDropdownExpanded, setIsDropdownExpanded ] = useState(false);\n  const [ isFilterActive, setIsFilterActive ] = useState(true);\n  const [ isEscapeClosed, setIsEscapeClose ] = useState(false);\n  const searchbarRef = useRef();\n  const eventBus = useService('eventBus');\n\n  const {\n    loadState,\n    options\n  } = useOptionsAsync(field);\n\n  useCleanupSingleSelectValue({\n    field,\n    loadState,\n    options,\n    value,\n    onChange: props.onChange\n  });\n\n  const getLabelCorrelation = useGetLabelCorrelation(options);\n\n  const label = useMemo(() => value && getLabelCorrelation(value), [ value, getLabelCorrelation ]);\n\n  // whenever we change the underlying value, set the label to it\n  useEffect(() => { setFilter(label || ''); }, [ label ]);\n\n  const filteredOptions = useMemo(() => {\n\n    if (loadState !== LOAD_STATES.LOADED) {\n      return [];\n    }\n\n    if (!filter || !isFilterActive) {\n      return options;\n    }\n\n    return options.filter((o) => o.label && o.value && (o.label.toLowerCase().includes(filter.toLowerCase())));\n\n  }, [ filter, loadState, options, isFilterActive ]);\n\n  const setValue = useCallback((option) => {\n    setFilter(option && option.label || '');\n    props.onChange({ value: option && option.value || null, field });\n  }, [ field, props ]);\n\n  const displayState = useMemo(() => {\n    const ds = {};\n    ds.componentReady = !disabled && !readonly && loadState === LOAD_STATES.LOADED;\n    ds.displayCross = ds.componentReady && value !== null && value !== undefined;\n    ds.displayDropdown = !disabled && !readonly && isDropdownExpanded && !isEscapeClosed;\n    return ds;\n  }, [ disabled, isDropdownExpanded, isEscapeClosed, loadState, readonly, value ]);\n\n  const onAngelMouseDown = useCallback((e) => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(!isDropdownExpanded);\n\n    const searchbar = searchbarRef.current;\n    isDropdownExpanded ? searchbar.blur() : searchbar.focus();\n\n    e.preventDefault();\n\n  }, [ isDropdownExpanded ]);\n\n  const onInputChange = ({ target }) => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(true);\n    setIsFilterActive(true);\n    setFilter(target.value || '');\n    eventBus.fire('formField.search', { formField: field, value: target.value || '' });\n  };\n\n  const onInputKeyDown = useCallback((keyDownEvent) => {\n\n    switch (keyDownEvent.key) {\n    case 'ArrowUp':\n      keyDownEvent.preventDefault();\n      break;\n    case 'ArrowDown': {\n      if (!isDropdownExpanded) {\n        setIsDropdownExpanded(true);\n        setIsFilterActive(false);\n      }\n\n      keyDownEvent.preventDefault();\n      break;\n    }\n    case 'Escape':\n      setIsEscapeClose(true);\n      break;\n    case 'Enter':\n      if (isEscapeClosed) {\n        setIsEscapeClose(false);\n      }\n      break;\n    }\n  }, [ isDropdownExpanded, isEscapeClosed ]);\n\n  const onInputMouseDown = useCallback(() => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(true);\n    setIsFilterActive(false);\n  }, []);\n\n  const onInputFocus = useCallback(() => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(true);\n    onFocus && onFocus();\n  }, [ onFocus ]);\n\n  const onInputBlur = useCallback(() => {\n    setIsDropdownExpanded(false);\n    setFilter(label || '');\n    onBlur && onBlur();\n  }, [ onBlur, label ]);\n\n  return <>\n    <div\n      class={ classNames('fjs-input-group', { 'disabled': disabled, 'readonly': readonly }, { 'hasErrors': errors.length }) }>\n      <input\n        disabled={ disabled }\n        readOnly={ readonly }\n        class=\"fjs-input\"\n        ref={ searchbarRef }\n        id={ domId }\n        onChange={ onInputChange }\n        type=\"text\"\n        value={ filter }\n        placeholder={ 'Search' }\n        autoComplete=\"off\"\n        onKeyDown={ onInputKeyDown }\n        onMouseDown={ onInputMouseDown }\n        onFocus={ onInputFocus }\n        onBlur={ onInputBlur }\n        aria-describedby={ props['aria-describedby'] } />\n      { displayState.displayCross && <span class=\"fjs-select-cross\" onMouseDown={ (e) => { setValue(null); e.preventDefault(); } }><XMarkIcon /> </span> }\n      <span class=\"fjs-select-arrow\" onMouseDown={ (e) => onAngelMouseDown(e) }>{ displayState.displayDropdown ? <AngelUpIcon /> : <AngelDownIcon /> }</span>\n    </div>\n    <div class=\"fjs-select-anchor\">\n      { displayState.displayDropdown && <DropdownList\n        values={ filteredOptions }\n        getLabel={ (o) => o.label }\n        onValueSelected={ (o) => { setValue(o); setIsDropdownExpanded(false); } }\n        listenerElement={ searchbarRef.current } />}\n    </div>\n  </>;\n}\n","import { useCallback, useMemo, useRef, useState } from 'preact/hooks';\nimport classNames from 'classnames';\nimport { findIndex } from 'min-dash';\nimport { useOptionsAsync, LOAD_STATES } from '../../../hooks/useOptionsAsync';\nimport { useCleanupSingleSelectValue } from '../../../hooks/useCleanupSingleSelectValue';\nimport { useGetLabelCorrelation } from '../../../hooks/useGetLabelCorrelation';\n\nimport XMarkIcon from '../icons/XMark.svg';\nimport AngelDownIcon from '../icons/AngelDown.svg';\nimport AngelUpIcon from '../icons/AngelUp.svg';\nimport { DropdownList } from './DropdownList';\n\nexport function SimpleSelect(props) {\n  const {\n    domId,\n    disabled,\n    errors,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value\n  } = props;\n\n  const [ isDropdownExpanded, setIsDropdownExpanded ] = useState(false);\n  const selectRef = useRef();\n  const inputRef = useRef();\n\n  const {\n    loadState,\n    options\n  } = useOptionsAsync(field);\n\n  useCleanupSingleSelectValue({\n    field,\n    loadState,\n    options,\n    value,\n    onChange: props.onChange\n  });\n\n  const getLabelCorrelation = useGetLabelCorrelation(options);\n\n  const valueLabel = useMemo(() => value && getLabelCorrelation(value), [ value, getLabelCorrelation ]);\n\n  const setValue = useCallback((option) => {\n    props.onChange({ value: option && option.value || null, field });\n  }, [ field, props ]);\n\n  const displayState = useMemo(() => {\n    const ds = {};\n    ds.componentReady = !disabled && !readonly && loadState === LOAD_STATES.LOADED;\n    ds.displayCross = ds.componentReady && value !== null && value !== undefined;\n    ds.displayDropdown = !disabled && !readonly && isDropdownExpanded;\n    return ds;\n  }, [ disabled, isDropdownExpanded, loadState, readonly, value ]);\n\n  const onMouseDown = useCallback((e) => {\n\n    const input = inputRef.current;\n\n    if (disabled || !input) {\n      return;\n    }\n\n    setIsDropdownExpanded(!isDropdownExpanded);\n\n    if (isDropdownExpanded) {\n      input.blur();\n    } else {\n      input.focus();\n    }\n\n    e.preventDefault();\n  }, [ disabled, isDropdownExpanded ]);\n\n  const initialFocusIndex = useMemo(() => value && findIndex(options, (o) => o.value === value) || 0, [ options, value ]);\n\n  const onInputFocus = useCallback(() => {\n    if (!readonly) {\n      setIsDropdownExpanded(true);\n      onFocus && onFocus();\n    }\n  }, [ onFocus, readonly ]);\n\n  const onInputBlur = useCallback(() => {\n    if (!readonly) {\n      setIsDropdownExpanded(false);\n      onBlur && onBlur();\n    }\n  }, [ onBlur, readonly ]);\n\n  return <>\n    <div ref={ selectRef }\n      class={ classNames('fjs-input-group', { disabled, readonly }, { 'hasErrors': errors.length }) }\n      onFocus={ onInputFocus }\n      onBlur={ onInputBlur }\n      onMouseDown={ onMouseDown }>\n      <div class={ classNames('fjs-select-display', { 'fjs-select-placeholder' : !value }) } id={ `${domId}-display` }>{ valueLabel || 'Výběr' }</div>\n      { !disabled && <input\n        ref={ inputRef }\n        id={ domId }\n        class=\"fjs-select-hidden-input\"\n        value={ valueLabel }\n        onFocus={ onInputFocus }\n        onBlur={ onInputBlur }\n        aria-describedby={ props['aria-describedby'] } />\n      }\n      { displayState.displayCross && <span class=\"fjs-select-cross\" onMouseDown={ (e) => { setValue(null); e.stopPropagation(); } }><XMarkIcon /></span> }\n      <span class=\"fjs-select-arrow\">{ displayState.displayDropdown ? <AngelUpIcon /> : <AngelDownIcon /> }</span>\n    </div>\n    <div class=\"fjs-select-anchor\">\n      {displayState.displayDropdown && <DropdownList\n        values={ options }\n        getLabel={ (o) => o.label }\n        initialFocusIndex={ initialFocusIndex }\n        onValueSelected={ (o) => { setValue(o); setIsDropdownExpanded(false); } }\n        listenerElement={ selectRef.current } />}\n    </div>\n  </>;\n}\n","import { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\nimport { SearchableSelect } from './parts/SearchableSelect';\nimport { SimpleSelect } from './parts/SimpleSelect';\n\nimport { sanitizeSingleSelectValue } from '../util/sanitizerUtil';\nimport { createEmptyOptions } from '../util/optionsUtil';\nimport { formFieldClasses } from '../Util';\n\nconst type = 'select';\n\nexport function Select(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    onChange,\n    readonly,\n    value\n  } = props;\n\n  const {\n    description,\n    label,\n    searchable = false,\n    validate = {}\n  } = field;\n\n  const { required } = validate;\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  const selectProps = {\n    domId,\n    disabled,\n    errors,\n    onBlur,\n    onFocus,\n    field,\n    value,\n    onChange,\n    readonly,\n    required,\n    'aria-invalid': errors.length > 0,\n    'aria-describedby': [ descriptionId, errorMessageId ].join(' '),\n  };\n\n  return <div\n    class={ formFieldClasses(type, { errors, disabled, readonly }) }\n    onKeyDown={\n      (event) => {\n        if (event.key === 'Enter') {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }\n    }\n  >\n    <Label\n      htmlFor={ domId }\n      label={ label }\n      required={ required } />\n    { searchable ? <SearchableSelect { ...selectProps } /> : <SimpleSelect { ...selectProps } /> }\n    <Description id={ descriptionId } description={ description } />\n    <Errors id={ errorMessageId } errors={ errors } />\n  </div>;\n}\n\nSelect.config = {\n  type,\n  keyed: true,\n  label: 'Rozbalovací nabídka',\n  group: 'selection',\n  emptyValue: null,\n  sanitizeValue: sanitizeSingleSelectValue,\n  create: createEmptyOptions\n};\n","import { formFieldClasses } from '../Util';\n\nconst type = 'separator';\n\nexport function Separator() {\n\n  return (\n    <div class={ formFieldClasses(type) }>\n      <hr />\n    </div>\n  );\n}\n\nSeparator.config = {\n  type,\n  keyed: false,\n  label: 'Oddělovač',\n  group: 'presentation',\n  create: (options = {}) => ({\n    ...options\n  })\n};\n","import { formFieldClasses } from '../Util';\n\nconst type = 'spacer';\n\nexport function Spacer(props) {\n  const { field } = props;\n  const { height = 60 } = field;\n\n  return (\n    <div class={ formFieldClasses(type) } style={ { height: height } } />\n  );\n}\n\nSpacer.config = {\n  type,\n  keyed: false,\n  label: 'Mezera',\n  group: 'presentation',\n  create: (options = {}) => ({\n    height: 60,\n    ...options\n  })\n};\n","import { useContext } from 'preact/hooks';\nimport { FormRenderContext } from '../../context';\nimport { formFieldClasses } from '../Util';\nimport classNames from 'classnames';\n\nimport { Label } from '../Label';\nimport { ChildrenRenderer } from './parts/ChildrenRenderer';\n\nexport function DynamicList(props) {\n\n  const { field, domId, readonly } = props;\n  const { label, type, showOutline } = field;\n\n  const {\n    Empty,\n  } = useContext(FormRenderContext);\n\n  const fullProps = { ...props, Empty };\n\n  return (\n    <div\n      className={\n        classNames(\n          formFieldClasses(type, { readonly }),\n          'fjs-form-field-grouplike',\n          {\n            'fjs-outlined' : showOutline\n          }\n        )\n      }\n      role=\"group\"\n      aria-labelledby={ domId }\n    >\n      <Label\n        id={ domId }\n        label={ label } />\n      <ChildrenRenderer { ...fullProps } />\n    </div>\n  );\n}\n\nDynamicList.config = {\n  type: 'dynamiclist',\n  pathed: true,\n  repeatable: true,\n  label: 'Dynamický seznam',\n  group: 'container',\n  create: (options = {}) => ({\n    components: [],\n    showOutline: true,\n    isRepeating: true,\n    allowAddRemove: true,\n    defaultRepetitions: 1,\n    ...options\n  })\n};\n","import classNames from 'classnames';\n\nimport { useCallback } from 'preact/hooks';\n\nexport function SkipLink(props) {\n\n  const {\n    className,\n    label,\n    onSkip\n  } = props;\n\n  const onKeyDown = useCallback(event => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      event.stopPropagation();\n      onSkip();\n    }\n  }, [ onSkip ]);\n\n\n  return (\n    <a\n      href=\"#\"\n      class={ classNames('fjs-skip-link', className) }\n      onKeyDown={ onKeyDown }\n    >{ label }</a>\n  );\n}","import { useMemo, useRef, useState } from 'preact/hooks';\n\nimport {\n  useDeepCompareMemoize,\n  useService,\n  useOptionsAsync,\n  useCleanupMultiSelectValue,\n  useGetLabelCorrelation,\n  LOAD_STATES\n} from '../../hooks';\n\nimport XMarkIcon from './icons/XMark.svg';\nimport { DropdownList } from './parts/DropdownList';\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\nimport { SkipLink } from './parts/SkipLink';\n\nimport classNames from 'classnames';\nimport isEqual from 'lodash/isEqual';\nimport { sanitizeMultiSelectValue, hasEqualValue } from '../util/sanitizerUtil';\nimport { createEmptyOptions } from '../util/optionsUtil';\nimport { formFieldClasses } from '../Util';\n\nconst type = 'taglist';\n\nexport function Taglist(props) {\n  const {\n    disabled,\n    errors = [],\n    onFocus,\n    domId,\n    onBlur,\n    field,\n    readonly,\n    value\n  } = props;\n\n  const {\n    description,\n    label,\n    validate = {}\n  } = field;\n\n  const { required } = validate;\n\n  const [ filter, setFilter ] = useState('');\n  const [ isDropdownExpanded, setIsDropdownExpanded ] = useState(false);\n  const [ isEscapeClosed, setIsEscapeClose ] = useState(false);\n  const focusScopeRef = useRef();\n  const inputRef = useRef();\n  const eventBus = useService('eventBus');\n\n  const {\n    loadState,\n    options\n  } = useOptionsAsync(field);\n\n  // ensures we render based on array content instead of reference\n  const values = useDeepCompareMemoize(value || []);\n\n  useCleanupMultiSelectValue({\n    field,\n    loadState,\n    options,\n    values,\n    onChange: props.onChange\n  });\n\n  const getLabelCorrelation = useGetLabelCorrelation(options);\n\n  const hasOptionsLeft = useMemo(() => options.length > values.length, [ options.length, values.length ]);\n\n  const filteredOptions = useMemo(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return [];\n    }\n\n    const isValidFilteredOption = (option) => {\n      const filterMatches = option.label.toLowerCase().includes(filter.toLowerCase());\n      return filterMatches && !hasEqualValue(option.value, values);\n    };\n\n    return options.filter(isValidFilteredOption);\n  }, [ filter, options, values, loadState ]);\n\n\n  const selectValue = (value) => {\n\n    setFilter('');\n\n    // Ensure values cannot be double selected due to latency\n    if (values.at(-1) === value) {\n      return;\n    }\n\n    props.onChange({ value: [ ...values, value ], field });\n  };\n\n  const deselectValue = (value) => {\n    const newValues = values.filter((v) => !isEqual(v, value));\n    props.onChange({ value: newValues, field });\n  };\n\n  const onInputChange = ({ target }) => {\n    setIsEscapeClose(false);\n    setFilter(target.value || '');\n    eventBus.fire('formField.search', { formField: field, value: target.value || '' });\n  };\n\n  const onInputKeyDown = (e) => {\n\n    switch (e.key) {\n    case 'ArrowUp':\n    case 'ArrowDown':\n\n      // We do not want the cursor to seek in the search field when we press up and down\n      e.preventDefault();\n      break;\n    case 'Backspace':\n      if (!filter && values.length) {\n        deselectValue(values[values.length - 1]);\n      }\n      break;\n    case 'Escape':\n      setIsEscapeClose(true);\n      break;\n    case 'Enter':\n      if (isEscapeClosed) {\n        setIsEscapeClose(false);\n      }\n      break;\n    }\n  };\n\n  const onElementBlur = (e) => {\n    if (focusScopeRef.current.contains(e.relatedTarget)) return;\n    onBlur && onBlur();\n  };\n\n  const onElementFocus = (e) => {\n    if (focusScopeRef.current.contains(e.relatedTarget)) return;\n    onFocus && onFocus();\n  };\n\n  const onInputBlur = (e) => {\n    if (!readonly) {\n      setIsDropdownExpanded(false);\n      setFilter('');\n    }\n    onElementBlur(e);\n  };\n\n  const onInputFocus = (e) => {\n    if (!readonly) {\n      setIsDropdownExpanded(true);\n    }\n    onElementFocus(e);\n  };\n\n  const onTagRemoveClick = (event, value) => {\n    const { target } = event;\n\n    deselectValue(value);\n\n    // restore focus if there is no next sibling to focus\n    const nextTag = target.closest('.fjs-taglist-tag').nextSibling;\n    if (!nextTag) {\n      inputRef.current.focus();\n    }\n  };\n\n  const onSkipToSearch = () => {\n    inputRef.current.focus();\n  };\n\n  const shouldDisplayDropdown = useMemo(() => !disabled && loadState === LOAD_STATES.LOADED && isDropdownExpanded && !isEscapeClosed, [ disabled, isDropdownExpanded, isEscapeClosed, loadState ]);\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return <div\n    ref={ focusScopeRef }\n    class={ formFieldClasses(type, { errors, disabled, readonly }) }\n    onKeyDown={\n      (event) => {\n        if (event.key === 'Enter') {\n          event.stopPropagation();\n          event.preventDefault();\n        }\n      }\n    }\n  >\n    <Label\n      label={ label }\n      required={ required }\n      htmlFor={ domId } />\n    { (!disabled && !readonly && !!values.length) && <SkipLink className=\"fjs-taglist-skip-link\" label=\"Skip to search\" onSkip={ onSkipToSearch } /> }\n    <div class={ classNames('fjs-taglist', { 'fjs-disabled': disabled, 'fjs-readonly': readonly }) }>\n      { loadState === LOAD_STATES.LOADED &&\n        <div class=\"fjs-taglist-tags\">\n          {\n            values.map((v) => {\n              return (\n                <div class={ classNames('fjs-taglist-tag', { 'fjs-disabled': disabled, 'fjs-readonly': readonly }) } onMouseDown={ (e) => e.preventDefault() }>\n                  <span class=\"fjs-taglist-tag-label\">\n                    { getLabelCorrelation(v) }\n                  </span>\n                  { (!disabled && !readonly) && <button\n                    type=\"button\"\n                    title=\"Remove tag\"\n                    class=\"fjs-taglist-tag-remove\"\n                    onFocus={ onElementFocus }\n                    onBlur={ onElementBlur }\n                    onClick={ (event) => onTagRemoveClick(event, v) }>\n\n                    <XMarkIcon />\n                  </button> }\n                </div>\n              );\n            })\n          }\n        </div>\n      }\n      <input\n        disabled={ disabled }\n        readOnly={ readonly }\n        class=\"fjs-taglist-input\"\n        ref={ inputRef }\n        id={ domId }\n        onChange={ onInputChange }\n        type=\"text\"\n        value={ filter }\n        placeholder={ (disabled || readonly) ? undefined : 'Search' }\n        autoComplete=\"off\"\n        onKeyDown={ onInputKeyDown }\n        onMouseDown={ () => setIsEscapeClose(false) }\n        onFocus={ onInputFocus }\n        onBlur={ onInputBlur }\n        aria-describedby={ [ descriptionId, errorMessageId ].join(' ') }\n        required={ required }\n        aria-invalid={ errors.length > 0 } />\n    </div>\n    <div class=\"fjs-taglist-anchor\">\n      { shouldDisplayDropdown && <DropdownList\n        values={ filteredOptions }\n        getLabel={ (o) => o.label }\n        onValueSelected={ (o) => selectValue(o.value) }\n        emptyListMessage={ hasOptionsLeft ? 'No results' : 'All values selected' }\n        listenerElement={ inputRef.current } /> }\n    </div>\n    <Description id={ descriptionId } description={ description } />\n    <Errors id={ errorMessageId } errors={ errors } />\n  </div>;\n}\n\nTaglist.config = {\n  type,\n  keyed: true,\n  label: 'Seznam štítků',\n  group: 'selection',\n  emptyValue: [],\n  sanitizeValue: sanitizeMultiSelectValue,\n  create: createEmptyOptions\n};\n","const NODE_TYPE_TEXT = 3,\n      NODE_TYPE_ELEMENT = 1;\n\nconst ALLOWED_NODES = [\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'span',\n  'em',\n  'a',\n  'p',\n  'div',\n  'ul',\n  'ol',\n  'li',\n  'hr',\n  'blockquote',\n  'img',\n  'pre',\n  'code',\n  'br',\n  'strong',\n  'table',\n  'thead',\n  'tbody',\n  'tr',\n  'th',\n  'td'\n];\n\nconst ALLOWED_ATTRIBUTES = [\n  'align',\n  'alt',\n  'class',\n  'href',\n  'id',\n  'name',\n  'rel',\n  'target',\n  'src'\n];\n\nconst ALLOWED_URI_PATTERN = /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i; // eslint-disable-line no-useless-escape\nconst ATTR_WHITESPACE_PATTERN = /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g; // eslint-disable-line no-control-regex\n\nconst FORM_ELEMENT = document.createElement('form');\n\n/**\n * Sanitize a HTML string and return the cleaned, safe version.\n *\n * @param {string} html\n * @return {string}\n */\n\n// see https://github.com/developit/snarkdown/issues/70\nexport function sanitizeHTML(html) {\n\n  const doc = new DOMParser().parseFromString(\n    `<!DOCTYPE html>\\n<html><body><div>${ html }`,\n    'text/html'\n  );\n\n  doc.normalize();\n\n  const element = doc.body.firstChild;\n\n  if (element) {\n\n    sanitizeNode(/** @type Element */ (element));\n    return /** @type Element */ (element).innerHTML;\n\n  } else {\n\n    // handle the case that document parsing\n    // does not work at all, due to HTML gibberish\n    return '';\n  }\n}\n\n/**\n * Recursively sanitize a HTML node, potentially\n * removing it, its children or attributes.\n *\n * Inspired by https://github.com/developit/snarkdown/issues/70\n * and https://github.com/cure53/DOMPurify. Simplified\n * for our use-case.\n *\n * @param {Element} node\n */\nfunction sanitizeNode(node) {\n\n  // allow text nodes\n  if (node.nodeType === NODE_TYPE_TEXT) {\n    return;\n  }\n\n  // disallow all other nodes but Element\n  if (node.nodeType !== NODE_TYPE_ELEMENT) {\n    return node.remove();\n  }\n\n  const lcTag = node.tagName.toLowerCase();\n\n  // disallow non-whitelisted tags\n  if (!ALLOWED_NODES.includes(lcTag)) {\n    return node.remove();\n  }\n\n  const attributes = node.attributes;\n\n  // clean attributes\n  for (let i = attributes.length; i--;) {\n    const attribute = attributes[i];\n\n    const name = attribute.name;\n    const lcName = name.toLowerCase();\n\n    // normalize node value\n    const value = attribute.value.trim();\n\n    node.removeAttribute(name);\n\n    const valid = isValidAttribute(lcTag, lcName, value);\n\n    if (valid) {\n      node.setAttribute(name, value);\n    }\n\n  }\n\n  // force noopener on target=\"_blank\" links\n  if (lcTag === 'a' && node.getAttribute('target') === '_blank' && node.getAttribute('rel') !== 'noopener') {\n    node.setAttribute('rel', 'noopener');\n  }\n\n  for (let i = node.childNodes.length; i--;) {\n    sanitizeNode(/** @type Element */ (node.childNodes[i]));\n  }\n}\n\n\n/**\n * Validates attributes for validity.\n *\n * @param {string} lcTag\n * @param {string} lcName\n * @param {string} value\n * @return {boolean}\n */\nfunction isValidAttribute(lcTag, lcName, value) {\n\n  // disallow most attributes based on whitelist\n  if (!ALLOWED_ATTRIBUTES.includes(lcName)) {\n    return false;\n  }\n\n  // disallow \"DOM clobbering\" / polution of document and wrapping form elements\n  if ((lcName === 'id' || lcName === 'name') && (value in document || value in FORM_ELEMENT)) {\n    return false;\n  }\n\n  if (lcName === 'target' && value !== '_blank') {\n    return false;\n  }\n\n  // allow valid url links only\n  if (lcName === 'href' && !ALLOWED_URI_PATTERN.test(value.replace(ATTR_WHITESPACE_PATTERN, ''))) {\n    return false;\n  }\n\n  return true;\n}","import { useCallback, useMemo } from 'preact/hooks';\nimport { useDangerousHTMLWrapper, useService, useTemplateEvaluation } from '../../hooks';\nimport { sanitizeHTML } from '../Sanitizer';\n\nimport {\n  formFieldClasses\n} from '../Util';\n\nconst type = 'text';\n\nexport function Text(props) {\n\n  const form = useService('form');\n  const { textLinkTarget } = form._getState().properties;\n\n  const { field, disableLinks } = props;\n\n  const { text = '', strict = false } = field;\n\n  const markdownRenderer = useService('markdownRenderer');\n\n  // feelers => pure markdown\n  const markdown = useTemplateEvaluation(text, { debug: true, strict });\n\n  // markdown => html\n  const html = useMemo(() => markdownRenderer.render(markdown), [ markdownRenderer, markdown ]);\n\n  const sanitizeAndTransformLinks = useCallback((unsafeHtml) => {\n\n    const html = sanitizeHTML(unsafeHtml);\n\n    const tempDiv = document.createElement('div');\n    tempDiv.innerHTML = html;\n\n    const links = tempDiv.querySelectorAll('a');\n\n    links.forEach(link => {\n\n      if (disableLinks) {\n        link.setAttribute('class', 'fjs-disabled-link');\n        link.setAttribute('tabIndex', '-1');\n      }\n\n      if (textLinkTarget) {\n        link.setAttribute('target', textLinkTarget);\n      }\n\n    });\n\n    return tempDiv.innerHTML;\n\n  }, [ disableLinks, textLinkTarget ]);\n\n  const dangerouslySetInnerHTML = useDangerousHTMLWrapper({\n    html,\n    transform: sanitizeAndTransformLinks,\n    sanitize: false,\n    sanitizeStyleTags: false\n  });\n\n  return <div class={ formFieldClasses(type) } dangerouslySetInnerHTML={ dangerouslySetInnerHTML }></div>;\n}\n\nText.config = {\n  type,\n  keyed: false,\n  label: 'Textový popis',\n  group: 'presentation',\n  create: (options = {}) => ({\n    text: '# Text',\n    ...options\n  })\n};\n","import { useCallback } from 'preact/hooks';\nimport { useService, useTemplateEvaluation, useDangerousHTMLWrapper } from '../../hooks';\nimport { escapeHTML } from '../util/sanitizerUtil';\nimport { wrapCSSStyles } from '../util/domUtil';\n\nimport {\n  formFieldClasses\n} from '../Util';\nimport classNames from 'classnames';\n\nconst type = 'html';\n\nexport function Html(props) {\n\n  const form = useService('form');\n  const { textLinkTarget } = form._getState().properties;\n\n  const { field, disableLinks, domId } = props;\n\n  const { content = '', strict = false } = field;\n\n  const styleScope = `${domId}-style-scope`;\n\n  // we escape HTML within the template evaluation to prevent clickjacking attacks\n  const html = useTemplateEvaluation(content, { debug: true, strict, sanitizer: escapeHTML });\n\n  const transform = useCallback((html) => {\n\n    const tempDiv = document.createElement('div');\n    tempDiv.innerHTML = html;\n\n    // (1) apply modifications to links\n\n    const links = tempDiv.querySelectorAll('a');\n\n    links.forEach(link => {\n\n      if (disableLinks) {\n        link.setAttribute('class', 'fjs-disabled-link');\n        link.setAttribute('tabIndex', '-1');\n      }\n\n      if (textLinkTarget) {\n        link.setAttribute('target', textLinkTarget);\n      }\n\n    });\n\n    // (2) scope styles to the root div\n    wrapCSSStyles(tempDiv, `.${styleScope}`);\n\n    return tempDiv.innerHTML;\n\n  }, [ disableLinks, styleScope, textLinkTarget ]);\n\n  const dangerouslySetInnerHTML = useDangerousHTMLWrapper({\n    html,\n    transform,\n    sanitize: true,\n    sanitizeStyleTags: false\n  });\n\n  return <div class={ classNames(formFieldClasses(type), styleScope) } dangerouslySetInnerHTML={ dangerouslySetInnerHTML }></div>;\n}\n\nHtml.config = {\n  type,\n  keyed: false,\n  label: 'HTML',\n  group: 'presentation',\n  create: (options = {}) => ({\n    content: '',\n    ...options\n  })\n};\n","import { useCallback, useEffect } from 'preact/hooks';\nimport { useExpressionEvaluation, useDeepCompareMemoize, useService } from '../../hooks';\n\nconst type = 'expression';\n\nexport function ExpressionField(props) {\n  const {\n    field,\n    onChange,\n    value\n  } = props;\n\n  const {\n    computeOn,\n    expression\n  } = field;\n\n  const evaluation = useExpressionEvaluation(expression);\n  const evaluationMemo = useDeepCompareMemoize(evaluation);\n  const eventBus = useService('eventBus');\n\n  const sendValue = useCallback(() => {\n    onChange && onChange({ field, value: evaluationMemo });\n  }, [ field, evaluationMemo, onChange ]);\n\n  useEffect(() => {\n    if (computeOn !== 'change' || evaluationMemo === value) { return; }\n    sendValue();\n  }, [ computeOn, evaluationMemo, sendValue, value ]);\n\n  useEffect(() => {\n    if (computeOn === 'presubmit') {\n      eventBus.on('presubmit', sendValue);\n      return () => eventBus.off('presubmit', sendValue);\n    }\n  }, [ computeOn, sendValue, eventBus ]);\n\n  return null;\n}\n\nExpressionField.config = {\n  type,\n  label: 'Výraz',\n  group: 'basic-input',\n  keyed: true,\n  emptyValue: null,\n  escapeGridRender: true,\n  create: (options = {}) => ({\n    computeOn: 'change',\n    ...options,\n  })\n};","import { isArray, isObject, isNil } from 'min-dash';\nimport { formFieldClasses } from '../Util';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\nimport { TemplatedInputAdorner } from './parts/TemplatedInputAdorner';\n\nimport { useFlushDebounce } from '../../hooks/useFlushDebounce';\n\nconst type = 'textfield';\n\nexport function Textfield(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value = ''\n  } = props;\n\n  const {\n    description,\n    label,\n    appearance = {},\n    validate = {}\n  } = field;\n\n  const {\n    prefixAdorner,\n    suffixAdorner\n  } = appearance;\n\n  const { required } = validate;\n\n  const [ onInputChange, flushOnChange ] = useFlushDebounce(({ target }) => {\n    props.onChange({\n      field,\n      value: target.value\n    });\n  });\n\n  const onInputBlur = () => {\n    flushOnChange && flushOnChange();\n    onBlur && onBlur();\n  };\n\n  const onInputFocus = () => {\n    onFocus && onFocus();\n  };\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return <div class={ formFieldClasses(type, { errors, disabled, readonly }) }>\n    <Label\n      htmlFor={ domId }\n      label={ label }\n      required={ required } />\n    <TemplatedInputAdorner disabled={ disabled } readonly={ readonly } pre={ prefixAdorner } post={ suffixAdorner }>\n      <input\n        class=\"fjs-input\"\n        disabled={ disabled }\n        readOnly={ readonly }\n        id={ domId }\n        onInput={ onInputChange }\n        onBlur={ onInputBlur }\n        onFocus={ onInputFocus }\n        type=\"text\"\n        value={ value }\n        aria-describedby={ [ descriptionId, errorMessageId ].join(' ') }\n        required={ required }\n        aria-invalid={ errors.length > 0 } />\n    </TemplatedInputAdorner>\n    <Description id={ descriptionId } description={ description } />\n    <Errors id={ errorMessageId } errors={ errors } />\n  </div>;\n}\n\nTextfield.config = {\n  type,\n  keyed: true,\n  label: 'Text',\n  group: 'basic-input',\n  emptyValue: '',\n  sanitizeValue: ({ value }) => {\n    if (isArray(value) || isObject(value) || isNil(value)) {\n      return '';\n    }\n\n    // sanitize newlines to spaces\n    if (typeof value === 'string') {\n      return value.replace(/[\\r\\n\\t]/g, ' ');\n    }\n\n    return String(value);\n  },\n  create: (options = {}) => ({ ...options })\n};\n","import { isArray, isObject, isNil } from 'min-dash';\n\nimport { useEffect, useLayoutEffect, useRef } from 'preact/hooks';\nimport { useFlushDebounce } from '../../hooks/useFlushDebounce';\n\nimport { formFieldClasses } from '../Util';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\n\nconst type = 'textarea';\n\nexport function Textarea(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value = ''\n  } = props;\n\n  const {\n    description,\n    label,\n    validate = {}\n  } = field;\n\n  const { required } = validate;\n  const textareaRef = useRef();\n\n  const [ onChange, flushOnChange ] = useFlushDebounce(({ target }) => {\n    props.onChange({\n      field,\n      value: target.value\n    });\n  });\n\n  const onInputBlur = () => {\n    flushOnChange && flushOnChange();\n    onBlur && onBlur();\n  };\n\n  const onInputFocus = () => {\n    onFocus && onFocus();\n  };\n\n  const onInputChange = (event) => {\n    onChange({ target: event.target });\n    autoSizeTextarea(textareaRef.current);\n  };\n\n  useLayoutEffect(() => {\n    autoSizeTextarea(textareaRef.current);\n  }, [ value ]);\n\n  useEffect(() => {\n    autoSizeTextarea(textareaRef.current);\n  }, []);\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return <div class={ formFieldClasses(type, { errors, disabled, readonly }) }>\n    <Label\n      htmlFor={ domId }\n      label={ label }\n      required={ required } />\n    <textarea class=\"fjs-textarea\"\n      disabled={ disabled }\n      readonly={ readonly }\n      id={ domId }\n      onInput={ onInputChange }\n      onBlur={ onInputBlur }\n      onFocus={ onInputFocus }\n      value={ value }\n      ref={ textareaRef }\n      aria-describedby={ [ descriptionId, errorMessageId ].join(' ') }\n      required={ required }\n      aria-invalid={ errors.length > 0 } />\n    <Description id={ descriptionId } description={ description } />\n    <Errors id={ errorMessageId } errors={ errors } />\n  </div>;\n}\n\nTextarea.config = {\n  type,\n  keyed: true,\n  label: 'Dlouhý text',\n  group: 'basic-input',\n  emptyValue: '',\n  sanitizeValue: ({ value }) => (isArray(value) || isObject(value) || isNil(value)) ? '' : String(value),\n  create: (options = {}) => ({ ...options })\n};\n\nconst autoSizeTextarea = (textarea) => {\n\n  // Ensures the textarea shrinks back, and improves resizing behavior consistency\n  textarea.style.height = '0px';\n\n  const computed = window.getComputedStyle(textarea);\n\n  const heightFromLines = () => {\n    const lineHeight = parseInt(computed.getPropertyValue('line-height').replace('px', '')) || 0;\n    const lines = textarea.value ? textarea.value.toString().split('\\n').length : 0;\n    return lines * lineHeight;\n  };\n\n  const calculatedHeight = parseInt(computed.getPropertyValue('border-top-width'))\n    + parseInt(computed.getPropertyValue('padding-top'))\n    + (textarea.scrollHeight || heightFromLines())\n    + parseInt(computed.getPropertyValue('padding-bottom'))\n    + parseInt(computed.getPropertyValue('border-bottom-width'));\n\n  const minHeight = 75;\n  const maxHeight = 350;\n  const displayHeight = Math.max(Math.min(calculatedHeight || 0, maxHeight), minHeight);\n\n  textarea.style.height = `${displayHeight}px`;\n\n  // Overflow is hidden by default to hide scrollbar flickering\n  textarea.style.overflow = calculatedHeight > maxHeight ? 'visible' : 'hidden';\n\n};\n","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path fill=\"currentcolor\" d=\"M24.59 16.59 17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10 10-10-1.41-1.41z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path fill=\"currentcolor\" d=\"M16 4 6 14l1.41 1.41L15 7.83V28h2V7.83l7.59 7.58L26 14 16 4z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" xml:space=\"preserve\" viewBox=\"0 0 32 32\"><path fill=\"currentcolor\" d=\"m20 24-10-8 10-8z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" xml:space=\"preserve\" viewBox=\"0 0 32 32\"><path fill=\"currentcolor\" d=\"m12 8 10 8-10 8z\"/></svg>","import { isDefined, isNumber, isObject, isString } from 'min-dash';\nimport { useExpressionEvaluation } from '../../hooks';\nimport { useEffect, useState } from 'preact/hooks';\nimport { formFieldClasses, prefixId } from '../Util';\nimport classNames from 'classnames';\n\nimport { Label } from '../Label';\nimport ArrowDownIcon from './icons/ArrowDown.svg';\nimport ArrowUpIcon from './icons/ArrowUp.svg';\nimport CaretLeftIcon from './icons/CaretLeft.svg';\nimport CaretRightIcon from './icons/CaretRight.svg';\n\nconst type = 'table';\n\n/**\n * @typedef {('asc'|'desc')} Direction\n *\n * @typedef Sorting\n * @property {string} key\n * @property {Direction} direction\n *\n * @typedef Column\n * @property {string} label\n * @property {string} key\n *\n * @typedef Field\n * @property {string} id\n * @property {Array<Column>} [columns]\n * @property {string} [columnsExpression]\n * @property {string} [label]\n * @property {number} [rowCount]\n * @property {string} [dataSource]\n *\n * @typedef Props\n * @property {Field} field\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nexport function Table(props) {\n  const { field } = props;\n  const {\n    columns = [],\n    columnsExpression,\n    dataSource = '',\n    rowCount,\n    id,\n    label,\n  } = field;\n\n  /** @type {[(null|Sorting), import(\"preact/hooks\").StateUpdater<null|Sorting>]} */\n  const [ sortBy, setSortBy ] = useState(null);\n  const evaluatedColumns = useEvaluatedColumns(\n    columnsExpression || '',\n    columns,\n  );\n  const columnKeys = evaluatedColumns.map(({ key }) => key);\n  const evaluatedDataSource = useExpressionEvaluation(dataSource);\n  const data = Array.isArray(evaluatedDataSource) ? evaluatedDataSource.filter(i => i !== undefined) : [];\n  const sortedData =\n    sortBy === null\n      ? data\n      : sortByColumn(data, sortBy.key, sortBy.direction);\n\n  /** @type {unknown[][]} */\n  const chunkedData = isNumber(rowCount) ? chunk(sortedData, rowCount) : [ sortedData ];\n  const [ currentPage, setCurrentPage ] = useState(0);\n  const currentChunk = chunkedData[currentPage] || [];\n\n\n  useEffect(() => {\n    setCurrentPage(0);\n  }, [ rowCount, sortBy ]);\n\n\n  /** @param {string} key */\n  function toggleSortBy(key) {\n    setSortBy((current) => {\n      if (current === null || current.key !== key) {\n        return {\n          key,\n          direction: 'asc',\n        };\n      }\n\n      if (current.direction === 'desc') {\n        return null;\n      }\n\n      return {\n        key,\n        direction: 'desc',\n      };\n    });\n  }\n\n  return (\n    <div class={ formFieldClasses(type) }>\n      <Label htmlFor={ prefixId(id) } label={ label } />\n      <div\n        class={ classNames('fjs-table-middle-container', {\n          'fjs-table-empty': evaluatedColumns.length === 0,\n        }) }\n      >\n        {evaluatedColumns.length === 0 ? (\n          'Nothing to show.'\n        ) : (\n          <div class=\"fjs-table-inner-container\">\n            <table class=\"fjs-table\" id={ prefixId(id) }>\n              <thead class=\"fjs-table-head\">\n                <tr class=\"fjs-table-tr\">\n                  {evaluatedColumns.map(({ key, label }) => {\n                    const displayLabel = label || key;\n\n                    return (\n                      <th\n                        key={ key }\n                        tabIndex={ 0 }\n                        class=\"fjs-table-th\"\n                        onClick={ () => {\n                          toggleSortBy(key);\n                        } }\n                        onKeyDown={ (event) => {\n                          if ([ 'Enter', 'Space' ].includes(event.code)) {\n                            toggleSortBy(key);\n                          }\n                        } }\n                        aria-label={ getHeaderAriaLabel(\n                          sortBy,\n                          key,\n                          displayLabel,\n                        ) }\n                      >\n                        <span\n                          class=\"fjs-table-th-label\"\n                        >\n                          {displayLabel}\n                          {sortBy !== null && sortBy.key === key ? (\n                            <>\n                              {sortBy.direction === 'asc' ? (\n                                <ArrowUpIcon class=\"fjs-table-sort-icon-asc\" />\n                              ) : (\n                                <ArrowDownIcon class=\"fjs-table-sort-icon-desc\" />\n                              )}\n                            </>\n                          ) : null}\n                        </span>\n                      </th>\n                    );\n                  })}\n                </tr>\n              </thead>\n              {currentChunk.length === 0 ? (\n                <tbody class=\"fjs-table-body\">\n                  <tr class=\"fjs-table-tr\">\n                    <td class=\"fjs-table-td\" colSpan={ evaluatedColumns.length }>\n                      Nothing to show.\n                    </td>\n                  </tr>\n                </tbody>\n              ) : (\n                <tbody class=\"fjs-table-body\">\n                  {currentChunk.map((row, index) => (\n                    <tr key={ index } class=\"fjs-table-tr\">\n                      {columnKeys.map((key) => (\n                        <td key={ key } class=\"fjs-table-td\">\n                          {row[key]}\n                        </td>\n                      ))}\n                    </tr>\n                  ))}\n                </tbody>\n              )}\n            </table>\n          </div>\n        )}\n\n        {(isNumber(rowCount) && chunkedData.length > 1 && evaluatedColumns.length > 0) ?\n          (\n            <nav class=\"fjs-table-nav\">\n              <span class=\"fjs-table-nav-label\">\n                {currentPage + 1} of {chunkedData.length}\n              </span>\n              <button\n                type=\"button\"\n                class=\"fjs-table-nav-button\"\n                onClick={ () => {\n                  setCurrentPage((page) => Math.max(page - 1, 0));\n                } }\n                disabled={ currentPage === 0 }\n                aria-label=\"Previous page\"\n              >\n                <CaretLeftIcon />\n              </button>\n              <button\n                type=\"button\"\n                class=\"fjs-table-nav-button\"\n                onClick={ () => {\n                  setCurrentPage((page) =>\n                    Math.min(page + 1, chunkedData.length - 1),\n                  );\n                } }\n                disabled={ currentPage >= chunkedData.length - 1 }\n                aria-label=\"Next page\"\n              >\n                <CaretRightIcon />\n              </button>\n            </nav>\n          ) : null}\n      </div>\n    </div>\n  );\n}\n\nTable.config = {\n  type,\n  keyed: false,\n  label: 'Tabulka',\n  group: 'presentation',\n  create: (options = {}) => {\n    const {\n      id,\n      columnsExpression,\n      columns,\n      rowCount,\n      ...remainingOptions\n    } = options;\n\n    if (isDefined(id) && isNumber(rowCount)) {\n      remainingOptions['rowCount'] = rowCount;\n    }\n\n    if (isString(columnsExpression)) {\n      return {\n        ...remainingOptions,\n        id,\n        columnsExpression,\n      };\n    }\n\n    if (Array.isArray(columns) && columns.every(isColumn)) {\n      return {\n        ...remainingOptions,\n        id,\n        columns,\n      };\n    }\n\n    return {\n      ...remainingOptions,\n      rowCount: 10,\n      columns: [\n        {\n          label: 'ID',\n          key: 'id',\n        },\n        {\n          label: 'Name',\n          key: 'name',\n        },\n        {\n          label: 'Date',\n          key: 'date',\n        },\n      ],\n    };\n  },\n\n  /**\n   * @experimental\n   *\n   * A function that generates demo data for a new field on the form playground.\n   * @param {Field} field\n   */\n  generateInitialDemoData: (field) => {\n    const demoData = [\n      { id: 1, name: 'John Doe', date: '31.01.2023' },\n      { id: 2, name: 'Erika Muller', date: '20.02.2023' },\n      { id: 3, name: 'Dominic Leaf', date: '11.03.2023' }\n    ];\n    const demoDataKeys = Object.keys(demoData[0]);\n    const { columns, id, dataSource } = field;\n\n    if (!Array.isArray(columns) || columns.length === 0 || dataSource !== `=${id}`) {\n      return;\n    }\n\n    if (!columns.map(({ key })=>key).every(key => demoDataKeys.includes(key))) {\n      return;\n    }\n\n    return demoData;\n  }\n};\n\n// helpers /////////////////////////////\n\n/**\n * @param {string|void} columnsExpression\n * @param {Column[]} fallbackColumns\n * @returns {Column[]}\n */\nfunction useEvaluatedColumns(columnsExpression, fallbackColumns) {\n\n  /** @type {Column[]|null} */\n  const evaluation = useExpressionEvaluation(columnsExpression || '');\n\n  return Array.isArray(evaluation) && evaluation.every(isColumn)\n    ? evaluation\n    : fallbackColumns;\n}\n\n/**\n * @param {any} column\n * @returns {column is Column}\n */\nfunction isColumn(column) {\n  return (\n    isObject(column) && isString(column['label']) && isString(column['key'])\n  );\n}\n\n/**\n * @param {Array} array\n * @param {number} size\n * @returns {Array}\n */\nfunction chunk(array, size) {\n  return array.reduce((chunks, item, index) => {\n    if (index % size === 0) {\n      chunks.push([ item ]);\n    } else {\n      chunks[chunks.length - 1].push(item);\n    }\n\n    return chunks;\n  }, []);\n}\n\n/**\n * @param {unknown[]} array\n * @param {string} key\n * @param {Direction} direction\n * @returns {unknown[]}\n */\nfunction sortByColumn(array, key, direction) {\n  return [ ...array ].sort((a, b) => {\n    if (!isObject(a) || !isObject(b)) {\n      return 0;\n    }\n\n    if (direction === 'asc') {\n      return a[key] > b[key] ? 1 : -1;\n    }\n\n    return a[key] < b[key] ? 1 : -1;\n  });\n}\n\n/**\n * @param {null|Sorting} sortBy\n * @param {string} key\n * @param {string} label\n */\nfunction getHeaderAriaLabel(sortBy, key, label) {\n  if (sortBy === null || sortBy.key !== key) {\n    return `Click to sort by ${label} descending`;\n  }\n\n  if (sortBy.direction === 'asc') {\n    return 'Click to remove sorting';\n  }\n\n  return `Click to sort by ${label} ascending`;\n}\n","/**\n * This file must not be changed or exchanged.\n *\n * @see http://bpmn.io/license for more information.\n */\nimport { Fragment } from 'preact';\nimport { useState } from 'preact/hooks';\nimport { createPortal } from 'preact/compat';\n\nfunction Logo() {\n  return <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.02 5.57\" width=\"53\" height=\"21\" style=\"vertical-align:middle\"><path fill=\"currentColor\" d=\"M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z\" /><path fill=\"currentColor\" d=\"M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z\" /></svg>;\n}\n\nfunction Lightbox(props) {\n  const { open } = props;\n\n  if (!open) {\n    return null;\n  }\n\n  return (\n    <div class=\"fjs-powered-by-lightbox\" style=\"z-index: 100; position: fixed; top: 0; left: 0;right: 0; bottom: 0\">\n      <div class=\"backdrop\" style=\"width: 100%; height: 100%; background: rgba(40 40 40 / 20%)\" onClick={ props.onBackdropClick }></div>\n      <div class=\"notice\" style=\"position: absolute; left: 50%; top: 40%; transform: translate(-50%); width: 260px; padding: 10px; background: white; box-shadow: 0  1px 4px rgba(0 0 0 / 30%); font-family: Helvetica, Arial, sans-serif; font-size: 14px; display: flex; line-height: 1.3\">\n        <a href=\"https://bpmn.io\" target=\"_blank\" rel=\"noopener\" style=\"margin: 15px 20px 15px 10px; align-self: center; color: var(--cds-icon-primary, #404040)\">\n          <Logo />\n        </a>\n        <span>\n          Web-based tooling for BPMN, DMN, and forms\n          powered by <a href=\"https://bpmn.io\" target=\"_blank\" rel=\"noopener\">bpmn.io</a>.\n        </span>\n      </div>\n    </div>\n  );\n}\n\nfunction Link(props) {\n  return (\n    <div class=\"fjs-powered-by fjs-form-field\" style=\"text-align: right\">\n      <a href=\"https://bpmn.io\" target=\"_blank\" rel=\"noopener\" class=\"fjs-powered-by-link\" title=\"Powered by bpmn.io\" style=\"color: var(--cds-text-primary, #404040)\" onClick={ props.onClick }><Logo /></a>\n    </div>\n  );\n}\n\nexport function PoweredBy(props) {\n\n  const [ open, setOpen ] = useState(false);\n\n  function toggleOpen(open) {\n    return (event) => {\n      event.preventDefault();\n\n      setOpen(open);\n    };\n  }\n\n  return (\n    <Fragment>\n      {\n        createPortal(\n          <Lightbox open={ open } onBackdropClick={ toggleOpen(false) } />,\n          document.body\n        )\n      }\n      <Link onClick={ toggleOpen(true) } />\n    </Fragment>\n  );\n}","import { FormField } from './FormField';\nimport { PoweredBy } from './PoweredBy';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext';\n\nimport { useMemo } from 'preact/hooks';\nimport { useFilteredFormData, useService } from '../hooks';\n\nconst noop = () => {};\n\nexport function FormComponent(props) {\n  const form = useService('form');\n\n  const { schema, properties } = form._getState();\n\n  const { ariaLabel } = properties;\n\n  const {\n    onSubmit = noop,\n    onReset = noop,\n    onChange = noop,\n  } = props;\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    onSubmit();\n  };\n\n  const handleReset = (event) => {\n    event.preventDefault();\n\n    onReset();\n  };\n\n  const filteredFormData = useFilteredFormData();\n\n  const localExpressionContext = useMemo(() => ({\n    data: filteredFormData,\n    parent: null,\n    this: filteredFormData,\n    i: []\n  }), [ filteredFormData ]);\n\n  return (\n    <form\n      class=\"fjs-form\"\n      onSubmit={ handleSubmit }\n      onReset={ handleReset }\n      aria-label={ ariaLabel }\n      noValidate\n    >\n      <LocalExpressionContext.Provider value={ localExpressionContext }>\n        <FormField\n          field={ schema }\n          onChange={ onChange }\n        />\n      </LocalExpressionContext.Provider>\n      <PoweredBy />\n    </form>\n  );\n}","import { Button } from './form-fields/Button';\nimport { Checkbox } from './form-fields/Checkbox';\nimport { Checklist } from './form-fields/Checklist';\nimport { Default } from './form-fields/Default';\nimport { Datetime } from './form-fields/Datetime';\nimport { Group } from './form-fields/Group';\nimport { IFrame } from './form-fields/IFrame';\nimport { Image } from './form-fields/Image';\nimport { Numberfield } from './form-fields/Number';\nimport { Radio } from './form-fields/Radio';\nimport { Select } from './form-fields/Select';\nimport { Separator } from './form-fields/Separator';\nimport { Spacer } from './form-fields/Spacer';\nimport { DynamicList } from './form-fields/DynamicList';\nimport { Taglist } from './form-fields/Taglist';\nimport { Text } from './form-fields/Text';\nimport { Html } from './form-fields/Html';\nimport { ExpressionField } from './form-fields/ExpressionField';\nimport { Textfield } from './form-fields/Textfield';\nimport { Textarea } from './form-fields/Textarea';\nimport { Table } from './form-fields/Table';\n\nimport { Label } from './Label';\nimport { Description } from './Description';\nimport { Errors } from './Errors';\nimport { FormComponent } from './FormComponent';\nimport { FormField } from './FormField';\n\nexport {\n  Label,\n  Description,\n  Errors\n};\n\nexport {\n  Button,\n  Checkbox,\n  Checklist,\n  Default,\n  Datetime,\n  FormComponent,\n  FormField,\n  Group,\n  IFrame,\n  DynamicList,\n  Image,\n  Numberfield,\n  ExpressionField,\n  Radio,\n  Select,\n  Separator,\n  Spacer,\n  Taglist,\n  Text,\n  Html,\n  Textfield,\n  Textarea,\n  Table\n};\n\nexport const formFields = [\n\n  /* Input */\n  Textfield,\n  Textarea,\n  Numberfield,\n  Datetime,\n  ExpressionField,\n\n  /* Selection */\n  Checkbox,\n  Checklist,\n  Radio,\n  Select,\n  Taglist,\n\n  /* Presentation */\n  Text,\n  Image,\n  Table,\n  Html,\n  Spacer,\n  Separator,\n\n  /* Containers */\n  Group,\n  DynamicList,\n  IFrame,\n\n  /* Other */\n  Button,\n  Default\n];\n\nexport * from './icons';\nexport * from './Sanitizer';\nexport * from './util/domUtil';\nexport * from './util/sanitizerUtil';","import { formFields } from './components';\n\nexport class FormFields {\n  constructor() {\n    this._formFields = {};\n\n    formFields.forEach((formField) => {\n      this.register(formField.config.type, formField);\n    });\n  }\n\n  register(type, formField) {\n    this._formFields[ type ] = formField;\n  }\n\n  get(type) {\n    return this._formFields[ type ];\n  }\n}","import { FeelExpressionLanguage } from '../features/expressionLanguage/FeelExpressionLanguage.js';\nimport { FeelersTemplating } from '../features/expressionLanguage/FeelersTemplating.js';\nimport { FormFields } from '../render/FormFields.js';\n\nimport { get } from 'min-dash';\n\nconst EXPRESSION_PROPERTIES = [\n  'alt',\n  'appearance.prefixAdorner',\n  'appearance.suffixAdorner',\n  'conditional.hide',\n  'description',\n  'label',\n  'source',\n  'readonly',\n  'text',\n  'validate.min',\n  'validate.max',\n  'validate.minLength',\n  'validate.maxLength',\n  'valuesExpression',\n  'url',\n  'dataSource',\n  'columnsExpression'\n];\n\nconst TEMPLATE_PROPERTIES = [\n  'alt',\n  'appearance.prefixAdorner',\n  'appearance.suffixAdorner',\n  'description',\n  'label',\n  'source',\n  'text',\n  'content',\n  'url'\n];\n\n/**\n * @typedef { import('../types').Schema } Schema\n */\n\n/**\n * Parse the schema for variables a form might make use of.\n *\n * @example\n *\n * // retrieve variables from schema\n * const variables = getSchemaVariables(schema);\n *\n * @example\n *\n * // retrieve input variables from schema\n * const inputVariables = getSchemaVariables(schema, { outputs: false });\n *\n * @example\n *\n * // retrieve output variables from schema\n * const outputVariables = getSchemaVariables(schema, { inputs: false });\n *\n * @param {Schema} schema\n * @param {object} [options]\n * @param {any} [options.expressionLanguage]\n * @param {any} [options.templating]\n * @param {any} [options.formFields]\n * @param {boolean} [options.inputs=true]\n * @param {boolean} [options.outputs=true]\n *\n * @return {string[]}\n */\nexport function getSchemaVariables(schema, options = {}) {\n\n  const {\n    formFields = new FormFields(),\n    expressionLanguage = new FeelExpressionLanguage(null),\n    templating = new FeelersTemplating(),\n    inputs = true,\n    outputs = true\n  } = options;\n\n  if (!schema.components) {\n    return [];\n  }\n\n  const getAllComponents = (node) => {\n    const components = [];\n\n    if (node.components) {\n      node.components.forEach(component => {\n        components.push(component);\n        components.push(...getAllComponents(component));\n      });\n    }\n\n    return components;\n  };\n\n  const variables = getAllComponents(schema).reduce((variables, component) => {\n\n    const {\n      valuesKey\n    } = component;\n\n    // collect input-only variables\n    if (inputs) {\n\n      if (valuesKey) {\n        variables = [ ...variables, valuesKey ];\n      }\n\n      EXPRESSION_PROPERTIES.forEach((prop) => {\n        const property = get(component, prop.split('.'));\n\n        if (property && expressionLanguage.isExpression(property)) {\n\n          const expressionVariables = expressionLanguage.getVariableNames(property, { type: 'expression' });\n\n          variables = [ ...variables, ...expressionVariables ];\n        }\n      });\n\n      TEMPLATE_PROPERTIES.forEach((prop) => {\n        const property = get(component, prop.split('.'));\n\n        if (property && !expressionLanguage.isExpression(property) && templating.isTemplate(property)) {\n          const templateVariables = templating.getVariableNames(property);\n          variables = [ ...variables, ...templateVariables ];\n        }\n      });\n\n    }\n\n    return variables.filter(variable => typeof variable === 'string');\n  }, []);\n\n  const getBindingVariables = (node)=> {\n    const bindingVariable = [];\n    const formField = formFields.get(node.type);\n\n    if (formField && formField.config.keyed && node.key) {\n      return [ node.key.split('.')[0] ];\n    } else if (formField && formField.config.pathed && node.path) {\n      return [ node.path.split('.')[0] ];\n    } else if (node.components) {\n      node.components.forEach(component => {\n        bindingVariable.push(...getBindingVariables(component));\n      });\n    }\n\n    return bindingVariable;\n  };\n\n  // collect binding variables\n  if (inputs || outputs) {\n    variables.push(...getBindingVariables(schema));\n  }\n\n  // remove duplicates\n  return Array.from(new Set(variables));\n}","/**\n * Get the ancestry list of a form field.\n *\n * @param {string} formFieldId\n * @param {import('../core/FormFieldRegistry').FormFieldRegistry} formFieldRegistry\n *\n * @return {Array<string>} ancestry list\n */\nexport const getAncestryList = (formFieldId, formFieldRegistry) => {\n  const ids = [];\n\n  let currentFormField = formFieldRegistry.get(formFieldId);\n\n  while (currentFormField) {\n    ids.push(currentFormField.id);\n\n    currentFormField = formFieldRegistry.get(currentFormField._parent);\n  }\n\n  return ids;\n};","import { unaryTest } from 'feelin';\nimport { get, isString, set, values, isObject } from 'min-dash';\nimport { buildExpressionContext, clone } from '../../util';\n\n/**\n * @typedef {object} Condition\n * @property {string} [hide]\n */\n\nexport class ConditionChecker {\n  constructor(formFieldRegistry, pathRegistry, eventBus) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * For given data, remove properties based on condition.\n   *\n   * @param {Object<string, any>} data\n   * @param {Object<string, any>} contextData\n   * @param {Object} [options]\n   * @param {Function} [options.getFilterPath]\n   * @param {boolean} [options.leafNodeDeletionOnly]\n   */\n  applyConditions(data, contextData = {}, options = {}) {\n\n    const workingData = clone(data);\n\n    const {\n      getFilterPath = (field, indexes) => this._pathRegistry.getValuePath(field, { indexes }),\n      leafNodeDeletionOnly = false\n    } = options;\n\n    const _applyConditionsWithinScope = (rootField, scopeContext, startHidden = false) => {\n\n      const {\n        indexes = {},\n        expressionIndexes = [],\n        scopeData = contextData,\n        parentScopeData = null\n      } = scopeContext;\n\n      this._pathRegistry.executeRecursivelyOnFields(rootField, ({ field, isClosed, isRepeatable, context }) => {\n\n        const {\n          conditional,\n          components,\n          id\n        } = field;\n\n        // build the expression context in the right format\n        const localExpressionContext = buildExpressionContext({\n          this: scopeData,\n          data: contextData,\n          i: expressionIndexes,\n          parent: parentScopeData\n        });\n\n        context.isHidden = startHidden || context.isHidden || (conditional && this._checkHideCondition(conditional, localExpressionContext));\n\n        // if a field is repeatable and visible, we need to implement custom recursion on its children\n        if (isRepeatable && (!context.isHidden || leafNodeDeletionOnly)) {\n\n          // prevent the regular recursion behavior of executeRecursivelyOnFields\n          context.preventRecursion = true;\n\n          const repeaterValuePath = this._pathRegistry.getValuePath(field, { indexes });\n          const repeaterValue = get(contextData, repeaterValuePath);\n\n          // quit early if there are no children or data associated with the repeater\n          if (!Array.isArray(repeaterValue) || !repeaterValue.length || !Array.isArray(components) || !components.length) {\n            return;\n          }\n\n          for (let i = 0; i < repeaterValue.length; i++) {\n\n            // create a new scope context for each index\n            const newScopeContext = {\n              indexes: { ...indexes, [id]: i },\n              expressionIndexes: [ ...expressionIndexes, i + 1 ],\n              scopeData: repeaterValue[i],\n              parentScopeData: scopeData\n            };\n\n            // for each child component, apply conditions within the new repetition scope\n            components.forEach(component => {\n              _applyConditionsWithinScope(component, newScopeContext, context.isHidden);\n            });\n\n          }\n\n        }\n\n        // if we have a hidden repeatable field, and the data structure allows, we clear it directly at the root and stop recursion\n        if (context.isHidden && !leafNodeDeletionOnly && isRepeatable) {\n          context.preventRecursion = true;\n          this._cleanlyClearDataAtPath(getFilterPath(field, indexes), workingData);\n        }\n\n        // for simple leaf fields, we always clear\n        if (context.isHidden && isClosed) {\n          this._cleanlyClearDataAtPath(getFilterPath(field, indexes), workingData);\n        }\n\n      });\n\n    };\n\n    // apply conditions starting with the root of the form\n    const form = this._formFieldRegistry.getForm();\n\n    if (!form) {\n      throw new Error('form field registry has no form');\n    }\n\n    _applyConditionsWithinScope(form, {\n      scopeData: contextData\n    });\n\n    return workingData;\n  }\n\n  /**\n   * Check if given condition is met. Returns null for invalid/missing conditions.\n   *\n   * @param {string} condition\n   * @param {import('../../types').Data} [data]\n   *\n   * @returns {boolean|null}\n   */\n  check(condition, data = {}) {\n    if (!condition) {\n      return null;\n    }\n\n    if (!isString(condition) || !condition.startsWith('=')) {\n      return null;\n    }\n\n    try {\n\n      // cut off initial '='\n      const result = unaryTest(condition.slice(1), data);\n\n      return result;\n    } catch (error) {\n      this._eventBus.fire('error', { error });\n      return null;\n    }\n  }\n\n  /**\n   * Check if hide condition is met.\n   *\n   * @param {Condition} condition\n   * @param {Object<string, any>} data\n   * @returns {boolean}\n   */\n  _checkHideCondition(condition, data) {\n    if (!condition.hide) {\n      return false;\n    }\n\n    const result = this.check(condition.hide, data);\n\n    return result === true;\n  }\n\n  _cleanlyClearDataAtPath(valuePath, obj) {\n    const workingValuePath = [ ...valuePath ];\n    let recurse = false;\n\n    do {\n      set(obj, workingValuePath, undefined);\n      workingValuePath.pop();\n      const parentObject = get(obj, workingValuePath);\n      recurse = !!workingValuePath.length && (this._isEmptyObject(parentObject) || this._isEmptyArray(parentObject));\n    } while (recurse);\n  }\n\n  _isEmptyObject(parentObject) {\n    return isObject(parentObject) && !values(parentObject).length;\n  }\n\n  _isEmptyArray(parentObject) {\n    return Array.isArray(parentObject) && (!parentObject.length || parentObject.every(item => item === undefined));\n  }\n}\n\nConditionChecker.$inject = [\n  'formFieldRegistry',\n  'pathRegistry',\n  'eventBus'\n];\n","import { FeelExpressionLanguage } from './FeelExpressionLanguage';\nimport { FeelersTemplating } from './FeelersTemplating';\nimport { ConditionChecker } from './ConditionChecker';\n\nexport const ExpressionLanguageModule = {\n  __init__: [ 'expressionLanguage', 'templating', 'conditionChecker' ],\n  expressionLanguage: [ 'type', FeelExpressionLanguage ],\n  templating: [ 'type', FeelersTemplating ],\n  conditionChecker: [ 'type', ConditionChecker ]\n};\n\nexport { FeelExpressionLanguage, FeelersTemplating, ConditionChecker };","import { marked } from 'marked';\n\nexport class MarkdownRenderer {\n\n  /**\n   * Render markdown to HTML.\n   *\n   * @param {string} markdown - The markdown to render\n   *\n   * @returns {string} HTML\n   */\n  render(markdown) {\n\n    // @ts-expect-error\n    return marked.parse(markdown, {\n      gfm: true,\n      breaks: true\n    });\n  }\n}\n\nMarkdownRenderer.$inject = [];","import { MarkdownRenderer } from './MarkdownRenderer';\n\nexport const MarkdownRendererModule = {\n  __init__: [ 'markdownRenderer' ],\n  markdownRenderer: [ 'type', MarkdownRenderer ],\n};\n\nexport { MarkdownRenderer };","import {\n  uniqueBy,\n  isArray\n} from 'min-dash';\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../core/Types').ElementLike} ElementLike\n *\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./CommandHandler').default} CommandHandler\n *\n * @typedef { any } CommandContext\n * @typedef { {\n *   new (...args: any[]) : CommandHandler\n * } } CommandHandlerConstructor\n * @typedef { {\n *   [key: string]: CommandHandler;\n * } } CommandHandlerMap\n * @typedef { {\n *   command: string;\n *   context: any;\n *   id?: any;\n * } } CommandStackAction\n * @typedef { {\n *   actions: CommandStackAction[];\n *   dirty: ElementLike[];\n *   trigger: 'execute' | 'undo' | 'redo' | 'clear' | null;\n *   atomic?: boolean;\n * } } CurrentExecution\n */\n\n/**\n * A service that offers un- and redoable execution of commands.\n *\n * The command stack is responsible for executing modeling actions\n * in a un- and redoable manner. To do this it delegates the actual\n * command execution to {@link CommandHandler}s.\n *\n * Command handlers provide {@link CommandHandler#execute(ctx)} and\n * {@link CommandHandler#revert(ctx)} methods to un- and redo a command\n * identified by a command context.\n *\n *\n * ## Life-Cycle events\n *\n * In the process the command stack fires a number of life-cycle events\n * that other components to participate in the command execution.\n *\n *    * preExecute\n *    * preExecuted\n *    * execute\n *    * executed\n *    * postExecute\n *    * postExecuted\n *    * revert\n *    * reverted\n *\n * A special event is used for validating, whether a command can be\n * performed prior to its execution.\n *\n *    * canExecute\n *\n * Each of the events is fired as `commandStack.{eventName}` and\n * `commandStack.{commandName}.{eventName}`, respectively. This gives\n * components fine grained control on where to hook into.\n *\n * The event object fired transports `command`, the name of the\n * command and `context`, the command context.\n *\n *\n * ## Creating Command Handlers\n *\n * Command handlers should provide the {@link CommandHandler#execute(ctx)}\n * and {@link CommandHandler#revert(ctx)} methods to implement\n * redoing and undoing of a command.\n *\n * A command handler _must_ ensure undo is performed properly in order\n * not to break the undo chain. It must also return the shapes that\n * got changed during the `execute` and `revert` operations.\n *\n * Command handlers may execute other modeling operations (and thus\n * commands) in their `preExecute(d)` and `postExecute(d)` phases. The command\n * stack will properly group all commands together into a logical unit\n * that may be re- and undone atomically.\n *\n * Command handlers must not execute other commands from within their\n * core implementation (`execute`, `revert`).\n *\n *\n * ## Change Tracking\n *\n * During the execution of the CommandStack it will keep track of all\n * elements that have been touched during the command's execution.\n *\n * At the end of the CommandStack execution it will notify interested\n * components via an 'elements.changed' event with all the dirty\n * elements.\n *\n * The event can be picked up by components that are interested in the fact\n * that elements have been changed. One use case for this is updating\n * their graphical representation after moving / resizing or deletion.\n *\n * @see CommandHandler\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nexport default function CommandStack(eventBus, injector) {\n\n  /**\n   * A map of all registered command handlers.\n   *\n   * @type {CommandHandlerMap}\n   */\n  this._handlerMap = {};\n\n  /**\n   * A stack containing all re/undoable actions on the diagram\n   *\n   * @type {CommandStackAction[]}\n   */\n  this._stack = [];\n\n  /**\n   * The current index on the stack\n   *\n   * @type {number}\n   */\n  this._stackIdx = -1;\n\n  /**\n   * Current active commandStack execution\n   *\n   * @type {CurrentExecution}\n   */\n  this._currentExecution = {\n    actions: [],\n    dirty: [],\n    trigger: null\n  };\n\n  /**\n   * @type {Injector}\n   */\n  this._injector = injector;\n\n  /**\n   * @type EventBus\n   */\n  this._eventBus = eventBus;\n\n  /**\n   * @type { number }\n   */\n  this._uid = 1;\n\n  eventBus.on([\n    'diagram.destroy',\n    'diagram.clear'\n  ], function() {\n    this.clear(false);\n  }, this);\n}\n\nCommandStack.$inject = [ 'eventBus', 'injector' ];\n\n\n/**\n * Execute a command.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n */\nCommandStack.prototype.execute = function(command, context) {\n  if (!command) {\n    throw new Error('command required');\n  }\n\n  this._currentExecution.trigger = 'execute';\n\n  const action = { command: command, context: context };\n\n  this._pushAction(action);\n  this._internalExecute(action);\n  this._popAction();\n};\n\n\n/**\n * Check whether a command can be executed.\n *\n * Implementors may hook into the mechanism on two ways:\n *\n *   * in event listeners:\n *\n *     Users may prevent the execution via an event listener.\n *     It must prevent the default action for `commandStack.(<command>.)canExecute` events.\n *\n *   * in command handlers:\n *\n *     If the method {@link CommandHandler#canExecute} is implemented in a handler\n *     it will be called to figure out whether the execution is allowed.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n *\n * @return {boolean} Whether the command can be executed with the given context.\n */\nCommandStack.prototype.canExecute = function(command, context) {\n\n  const action = { command: command, context: context };\n\n  const handler = this._getHandler(command);\n\n  let result = this._fire(command, 'canExecute', action);\n\n  // handler#canExecute will only be called if no listener\n  // decided on a result already\n  if (result === undefined) {\n    if (!handler) {\n      return false;\n    }\n\n    if (handler.canExecute) {\n      result = handler.canExecute(context);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Clear the command stack, erasing all undo / redo history.\n *\n * @param {boolean} [emit=true] Whether to fire an event. Defaults to `true`.\n */\nCommandStack.prototype.clear = function(emit) {\n  this._stack.length = 0;\n  this._stackIdx = -1;\n\n  if (emit !== false) {\n    this._fire('changed', { trigger: 'clear' });\n  }\n};\n\n\n/**\n * Undo last command(s)\n */\nCommandStack.prototype.undo = function() {\n  let action = this._getUndoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'undo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalUndo(action);\n      next = this._getUndoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Redo last command(s)\n */\nCommandStack.prototype.redo = function() {\n  let action = this._getRedoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'redo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalExecute(action, true);\n      next = this._getRedoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Register a handler instance with the command stack.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandler} handler Handler to execute the command.\n */\nCommandStack.prototype.register = function(command, handler) {\n  this._setHandler(command, handler);\n};\n\n\n/**\n * Register a handler type with the command stack  by instantiating it and\n * injecting its dependencies.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandlerConstructor} handlerCls Constructor to instantiate a {@link CommandHandler}.\n */\nCommandStack.prototype.registerHandler = function(command, handlerCls) {\n\n  if (!command || !handlerCls) {\n    throw new Error('command and handlerCls must be defined');\n  }\n\n  const handler = this._injector.instantiate(handlerCls);\n  this.register(command, handler);\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canUndo = function() {\n  return !!this._getUndoAction();\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canRedo = function() {\n  return !!this._getRedoAction();\n};\n\n// stack access  //////////////////////\n\nCommandStack.prototype._getRedoAction = function() {\n  return this._stack[this._stackIdx + 1];\n};\n\n\nCommandStack.prototype._getUndoAction = function() {\n  return this._stack[this._stackIdx];\n};\n\n\n// internal functionality //////////////////////\n\nCommandStack.prototype._internalUndo = function(action) {\n  const command = action.command,\n        context = action.context;\n\n  const handler = this._getHandler(command);\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n    this._fire(command, 'revert', action);\n\n    if (handler.revert) {\n      this._markDirty(handler.revert(context));\n    }\n\n    this._revertedAction(action);\n\n    this._fire(command, 'reverted', action);\n  });\n};\n\n\nCommandStack.prototype._fire = function(command, qualifier, event) {\n  if (arguments.length < 3) {\n    event = qualifier;\n    qualifier = null;\n  }\n\n  const names = qualifier ? [ command + '.' + qualifier, qualifier ] : [ command ];\n  let result;\n\n  event = this._eventBus.createEvent(event);\n\n  for (const name of names) {\n    result = this._eventBus.fire('commandStack.' + name, event);\n\n    if (event.cancelBubble) {\n      break;\n    }\n  }\n\n  return result;\n};\n\nCommandStack.prototype._createId = function() {\n  return this._uid++;\n};\n\nCommandStack.prototype._atomicDo = function(fn) {\n\n  const execution = this._currentExecution;\n\n  execution.atomic = true;\n\n  try {\n    fn();\n  } finally {\n    execution.atomic = false;\n  }\n};\n\nCommandStack.prototype._internalExecute = function(action, redo) {\n  const command = action.command,\n        context = action.context;\n\n  const handler = this._getHandler(command);\n\n  if (!handler) {\n    throw new Error('no command handler registered for <' + command + '>');\n  }\n\n  this._pushAction(action);\n\n  if (!redo) {\n    this._fire(command, 'preExecute', action);\n\n    if (handler.preExecute) {\n      handler.preExecute(context);\n    }\n\n    this._fire(command, 'preExecuted', action);\n  }\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n\n    this._fire(command, 'execute', action);\n\n    if (handler.execute) {\n\n      // actual execute + mark return results as dirty\n      this._markDirty(handler.execute(context));\n    }\n\n    // log to stack\n    this._executedAction(action, redo);\n\n    this._fire(command, 'executed', action);\n  });\n\n  if (!redo) {\n    this._fire(command, 'postExecute', action);\n\n    if (handler.postExecute) {\n      handler.postExecute(context);\n    }\n\n    this._fire(command, 'postExecuted', action);\n  }\n\n  this._popAction();\n};\n\n\nCommandStack.prototype._pushAction = function(action) {\n\n  const execution = this._currentExecution,\n        actions = execution.actions;\n\n  const baseAction = actions[0];\n\n  if (execution.atomic) {\n    throw new Error('illegal invocation in <execute> or <revert> phase (action: ' + action.command + ')');\n  }\n\n  if (!action.id) {\n    action.id = (baseAction && baseAction.id) || this._createId();\n  }\n\n  actions.push(action);\n};\n\n\nCommandStack.prototype._popAction = function() {\n  const execution = this._currentExecution,\n        trigger = execution.trigger,\n        actions = execution.actions,\n        dirty = execution.dirty;\n\n  actions.pop();\n\n  if (!actions.length) {\n    this._eventBus.fire('elements.changed', { elements: uniqueBy('id', dirty.reverse()) });\n\n    dirty.length = 0;\n\n    this._fire('changed', { trigger: trigger });\n\n    execution.trigger = null;\n  }\n};\n\n\nCommandStack.prototype._markDirty = function(elements) {\n  const execution = this._currentExecution;\n\n  if (!elements) {\n    return;\n  }\n\n  elements = isArray(elements) ? elements : [ elements ];\n\n  execution.dirty = execution.dirty.concat(elements);\n};\n\n\nCommandStack.prototype._executedAction = function(action, redo) {\n  const stackIdx = ++this._stackIdx;\n\n  if (!redo) {\n    this._stack.splice(stackIdx, this._stack.length, action);\n  }\n};\n\n\nCommandStack.prototype._revertedAction = function(action) {\n  this._stackIdx--;\n};\n\n\nCommandStack.prototype._getHandler = function(command) {\n  return this._handlerMap[command];\n};\n\nCommandStack.prototype._setHandler = function(command, handler) {\n  if (!command || !handler) {\n    throw new Error('command and handler required');\n  }\n\n  if (this._handlerMap[command]) {\n    throw new Error('overriding handler for command <' + command + '>');\n  }\n\n  this._handlerMap[command] = handler;\n};\n","import CommandStack from './CommandStack';\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  commandStack: [ 'type', CommandStack ]\n};\n","import { set } from 'min-dash';\nimport { clone } from '../../../util';\n\nexport class UpdateFieldValidationHandler {\n\n  constructor(form, validator) {\n    this._form = form;\n    this._validator = validator;\n  }\n\n  execute(context) {\n    const { field, value, indexes } = context;\n    const { errors } = this._form._getState();\n\n    context.oldErrors = clone(errors);\n\n    const fieldErrors = this._validator.validateField(field, value);\n    const updatedErrors = set(errors, [ field.id, ...Object.values(indexes || {}) ], fieldErrors.length ? fieldErrors : undefined);\n    this._form._setState({ errors: updatedErrors });\n  }\n\n  revert(context) {\n    this._form._setState({ errors: context.oldErrors });\n  }\n}\n\nUpdateFieldValidationHandler.$inject = [ 'form', 'validator' ];","import { UpdateFieldValidationHandler } from './cmd/UpdateFieldValidationHandler';\n\nexport class ViewerCommands {\n  constructor(commandStack, eventBus) {\n    this._commandStack = commandStack;\n\n    eventBus.on('form.init', () => {\n      this.registerHandlers();\n    });\n  }\n\n  registerHandlers() {\n    Object.entries(this.getHandlers()).forEach(([ id, handler ]) => {\n      this._commandStack.registerHandler(id, handler);\n    });\n  }\n\n  getHandlers() {\n    return {\n      'formField.validation.update': UpdateFieldValidationHandler\n    };\n  }\n\n  updateFieldValidation(field, value, indexes) {\n    const context = {\n      field,\n      value,\n      indexes\n    };\n\n    this._commandStack.execute('formField.validation.update', context);\n  }\n\n}\n\nViewerCommands.$inject = [\n  'commandStack',\n  'eventBus'\n];","import commandModule from 'diagram-js/lib/command';\n\nimport { ViewerCommands } from './ViewerCommands';\n\nexport const ViewerCommandsModule = {\n  __depends__: [\n    commandModule\n  ],\n  __init__: [ 'viewerCommands' ],\n  viewerCommands: [ 'type', ViewerCommands ]\n};\n\nexport { ViewerCommands };","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\"><path fill=\"currentColor\" d=\"M2 9h5.5v3.086l-1.293-1.293-.707.707L8 14l2.5-2.5-.707-.707L8.5 12.086V9H14V8H2v1ZM13 2H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Zm0 3H3V3h10v2Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\"><path fill=\"currentColor\" d=\"M13 10H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Zm0 3H3v-2h10v2ZM8.5 3.914l1.293 1.293.707-.707L8 2 5.5 4.5l.707.707L7.5 3.914V7H2v1h12V7H8.5V3.914Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\"><path fill=\"currentColor\" d=\"M8 2c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6 2.7-6 6-6Zm0-1C4.15 1 1 4.15 1 8s3.15 7 7 7 7-3.15 7-7-3.15-7-7-7Z\"/><path fill=\"currentColor\" d=\"M12 7.5H8.5V4h-1v3.5H4v1h3.5V12h1V8.5H12v-1Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\"><path fill=\"currentColor\" d=\"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8 12 4.7Z\"/></svg>","// disable react hook rules as the linter is confusing the functional components within a class as class components\n/* eslint-disable react-hooks/rules-of-hooks */\n\nimport { get } from 'min-dash';\nimport { useContext, useMemo, useRef } from 'preact/hooks';\nimport { LocalExpressionContext } from '../../render/context/LocalExpressionContext';\n\nimport ExpandSvg from '../../render/components/form-fields/icons/Expand.svg';\nimport CollapseSvg from '../../render/components/form-fields/icons/Collapse.svg';\nimport AddSvg from '../../render/components/form-fields/icons/Add.svg';\nimport DeleteSvg from '../../render/components/form-fields/icons/Delete.svg';\n\nimport { buildExpressionContext } from '../../util';\nimport { useScrollIntoView } from '../../render/hooks';\nimport classNames from 'classnames';\n\nexport class RepeatRenderManager {\n\n  constructor(form, formFields, formFieldRegistry, pathRegistry) {\n    this._form = form;\n    this._formFields = formFields;\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this.Repeater = this.Repeater.bind(this);\n    this.RepeatFooter = this.RepeatFooter.bind(this);\n  }\n\n  /**\n   * Checks whether a field is currently repeating its children.\n   *\n   * @param {string} id - The id of the field to check\n   * @returns {boolean} - True if repeatable, false otherwise\n   */\n  isFieldRepeating(id) {\n\n    if (!id) {\n      return false;\n    }\n\n    const formField = this._formFieldRegistry.get(id);\n    const formFieldDefinition = this._formFields.get(formField.type);\n    return formFieldDefinition.config.repeatable && formField.isRepeating;\n  }\n\n  Repeater(props) {\n\n    const { RowsRenderer, indexes, useSharedState, ...restProps } = props;\n\n    const [ sharedRepeatState ] = useSharedState;\n\n    const { data } = this._form._getState();\n\n    const repeaterField = props.field;\n    const dataPath = this._pathRegistry.getValuePath(repeaterField, { indexes });\n    const values = get(data, dataPath) || [];\n\n    const nonCollapsedItems = this._getNonCollapsedItems(repeaterField);\n    const collapseEnabled = !repeaterField.disableCollapse && (values.length > nonCollapsedItems);\n    const isCollapsed = collapseEnabled && sharedRepeatState.isCollapsed;\n\n    const hasChildren = repeaterField.components && repeaterField.components.length > 0;\n    const showRemove = repeaterField.allowAddRemove && hasChildren;\n\n    const displayValues = isCollapsed ? values.slice(0, nonCollapsedItems) : values;\n\n    const onDeleteItem = (index) => {\n\n      const updatedValues = values.slice();\n      updatedValues.splice(index, 1);\n\n      props.onChange({\n        field: repeaterField,\n        value: updatedValues,\n        indexes\n      });\n    };\n\n    const parentExpressionContextInfo = useContext(LocalExpressionContext);\n\n    return (\n      <>\n        {displayValues.map((itemValue, itemIndex) =>\n          <RepetitionScaffold\n            key={ itemIndex }\n            itemIndex={ itemIndex }\n            itemValue={ itemValue }\n            parentExpressionContextInfo={ parentExpressionContextInfo }\n            repeaterField={ repeaterField }\n            RowsRenderer={ RowsRenderer }\n            indexes={ indexes }\n            onDeleteItem={ onDeleteItem }\n            showRemove={ showRemove }\n            { ...restProps } />\n        )}\n      </>\n    );\n  }\n\n  RepeatFooter(props) {\n\n    const addButtonRef = useRef(null);\n    const { useSharedState, indexes, field: repeaterField, readonly, disabled } = props;\n    const [ sharedRepeatState, setSharedRepeatState ] = useSharedState;\n\n    const { data } = this._form._getState();\n\n    const dataPath = this._pathRegistry.getValuePath(repeaterField, { indexes });\n    const values = get(data, dataPath) || [];\n\n    const nonCollapsedItems = this._getNonCollapsedItems(repeaterField);\n    const collapseEnabled = !repeaterField.disableCollapse && (values.length > nonCollapsedItems);\n    const isCollapsed = collapseEnabled && sharedRepeatState.isCollapsed;\n\n    const hasChildren = repeaterField.components && repeaterField.components.length > 0;\n    const showAdd = repeaterField.allowAddRemove && hasChildren;\n\n    const toggle = () => {\n      setSharedRepeatState(state => ({ ...state, isCollapsed: !isCollapsed }));\n    };\n\n    const shouldScroll = useRef(false);\n\n    const onAddItem = () => {\n      const updatedValues = values.slice();\n      const newItem = this._form._getInitializedFieldData(this._form._getState().data, {\n        container: repeaterField,\n        indexes: { ...indexes, [ repeaterField.id ]: updatedValues.length }\n      });\n\n      updatedValues.push(newItem);\n\n      shouldScroll.current = true;\n\n      props.onChange({\n        field: repeaterField,\n        value: updatedValues,\n        indexes\n      });\n\n      setSharedRepeatState(state => ({ ...state, isCollapsed: false }));\n    };\n\n    useScrollIntoView(addButtonRef, [ values.length ], {\n      align: 'bottom',\n      behavior: 'auto',\n      offset: 20\n    }, [ shouldScroll ]);\n\n    return <div\n      className={\n        classNames('fjs-repeat-render-footer', {\n          'fjs-remove-allowed':repeaterField.allowAddRemove\n        }) }\n    >\n      {\n        showAdd ? <button type=\"button\" readOnly={ readonly } disabled={ disabled || readonly } class=\"fjs-repeat-render-add\" ref={ addButtonRef } onClick={ onAddItem }>\n          <><AddSvg /> { 'Přidat' }</>\n        </button> : null\n      }\n      {\n        collapseEnabled ? <button type=\"button\" class=\"fjs-repeat-render-collapse\" onClick={ toggle }>\n          {\n            isCollapsed\n              ? <><ExpandSvg /> { `Rozbalit vše (${values.length})` }</>\n              : <><CollapseSvg /> { 'Sbalit' }</>\n          }\n        </button> : null\n      }\n    </div>;\n  }\n\n  _getNonCollapsedItems(field) {\n    const DEFAULT_NON_COLLAPSED_ITEMS = 5;\n\n    const { nonCollapsedItems } = field;\n\n    return nonCollapsedItems ? nonCollapsedItems : DEFAULT_NON_COLLAPSED_ITEMS;\n  }\n\n}\n\n/**\n * Individual repetition of a repeated field and context scaffolding.\n *\n * @param {Object} props\n * @param {number} props.itemIndex\n * @param {Object} props.itemValue\n * @param {Object} props.parentExpressionContextInfo\n * @param {Object} props.repeaterField\n * @param {Function} props.RowsRenderer\n * @param {Object} props.indexes\n * @param {Function} props.onDeleteItem\n * @param {boolean} props.showRemove\n */\n\nconst RepetitionScaffold = (props) => {\n\n  const {\n    itemIndex,\n    itemValue,\n    parentExpressionContextInfo,\n    repeaterField,\n    RowsRenderer,\n    indexes,\n    onDeleteItem,\n    showRemove,\n    ...restProps\n  } = props;\n\n  const elementProps = useMemo(() => ({\n    ...restProps,\n    indexes: { ...(indexes || {}), [ repeaterField.id ]: itemIndex }\n  }), [ itemIndex, indexes, repeaterField.id, restProps ]);\n\n  const localExpressionContextInfo = useMemo(() => ({\n    data: parentExpressionContextInfo.data,\n    this: itemValue,\n    parent: buildExpressionContext(parentExpressionContextInfo),\n    i: [ ...parentExpressionContextInfo.i , itemIndex + 1 ]\n  }), [ itemIndex, parentExpressionContextInfo, itemValue ]);\n\n  return !showRemove ?\n    <LocalExpressionContext.Provider value={ localExpressionContextInfo }>\n      <RowsRenderer { ...elementProps } />\n    </LocalExpressionContext.Provider> :\n    <div class=\"fjs-repeat-row-container\">\n      <div class=\"fjs-repeat-row-rows\">\n        <LocalExpressionContext.Provider value={ localExpressionContextInfo }>\n          <RowsRenderer { ...elementProps } />\n        </LocalExpressionContext.Provider>\n      </div>\n      <button type=\"button\" class=\"fjs-repeat-row-remove\" aria-label={ `Remove list item ${itemIndex + 1}` } onClick={ () => onDeleteItem(itemIndex) }>\n        <div class=\"fjs-repeat-row-remove-icon-container\">\n          <DeleteSvg />\n        </div>\n      </button>\n    </div>;\n\n};\n\nRepeatRenderManager.$inject = [ 'form', 'formFields', 'formFieldRegistry', 'pathRegistry' ];","import { RepeatRenderManager } from './RepeatRenderManager';\n\nexport const RepeatRenderModule = {\n  __init__: [ 'repeatRenderManager' ],\n  repeatRenderManager: [ 'type', RepeatRenderManager ],\n};\n\nexport { RepeatRenderManager };","import {\n  isFunction,\n  isArray,\n  isNumber,\n  bind,\n  assign\n} from 'min-dash';\n\nvar FN_REF = '__fn';\n\nvar DEFAULT_PRIORITY = 1000;\n\nvar slice = Array.prototype.slice;\n\n/**\n * @typedef { {\n *   stopPropagation(): void;\n *   preventDefault(): void;\n *   cancelBubble: boolean;\n *   defaultPrevented: boolean;\n *   returnValue: any;\n * } } Event\n */\n\n/**\n * @template E\n *\n * @typedef { (event: E & Event, ...any) => any } EventBusEventCallback\n */\n\n/**\n * @typedef { {\n *  priority: number;\n *  next: EventBusListener | null;\n *  callback: EventBusEventCallback<any>;\n * } } EventBusListener\n */\n\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n *\n * @template [EventMap=null]\n */\nexport default function EventBus() {\n\n  /**\n   * @type { Record<string, EventBusListener> }\n   */\n  this._listeners = {};\n\n  // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n\n/**\n * @overlord\n *\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.on = function(events, priority, callback, that) {\n\n  events = isArray(events) ? events : [ events ];\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  var actualCallback = callback;\n\n  if (that) {\n    actualCallback = bind(callback, that);\n\n    // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n\n  var self = this;\n\n  events.forEach(function(e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n\n/**\n * @overlord\n *\n * Register an event listener that is called only once.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] the listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener that is called only once.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.once = function(events, priority, callback, that) {\n  var self = this;\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  function wrappedCallback() {\n    wrappedCallback.__isTomb = true;\n\n    var result = callback.apply(that, arguments);\n\n    self.off(events, wrappedCallback);\n\n    return result;\n  }\n\n  // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n  wrappedCallback[FN_REF] = callback;\n\n  this.on(events, priority, wrappedCallback);\n};\n\n\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|string[]} events\n * @param {EventBusEventCallback} [callback]\n */\nEventBus.prototype.off = function(events, callback) {\n\n  events = isArray(events) ? events : [ events ];\n\n  var self = this;\n\n  events.forEach(function(event) {\n    self._removeListener(event, callback);\n  });\n\n};\n\n\n/**\n * Create an event recognized be the event bus.\n *\n * @param {Object} data Event data.\n *\n * @return {Event} An event that will be recognized by the event bus.\n */\nEventBus.prototype.createEvent = function(data) {\n  var event = new InternalEvent();\n\n  event.init(data);\n\n  return event;\n};\n\n\n/**\n * Fires an event.\n *\n * @example\n *\n * ```javascript\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n * ```\n *\n * @param {string} [type] event type\n * @param {Object} [data] event or event data\n * @param {...any} [args] additional arguments the callback will be called with.\n *\n * @return {any} The return value. Will be set to `false` if the default was prevented.\n */\nEventBus.prototype.fire = function(type, data) {\n  var event,\n      firstListener,\n      returnValue,\n      args;\n\n  args = slice.call(arguments);\n\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n\n  firstListener = this._listeners[type];\n\n  if (!firstListener) {\n    return;\n  }\n\n  // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n  if (data instanceof InternalEvent) {\n\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  }\n\n  // ensure we pass the event as the first parameter\n  args[0] = event;\n\n  // original event type (in case we delegate)\n  var originalType = event.type;\n\n  // update event type before delegation\n  if (type !== originalType) {\n    event.type = type;\n  }\n\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  }\n\n  // set the return value to false if the event default\n  // got prevented and no other return value exists\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n\n  return returnValue;\n};\n\n/**\n * Handle an error by firing an event.\n *\n * @param {Error} error The error to be handled.\n *\n * @return {boolean} Whether the error was handled.\n */\nEventBus.prototype.handleError = function(error) {\n  return this.fire('error', { error: error }) === false;\n};\n\n\nEventBus.prototype._destroy = function() {\n  this._listeners = {};\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListeners = function(event, args, listener) {\n\n  var returnValue;\n\n  while (listener) {\n\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n\n    returnValue = this._invokeListener(event, args, listener);\n\n    listener = listener.next;\n  }\n\n  return returnValue;\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListener = function(event, args, listener) {\n\n  var returnValue;\n\n  if (listener.callback.__isTomb) {\n    return returnValue;\n  }\n\n  try {\n\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args);\n\n    // stop propagation on return value\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    }\n\n    // prevent default on return false\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (error) {\n    if (!this.handleError(error)) {\n      console.error('unhandled error in event listener', error);\n\n      throw error;\n    }\n  }\n\n  return returnValue;\n};\n\n/**\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {EventBusListener} newListener\n */\nEventBus.prototype._addListener = function(event, newListener) {\n\n  var listener = this._getListeners(event),\n      previousListener;\n\n  // no prior listeners\n  if (!listener) {\n    this._setListeners(event, newListener);\n\n    return;\n  }\n\n  // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n  while (listener) {\n\n    if (listener.priority < newListener.priority) {\n\n      newListener.next = listener;\n\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n\n      return;\n    }\n\n    previousListener = listener;\n    listener = listener.next;\n  }\n\n  // add new listener to back\n  previousListener.next = newListener;\n};\n\n\n/**\n * @param {string} name\n *\n * @return {EventBusListener}\n */\nEventBus.prototype._getListeners = function(name) {\n  return this._listeners[name];\n};\n\n/**\n * @param {string} name\n * @param {EventBusListener} listener\n */\nEventBus.prototype._setListeners = function(name, listener) {\n  this._listeners[name] = listener;\n};\n\nEventBus.prototype._removeListener = function(event, callback) {\n\n  var listener = this._getListeners(event),\n      nextListener,\n      previousListener,\n      listenerCallback;\n\n  if (!callback) {\n\n    // clear listeners\n    this._setListeners(event, null);\n\n    return;\n  }\n\n  while (listener) {\n\n    nextListener = listener.next;\n\n    listenerCallback = listener.callback;\n\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n\n/**\n * A event that is emitted via the event bus.\n */\nfunction InternalEvent() { }\n\nInternalEvent.prototype.stopPropagation = function() {\n  this.cancelBubble = true;\n};\n\nInternalEvent.prototype.preventDefault = function() {\n  this.defaultPrevented = true;\n};\n\nInternalEvent.prototype.init = function(data) {\n  assign(this, data || {});\n};\n\n\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {any[]} args\n *\n * @return {any}\n */\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n","import { isNil, get, set } from 'min-dash';\nimport { countDecimals } from '../render/components/util/numberFieldUtil';\nimport Big from 'big.js';\n\nconst EMAIL_PATTERN = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\nconst PHONE_PATTERN = /(\\+|00)(297|93|244|1264|358|355|376|971|54|374|1684|1268|61|43|994|257|32|229|226|880|359|973|1242|387|590|375|501|1441|591|55|1246|673|975|267|236|1|61|41|56|86|225|237|243|242|682|57|269|238|506|53|5999|61|1345|357|420|49|253|1767|45|1809|1829|1849|213|593|20|291|212|34|372|251|358|679|500|33|298|691|241|44|995|44|233|350|224|590|220|245|240|30|1473|299|502|594|1671|592|852|504|385|509|36|62|44|91|246|353|98|964|354|972|39|1876|44|962|81|76|77|254|996|855|686|1869|82|383|965|856|961|231|218|1758|423|94|266|370|352|371|853|590|212|377|373|261|960|52|692|389|223|356|95|382|976|1670|258|222|1664|596|230|265|60|262|264|687|227|672|234|505|683|31|47|977|674|64|968|92|507|64|51|63|680|675|48|1787|1939|850|351|595|970|689|974|262|40|7|250|966|249|221|65|500|4779|677|232|503|378|252|508|381|211|239|597|421|386|46|268|1721|248|963|1649|235|228|66|992|690|993|670|676|1868|216|90|688|886|255|256|380|598|1|998|3906698|379|1784|58|1284|1340|84|678|681|685|967|27|260|263)(9[976]\\d|8[987530]\\d|6[987]\\d|5[90]\\d|42\\d|3[875]\\d|2[98654321]\\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\\d{4,20}$/;\n\nconst VALIDATE_FEEL_PROPERTIES = [\n  'min',\n  'max',\n  'minLength',\n  'maxLength'\n];\n\nexport class Validator {\n\n  constructor(expressionLanguage, conditionChecker, form) {\n    this._expressionLanguage = expressionLanguage;\n    this._conditionChecker = conditionChecker;\n    this._form = form;\n  }\n\n  validateField(field, value) {\n\n    const { type, validate } = field;\n\n    let errors = [];\n\n    if (type === 'number') {\n\n      const { decimalDigits, increment } = field;\n\n      if (value === 'NaN') {\n\n        errors = [\n          ...errors,\n          'Hodnota musí být platné číslo.'\n        ];\n\n      }\n      else if (value) {\n\n        if (decimalDigits >= 0 && countDecimals(value) > decimalDigits) {\n          errors = [\n            ...errors,\n            'Hodnota musí ' +\n            (decimalDigits === 0\n              ? 'být platné celé číslo'\n              : `obsahovat maximálně ${decimalDigits} desetinných míst`\n            ) + '.'\n          ];\n        }\n\n        if (increment) {\n\n          const bigValue = Big(value);\n          const bigIncrement = Big(increment);\n\n          const offset = bigValue.mod(bigIncrement);\n\n          if (offset.cmp(0) !== 0) {\n            const previousValue = bigValue.minus(offset);\n            const nextValue = previousValue.plus(bigIncrement);\n\n            errors = [\n              ...errors,\n              `Prosím, zvolte platnou hodnotu. Dvě nejbližší hodnoty jsou ${previousValue} a ${nextValue}.`\n            ];\n          }\n        }\n      }\n    }\n\n    if (!validate) {\n      return errors;\n    }\n\n    const evaluatedValidation = evaluateFEELValues(\n      validate,\n      this._expressionLanguage,\n      this._conditionChecker,\n      this._form\n    );\n\n    if (evaluatedValidation.pattern && value && !new RegExp(evaluatedValidation.pattern).test(value)) {\n      errors = [\n        ...errors,\n        `Hodnota splňovat regulární výraz ${ evaluatedValidation.pattern }.`\n      ];\n    }\n\n    if (evaluatedValidation.required) {\n      const isUncheckedCheckbox = type === 'checkbox' && value === false;\n      const isUnsetValue = isNil(value) || value === '';\n      const isEmptyMultiselect = Array.isArray(value) && value.length === 0;\n\n      if (isUncheckedCheckbox || isUnsetValue || isEmptyMultiselect) {\n        errors = [\n          ...errors,\n          'Povinné pole.'\n        ];\n      }\n    }\n\n    if ('min' in evaluatedValidation && (value || value === 0) && value < evaluatedValidation.min) {\n      errors = [\n        ...errors,\n        `Hodnota musí být větší nebo rovna ${ evaluatedValidation.min }.`\n      ];\n    }\n\n    if ('max' in evaluatedValidation && (value || value === 0) && value > evaluatedValidation.max) {\n      errors = [\n        ...errors,\n        `Hodnota musí být menší nebo rovna ${ evaluatedValidation.max }.`\n      ];\n    }\n\n    if ('minLength' in evaluatedValidation && value && value.trim().length < evaluatedValidation.minLength) {\n      errors = [\n        ...errors,\n        `Hodnota musí být dlouhá alespoň ${ evaluatedValidation.minLength } znaků.`\n      ];\n    }\n\n    if ('maxLength' in evaluatedValidation && value && value.trim().length > evaluatedValidation.maxLength) {\n      errors = [\n        ...errors,\n        `Hodnota nesmí být delší než ${ evaluatedValidation.maxLength } znaků.`\n      ];\n    }\n\n    if ('validationType' in evaluatedValidation && value && evaluatedValidation.validationType === 'phone' && !PHONE_PATTERN.test(value)) {\n      errors = [\n        ...errors,\n        'Hodnota musí být platné mezinárodní telefonní číslo. (např. +4930664040900)'\n      ];\n    }\n\n    if ('validationType' in evaluatedValidation && value && evaluatedValidation.validationType === 'email' && !EMAIL_PATTERN.test(value)) {\n      errors = [\n        ...errors,\n        'Hodnota musí být platný email.'\n      ];\n    }\n\n    return errors;\n  }\n}\n\nValidator.$inject = [ 'expressionLanguage', 'conditionChecker', 'form' ];\n\n\n// helpers //////////\n\n/**\n * Helper function to evaluate optional FEEL validation values.\n */\nfunction evaluateFEELValues(validate, expressionLanguage, conditionChecker, form) {\n\n  const evaluatedValidate = { ...validate };\n\n  VALIDATE_FEEL_PROPERTIES.forEach(property => {\n    const path = property.split('.');\n\n    const value = get(evaluatedValidate, path);\n\n    // mirroring FEEL evaluation of our hooks\n    if (!expressionLanguage || !expressionLanguage.isExpression(value)) {\n      return value;\n    }\n\n    const { initialData, data } = form._getState();\n\n    const newData = conditionChecker ? conditionChecker.applyConditions(data, data) : data;\n    const filteredData = { ...initialData, ...newData };\n\n    const evaluatedValue = expressionLanguage.evaluate(value, filteredData);\n\n    // replace validate property with evaluated value\n    if (evaluatedValue) {\n      set(evaluatedValidate, path, evaluatedValue);\n    }\n  });\n\n  return evaluatedValidate;\n}","import { clone } from '../util';\n\nexport class Importer {\n\n  /**\n   * @constructor\n   * @param { import('./FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   * @param { import('./PathRegistry').PathRegistry } pathRegistry\n   * @param { import('./FieldFactory').FieldFactory } fieldFactory\n   * @param { import('./FormLayouter').FormLayouter } formLayouter\n   */\n  constructor(formFieldRegistry, pathRegistry, fieldFactory, formLayouter) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._fieldFactory = fieldFactory;\n    this._formLayouter = formLayouter;\n  }\n\n  /**\n   * Import schema creating rows, fields, attaching additional\n   * information to each field and adding fields to the\n   * field registry.\n   *\n   * Additional information attached:\n   *\n   *   * `id` (unless present)\n   *   * `_parent`\n   *   * `_path`\n   *\n   * @param {any} schema\n   *\n   * @typedef {{ warnings: Error[], schema: any }} ImportResult\n   * @returns {ImportResult}\n   */\n  importSchema(schema) {\n\n    // TODO: Add warnings\n    const warnings = [];\n\n    try {\n      this._cleanup();\n      const importedSchema = this.importFormField(clone(schema));\n      this._formLayouter.calculateLayout(clone(importedSchema));\n\n      return {\n        schema: importedSchema,\n        warnings\n      };\n    } catch (err) {\n      this._cleanup();\n      err.warnings = warnings;\n      throw err;\n    }\n  }\n\n  _cleanup() {\n    this._formLayouter.clear();\n    this._formFieldRegistry.clear();\n    this._pathRegistry.clear();\n  }\n\n  /**\n   * @param {{[x: string]: any}} fieldAttrs\n   * @param {String} [parentId]\n   * @param {number} [index]\n   *\n   * @return {any} field\n   */\n  importFormField(fieldAttrs, parentId, index) {\n    const {\n      components\n    } = fieldAttrs;\n\n    let parent, path;\n\n    if (parentId) {\n      parent = this._formFieldRegistry.get(parentId);\n    }\n\n    // set form field path\n    path = parent ? [ ...parent._path, 'components', index ] : [];\n\n    const field = this._fieldFactory.create({\n      ...fieldAttrs,\n      _path: path,\n      _parent: parentId\n    }, false);\n\n    this._formFieldRegistry.add(field);\n\n    if (components) {\n      field.components = this.importFormFields(components, field.id);\n    }\n\n    return field;\n  }\n\n  /**\n   * @param {Array<any>} components\n   * @param {string} parentId\n   *\n   * @return {Array<any>} imported components\n   */\n  importFormFields(components, parentId) {\n    return components.map((component, index) => {\n      return this.importFormField(component, parentId, index);\n    });\n  }\n\n}\n\nImporter.$inject = [ 'formFieldRegistry', 'pathRegistry', 'fieldFactory', 'formLayouter' ];","import { getAncestryList } from '../util';\n\nexport class FieldFactory {\n\n  /**\n   * @constructor\n   *\n   * @param  formFieldRegistry\n   * @param  formFields\n   */\n  constructor(formFieldRegistry, pathRegistry, formFields) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._formFields = formFields;\n  }\n\n  create(attrs, applyDefaults = true) {\n\n    const {\n      id,\n      type,\n      key,\n      path,\n      _parent\n    } = attrs;\n\n    const fieldDefinition = this._formFields.get(type);\n\n    if (!fieldDefinition) {\n      throw new Error(`form field of type <${ type }> not supported`);\n    }\n\n    const { config } = fieldDefinition;\n\n    if (!config) {\n      throw new Error(`form field of type <${ type }> has no config`);\n    }\n\n    if (id && this._formFieldRegistry._ids.assigned(id)) {\n      throw new Error(`form field with id <${ id }> already exists`);\n    }\n\n    // ensure that we can claim the path\n\n    const parent = _parent && this._formFieldRegistry.get(_parent);\n    const parentPath = parent && this._pathRegistry.getValuePath(parent) || [];\n    const knownAncestorIds = getAncestryList(_parent, this._formFieldRegistry);\n\n    if (config.keyed && key && !this._pathRegistry.canClaimPath([ ...parentPath, ...key.split('.') ],\n      {\n        isClosed: true,\n        knownAncestorIds\n      })\n    ) {\n      throw new Error(`binding path '${ [ ...parentPath, key ].join('.') }' is already claimed`);\n    }\n\n    if (config.pathed && path && !this._pathRegistry.canClaimPath([ ...parentPath, ...path.split('.') ],\n      {\n        isRepeatable: config.repeatable,\n        knownAncestorIds\n      })\n    ) {\n      throw new Error(`binding path '${ [ ...parentPath, ...path.split('.') ].join('.') }' is already claimed`);\n    }\n\n    const labelAttrs = applyDefaults && config.label ? {\n      label: config.label\n    } : {};\n\n    const field = config.create({\n      ...labelAttrs,\n      ...attrs\n    });\n\n    this._ensureId(field);\n\n    if (config.keyed) {\n      this._ensureKey(field);\n      this._pathRegistry.claimPath(this._pathRegistry.getValuePath(field), { isClosed: true, claimerId: field.id, knownAncestorIds: getAncestryList(_parent, this._formFieldRegistry) });\n    }\n\n    if (config.pathed) {\n      if (config.repeatable) {\n        this._enforceDefaultPath(field);\n      }\n\n      if (field.path) {\n        this._pathRegistry.claimPath(this._pathRegistry.getValuePath(field), { isRepeatable: config.repeatable, claimerId: field.id, knownAncestorIds: getAncestryList(_parent, this._formFieldRegistry) });\n      }\n    }\n\n    return field;\n  }\n\n  _ensureId(field) {\n\n    if (field.id) {\n      this._formFieldRegistry._ids.claim(field.id, field);\n\n      return;\n    }\n\n    let prefix = 'Field';\n\n    if (field.type === 'default') {\n      prefix = 'Form';\n    }\n\n    field.id = this._formFieldRegistry._ids.nextPrefixed(`${prefix}_`, field);\n  }\n\n  _ensureKey(field) {\n    if (!field.key) {\n      field.key = this._getUniqueKeyPath(field);\n    }\n  }\n\n  _enforceDefaultPath(field) {\n    if (!field.path) {\n      field.path = this._getUniqueKeyPath(field);\n    }\n  }\n\n  _getUniqueKeyPath(field) {\n\n    let random;\n    const parent = this._formFieldRegistry.get(field._parent);\n\n    // ensure key uniqueness at level\n    do {\n      random = Math.random().toString(36).substring(7);\n    } while (parent && parent.components.some(child => child.key === random));\n\n    return `${field.type}_${random}`;\n  }\n\n}\n\n\nFieldFactory.$inject = [\n  'formFieldRegistry',\n  'pathRegistry',\n  'formFields'\n];","import { isArray } from 'min-dash';\nimport { clone, getAncestryList } from '../util';\n\n/**\n * The PathRegistry class manages a hierarchical structure of paths associated with form fields.\n * It enables claiming, unclaiming, and validating paths within this structure.\n *\n * Example Tree Structure:\n *\n *   [\n *     {\n *       segment: 'root',\n *       claimCount: 1,\n *       children: [\n *         {\n *           segment: 'child1',\n *           claimCount: 2,\n *           children: null  // A leaf node (closed path)\n *         },\n *         {\n *           segment: 'child2',\n *           claimCount: 1,\n *           children: [\n *             {\n *               segment: 'subChild1',\n *               claimCount: 1,\n *               children: []  // An open node (open path)\n *             }\n *           ]\n *         }\n *       ]\n *     }\n *   ]\n */\nexport class PathRegistry {\n  constructor(formFieldRegistry, formFields, injector) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._formFields = formFields;\n    this._injector = injector;\n    this._dataPaths = [];\n  }\n\n  canClaimPath(path, options = {}) {\n\n    const {\n      isClosed = false,\n      isRepeatable = false,\n      skipAncestryCheck = false,\n      claimerId = null,\n      knownAncestorIds = []\n    } = options;\n\n    let node = { children: this._dataPaths };\n\n    // (1) if we reach a leaf node, we cannot claim it, if we reach an open node, we can\n    // if we reach a repeatable node, we need to ensure that the claimer is (or will be) an ancestor of the repeater\n    for (const segment of path) {\n\n      node = _getNextSegment(node, segment);\n\n      if (!node) {\n        return true;\n      }\n\n      if (node.isRepeatable && !skipAncestryCheck) {\n\n        if (!(claimerId || knownAncestorIds.length)) {\n          throw new Error('cannot claim a path that contains a repeater without specifying a claimerId or knownAncestorIds');\n        }\n\n        const isValidRepeatClaim =\n          knownAncestorIds.includes(node.repeaterId) ||\n          claimerId && getAncestryList(claimerId, this._formFieldRegistry).includes(node.repeaterId);\n\n        if (!isValidRepeatClaim) {\n          return false;\n        }\n      }\n\n      if (node.children === null) {\n        return false;\n      }\n\n    }\n\n    // (2) if the path lands in the middle of the tree, we can only claim an open, non-repeatable path\n    return !(isClosed || isRepeatable);\n  }\n\n  claimPath(path, options = {}) {\n\n    const {\n      isClosed = false,\n      isRepeatable = false,\n      claimerId = null,\n      knownAncestorIds = []\n    } = options;\n\n    if (!this.canClaimPath(path, { isClosed, isRepeatable, claimerId, knownAncestorIds })) {\n      throw new Error(`cannot claim path '${ path.join('.') }'`);\n    }\n\n    let node = { children: this._dataPaths };\n\n    for (const segment of path) {\n\n      let child = _getNextSegment(node, segment);\n\n      if (!child) {\n        child = { segment, claimCount: 1, children: [] };\n        node.children.push(child);\n      }\n      else {\n        child.claimCount++;\n      }\n\n      node = child;\n    }\n\n    if (isClosed) {\n      node.children = null;\n    }\n\n    // add some additional info when we make a repeatable path claim\n    if (isRepeatable) {\n      node.isRepeatable = true;\n      node.repeaterId = claimerId;\n    }\n\n  }\n\n  unclaimPath(path) {\n\n    // verification Pass\n    let node = { children: this._dataPaths };\n    for (const segment of path) {\n      const child = _getNextSegment(node, segment);\n      if (!child) {\n        throw new Error(`no open path found for '${ path.join('.') }'`);\n      }\n      node = child;\n    }\n\n    // mutation Pass\n    node = { children: this._dataPaths };\n    for (const segment of path) {\n      const child = _getNextSegment(node, segment);\n\n      child.claimCount--;\n\n      if (child.claimCount === 0) {\n        node.children.splice(node.children.indexOf(child), 1);\n        break; // Abort early if claimCount reaches zero\n      }\n\n      node = child;\n    }\n  }\n\n  /**\n   * Applies a function (fn) recursively on a given field and its children.\n   *\n   * - `field`: Starting field object.\n   * - `fn`: Function to apply.\n   * - `context`: Optional object for passing data between calls.\n   *\n   * Stops early if `fn` returns `false`. Useful for traversing the form field tree.\n   *\n   * @returns {boolean} Success status based on function execution.\n   */\n  executeRecursivelyOnFields(field, fn, context = {}) {\n\n    let result = true;\n\n    const formFieldConfig = this._formFields.get(field.type).config;\n\n    if (formFieldConfig.keyed) {\n      const callResult = fn({ field, isClosed: true, isRepeatable: false, context });\n      return result && callResult;\n    }\n    else if (formFieldConfig.pathed) {\n      const callResult = fn({ field, isClosed: false, isRepeatable: formFieldConfig.repeatable, context });\n      result = result && callResult;\n    }\n\n    // stop executing if false is specifically returned or if preventing recursion\n    if (result === false || context.preventRecursion) {\n      return result;\n    }\n\n    if (Array.isArray(field.components)) {\n      for (const child of field.components) {\n        const callResult = this.executeRecursivelyOnFields(child, fn, clone(context));\n        result = result && callResult;\n\n        // stop executing if false is specifically returned\n        if (result === false) {\n          return result;\n        }\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * Generates an array representing the binding path to an underlying data object for a form field.\n   *\n   * @param {Object} field - The field object with properties: `key`, `path`, `id`, and optionally `_parent`.\n   * @param {Object} [options={}] - Configuration options.\n   * @param {Object} [options.replacements={}] - A map of field IDs to alternative path arrays.\n   * @param {Object} [options.indexes=null] - A map of parent IDs to the index of the field within said parent, leave null to get an unindexed path.\n   * @param {Object} [options.cutoffNode] - The ID of the parent field at which to stop generating the path.\n   *\n   * @returns {(Array<string>|undefined)} An array of strings representing the binding path, or undefined if not determinable.\n   */\n  getValuePath(field, options = {}) {\n    const {\n      replacements = {},\n      indexes = null,\n      cutoffNode = null\n    } = options;\n\n    let localValuePath = [];\n\n    const hasReplacement = Object.prototype.hasOwnProperty.call(replacements, field.id);\n    const formFieldConfig = this._formFields.get(field.type).config;\n\n    // uses path overrides instead of true path to calculate a potential value path\n    if (hasReplacement) {\n      const replacement = replacements[field.id];\n\n      if (replacement === null || replacement === undefined || replacement === '') {\n        localValuePath = [];\n      } else if (typeof replacement === 'string') {\n        localValuePath = replacement.split('.');\n      } else if (Array.isArray(replacement)) {\n        localValuePath = replacement;\n      } else {\n        throw new Error(`replacements for field ${ field.id } must be a string, array or null/undefined`);\n      }\n\n    } else if (formFieldConfig.keyed) {\n      localValuePath = field.key.split('.');\n    } else if (formFieldConfig.pathed && field.path) {\n      localValuePath = field.path.split('.');\n    }\n\n    // add potential indexes of repeated fields\n    if (indexes) {\n      localValuePath = this._addIndexes(localValuePath, field, indexes);\n    }\n\n    // if parent exists and isn't cutoff node, add parent's value path\n    if (field._parent && field._parent !== cutoffNode) {\n      const parent = this._formFieldRegistry.get(field._parent);\n      return [ ...(this.getValuePath(parent, options) || []), ...localValuePath ];\n    }\n\n    return localValuePath;\n  }\n\n  clear() {\n    this._dataPaths = [];\n  }\n\n  _addIndexes(localValuePath, field, indexes) {\n\n    const repeatRenderManager = this._injector.get('repeatRenderManager', false);\n\n    if (repeatRenderManager && repeatRenderManager.isFieldRepeating(field._parent)) {\n      return [ indexes[field._parent], ...localValuePath ];\n    }\n\n    return localValuePath;\n  }\n}\n\nconst _getNextSegment = (node, segment) => {\n  if (isArray(node.children)) { return node.children.find((node) => node.segment === segment) || null; }\n  return null;\n};\n\nPathRegistry.$inject = [ 'formFieldRegistry', 'formFields', 'injector' ];","import Ids from 'ids';\n\nimport { groupBy } from 'min-dash';\n\n\n/**\n * @typedef { { id: String, components: Array<String> } } FormRow\n * @typedef { { formFieldId: String, rows: Array<FormRow> } } FormRows\n */\n\n/**\n * Maintains the Form layout in a given structure, for example\n *\n *  [\n *    {\n *      formFieldId: 'FormField_1',\n *      rows: [\n *        { id: 'Row_1', components: [ 'Text_1', 'Textdield_1', ... ]  }\n *      ]\n *    }\n *  ]\n *\n */\nexport class FormLayouter {\n\n  constructor(eventBus) {\n\n    /** @type Array<FormRows>  */\n    this._rows = [];\n    this._ids = new Ids([ 32, 36, 1 ]);\n\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * @param {FormRow} row\n   */\n  addRow(formFieldId, row) {\n    let rowsPerComponent = this._rows.find(r => r.formFieldId === formFieldId);\n\n    if (!rowsPerComponent) {\n      rowsPerComponent = {\n        formFieldId,\n        rows: []\n      };\n\n      this._rows.push(rowsPerComponent);\n    }\n\n    rowsPerComponent.rows.push(row);\n  }\n\n  /**\n   * @param {String} id\n   * @returns {FormRow}\n   */\n  getRow(id) {\n    const rows = allRows(this._rows);\n    return rows.find(r => r.id === id);\n  }\n\n  /**\n   * @param {any} formField\n   * @returns {FormRow}\n   */\n  getRowForField(formField) {\n    return allRows(this._rows).find(r => {\n      const { components } = r;\n\n      return components.includes(formField.id);\n    });\n  }\n\n  /**\n   * @param {String} formFieldId\n   * @returns { Array<FormRow> }\n   */\n  getRows(formFieldId) {\n    const rowsForField = this._rows.find(r => formFieldId === r.formFieldId);\n\n    if (!rowsForField) {\n      return [];\n    }\n\n    return rowsForField.rows;\n  }\n\n  /**\n   * @returns {string}\n   */\n  nextRowId() {\n    return this._ids.nextPrefixed('Row_');\n  }\n\n  /**\n   * @param {any} formField\n   */\n  calculateLayout(formField) {\n\n    const {\n      type,\n      components\n    } = formField;\n\n    if (![ 'default', 'group', 'dynamiclist' ].includes(type) || !components) {\n      return;\n    }\n\n    // (1) calculate rows order (by component order)\n    const rowsInOrder = groupByRow(components, this._ids);\n\n    Object.entries(rowsInOrder).forEach(([ id, components ]) => {\n\n      // (2) add fields to rows\n      this.addRow(formField.id, {\n        id: id,\n        components: components.map(c => c.id)\n      });\n    });\n\n    // (3) traverse through nested components\n    components.forEach(field => this.calculateLayout(field));\n\n    // (4) fire event to notify interested parties\n    this._eventBus.fire('form.layoutCalculated', { rows: this._rows });\n  }\n\n  clear() {\n    this._rows = [];\n    this._ids.clear();\n\n    // fire event to notify interested parties\n    this._eventBus.fire('form.layoutCleared');\n  }\n}\n\nFormLayouter.$inject = [ 'eventBus' ];\n\n\n// helpers //////\n\nfunction groupByRow(components, ids) {\n  return groupBy(components, c => {\n\n    // mitigate missing row by creating new (handle legacy)\n    const { layout } = c;\n\n    if (!layout || !layout.row) {\n      return ids.nextPrefixed('Row_');\n    }\n\n    return layout.row;\n  });\n}\n\n/**\n * @param {Array<FormRows>} formRows\n * @returns {Array<FormRow>}\n */\nfunction allRows(formRows) {\n  return formRows.map(r => r.rows).flat();\n}","import Ids from 'ids';\n\nexport class FormFieldRegistry {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n\n    this._formFields = {};\n\n    eventBus.on('form.clear', () => this.clear());\n\n    this._ids = new Ids([ 32, 36, 1 ]);\n  }\n\n  add(formField) {\n    const { id } = formField;\n\n    if (this._formFields[ id ]) {\n      throw new Error(`form field with ID ${ id } already exists`);\n    }\n\n    this._eventBus.fire('formField.add', { formField });\n\n    this._formFields[ id ] = formField;\n  }\n\n  remove(formField) {\n    const { id } = formField;\n\n    if (!this._formFields[ id ]) {\n      return;\n    }\n\n    this._eventBus.fire('formField.remove', { formField });\n\n    delete this._formFields[ id ];\n  }\n\n  get(id) {\n    return this._formFields[ id ];\n  }\n\n  getAll() {\n    return Object.values(this._formFields);\n  }\n\n  getForm() {\n    return this.getAll().find((formField) => formField.type === 'default');\n  }\n\n  forEach(callback) {\n    this.getAll().forEach((formField) => callback(formField));\n  }\n\n  clear() {\n    this._formFields = {};\n\n    this._ids.clear();\n  }\n\n}\n\nFormFieldRegistry.$inject = [ 'eventBus' ];","import { render } from 'preact';\nimport { useCallback, useState } from 'preact/hooks';\n\nimport { FormComponent } from './components/FormComponent';\nimport { FormContext } from './context';\n\n/**\n * @typedef { { container } } Config\n * @typedef { import('didi').Injector } Injector\n * @typedef { import('../core/EventBus').EventBus } EventBus\n * @typedef { import('../Form').Form } Form\n */\n\n/**\n * @param {Config} config\n * @param {EventBus} eventBus\n * @param {Form} form\n * @param {Injector} injector\n */\nexport function Renderer(config, eventBus, form, injector) {\n\n  const App = () => {\n    const [ state, setState ] = useState(form._getState());\n\n    const formContext = {\n      getService(type, strict = true) {\n        return injector.get(type, strict);\n      },\n      formId: form._id\n    };\n\n    eventBus.on('changed', (newState) => {\n      setState(newState);\n    });\n\n    const onChange = useCallback((update) => form._update(update), []);\n\n    const { properties } = state;\n\n    const { readOnly } = properties;\n\n    const onSubmit = useCallback(() => {\n      if (!readOnly) {\n        form.submit();\n      }\n    }, [ readOnly ]);\n\n    const onReset = useCallback(() => form.reset(), []);\n\n    const { schema } = state;\n\n    if (!schema) {\n      return null;\n    }\n\n    return (\n      <FormContext.Provider value={ formContext }>\n        <FormComponent\n          onChange={ onChange }\n          onSubmit={ onSubmit }\n          onReset={ onReset } />\n      </FormContext.Provider>\n    );\n  };\n\n  const { container } = config;\n\n  eventBus.on('form.init', () => {\n    render(<App />, container);\n  });\n\n  eventBus.on('form.destroy', () => {\n    render(null, container);\n  });\n}\n\nRenderer.$inject = [ 'config.renderer', 'eventBus', 'form', 'injector' ];","import { FormFields } from './FormFields';\nimport { Renderer } from './Renderer';\n\nexport { FormFields };\n\nexport * from './components';\nexport * from './context';\nexport {\n  useExpressionEvaluation,\n  useSingleLineTemplateEvaluation,\n  useTemplateEvaluation\n} from './hooks';\n\nexport const RenderModule = {\n  __init__: [ 'formFields', 'renderer' ],\n  formFields: [ 'type', FormFields ],\n  renderer: [ 'type', Renderer ]\n};","import { EventBus } from './EventBus';\nimport { Validator } from './Validator';\nimport { Importer } from './Importer';\nimport { FieldFactory } from './FieldFactory';\nimport { PathRegistry } from './PathRegistry';\nimport { FormLayouter } from './FormLayouter';\nimport { FormFieldRegistry } from './FormFieldRegistry';\n\nimport { RenderModule } from '../render';\n\nexport { Importer, FieldFactory, FormFieldRegistry, PathRegistry, FormLayouter };\n\nexport const CoreModule = {\n  __depends__: [ RenderModule ],\n  eventBus: [ 'type', EventBus ],\n  importer: [ 'type', Importer ],\n  fieldFactory: [ 'type', FieldFactory ],\n  formFieldRegistry: [ 'type', FormFieldRegistry ],\n  pathRegistry: [ 'type', PathRegistry ],\n  formLayouter: [ 'type', FormLayouter ],\n  validator: [ 'type', Validator ]\n};","import Ids from 'ids';\nimport { get, isObject, isString, isUndefined, set } from 'min-dash';\n\nimport {\n  ExpressionLanguageModule,\n  MarkdownRendererModule,\n  ViewerCommandsModule,\n  RepeatRenderModule\n} from './features';\n\nimport { CoreModule } from './core';\n\nimport { clone, createFormContainer, createInjector } from './util';\n\n/**\n * @typedef { import('./types').Injector } Injector\n * @typedef { import('./types').Data } Data\n * @typedef { import('./types').Errors } Errors\n * @typedef { import('./types').Schema } Schema\n * @typedef { import('./types').FormProperties } FormProperties\n * @typedef { import('./types').FormProperty } FormProperty\n * @typedef { import('./types').FormEvent } FormEvent\n * @typedef { import('./types').FormOptions } FormOptions\n *\n * @typedef { {\n *   data: Data,\n *   initialData: Data,\n *   errors: Errors,\n *   properties: FormProperties,\n *   schema: Schema\n * } } State\n *\n * @typedef { (type:FormEvent, priority:number, handler:Function) => void } OnEventWithPriority\n * @typedef { (type:FormEvent, handler:Function) => void } OnEventWithOutPriority\n * @typedef { OnEventWithPriority & OnEventWithOutPriority } OnEventType\n */\n\nconst ids = new Ids([ 32, 36, 1 ]);\n\n/**\n * The form.\n */\nexport class Form {\n\n  /**\n   * @constructor\n   * @param {FormOptions} options\n   */\n  constructor(options = {}) {\n\n    /**\n     * @public\n     * @type {OnEventType}\n     */\n    this.on = this._onEvent;\n\n    /**\n     * @public\n     * @type {String}\n     */\n    this._id = ids.next();\n\n    /**\n     * @private\n     * @type {Element}\n     */\n    this._container = createFormContainer();\n\n    const {\n      container,\n      injector = this._createInjector(options, this._container),\n      properties = {}\n    } = options;\n\n    /**\n     * @private\n     * @type {State}\n     */\n    this._state = {\n      initialData: null,\n      data: null,\n      properties,\n      errors: {},\n      schema: null\n    };\n\n    this.get = injector.get;\n\n    this.invoke = injector.invoke;\n\n    this.get('eventBus').fire('form.init');\n\n    if (container) {\n      this.attachTo(container);\n    }\n  }\n\n  clear() {\n\n    // clear diagram services (e.g. EventBus)\n    this._emit('diagram.clear');\n\n    // clear form services\n    this._emit('form.clear');\n  }\n\n  /**\n   * Destroy the form, removing it from DOM,\n   * if attached.\n   */\n  destroy() {\n\n    // destroy form services\n    this.get('eventBus').fire('form.destroy');\n\n    // destroy diagram services (e.g. EventBus)\n    this.get('eventBus').fire('diagram.destroy');\n\n    this._detach(false);\n  }\n\n  /**\n   * Open a form schema with the given initial data.\n   *\n   * @param {Schema} schema\n   * @param {Data} [data]\n   *\n   * @return Promise<{ warnings: Array<any> }>\n   */\n  importSchema(schema, data = {}) {\n    return new Promise((resolve, reject) => {\n      try {\n        this.clear();\n\n        const {\n          schema: importedSchema,\n          warnings\n        } = this.get('importer').importSchema(schema);\n\n        const initializedData = this._getInitializedFieldData(clone(data));\n\n        this._setState({\n          data: initializedData,\n          errors: {},\n          schema: importedSchema,\n          initialData: clone(initializedData)\n        });\n\n        this._emit('import.done', { warnings });\n\n        return resolve({ warnings });\n      } catch (error) {\n        this._emit('import.done', {\n          error,\n          warnings: error.warnings || []\n        });\n\n        return reject(error);\n      }\n    });\n  }\n\n  /**\n   * Submit the form, triggering all field validations.\n   *\n   * @returns { { data: Data, errors: Errors } }\n   */\n  submit() {\n\n    const {\n      properties\n    } = this._getState();\n\n    if (properties.readOnly || properties.disabled) {\n      throw new Error('form is read-only');\n    }\n\n    this._emit('presubmit');\n\n    const data = this._getSubmitData();\n\n    const errors = this.validate();\n\n    const result = {\n      data,\n      errors\n    };\n\n    this._emit('submit', result);\n\n    return result;\n  }\n\n  reset() {\n    this._emit('reset');\n\n    this._setState({\n      data: clone(this._state.initialData),\n      errors: {}\n    });\n  }\n\n  /**\n   * @returns {Errors}\n   */\n  validate() {\n    const formFields = this.get('formFields'),\n          formFieldRegistry = this.get('formFieldRegistry'),\n          pathRegistry = this.get('pathRegistry'),\n          validator = this.get('validator');\n\n    const { data } = this._getState();\n\n    const getErrorPath = (field, indexes) => [ field.id, ...Object.values(indexes || {}) ];\n\n    function validateFieldRecursively(errors, field, indexes) {\n      const { disabled, type, isRepeating } = field;\n      const { config: fieldConfig } = formFields.get(type);\n\n      // (1) Skip disabled fields\n      if (disabled) {\n        return;\n      }\n\n      // (2) Validate the field\n      const valuePath = pathRegistry.getValuePath(field, { indexes });\n      const valueData = get(data, valuePath);\n      const fieldErrors = validator.validateField(field, valueData);\n\n      if (fieldErrors.length) {\n        set(errors, getErrorPath(field, indexes), fieldErrors);\n      }\n\n      // (3) Process parents\n      if (!Array.isArray(field.components)) {\n        return;\n      }\n\n      // (4a) Recurse repeatable parents both across the indexes of repetition and the children\n      if (fieldConfig.repeatable && isRepeating) {\n\n        if (!Array.isArray(valueData)) {\n          return;\n        }\n\n        valueData.forEach((_, index) => {\n          field.components.forEach((component) => {\n            validateFieldRecursively(errors, component, { ...indexes, [field.id]: index });\n          });\n        });\n\n        return;\n      }\n\n      // (4b) Recurse non-repeatable parents only across the children\n      field.components.forEach((component) => validateFieldRecursively(errors, component, indexes));\n    }\n\n    const workingErrors = {};\n    validateFieldRecursively(workingErrors, formFieldRegistry.getForm());\n    const filteredErrors = this._applyConditions(workingErrors, data, { getFilterPath: getErrorPath, leafNodeDeletionOnly: true });\n    this._setState({ errors: filteredErrors });\n\n    return filteredErrors;\n  }\n\n  /**\n   * @param {Element|string} parentNode\n   */\n  attachTo(parentNode) {\n    if (!parentNode) {\n      throw new Error('parentNode required');\n    }\n\n    this.detach();\n\n    if (isString(parentNode)) {\n      parentNode = document.querySelector(parentNode);\n    }\n\n    const container = this._container;\n\n    parentNode.appendChild(container);\n\n    this._emit('attach');\n  }\n\n  detach() {\n    this._detach();\n  }\n\n  /**\n   * @private\n   *\n   * @param {boolean} [emit]\n   */\n  _detach(emit = true) {\n    const container = this._container,\n          parentNode = container.parentNode;\n\n    if (!parentNode) {\n      return;\n    }\n\n    if (emit) {\n      this._emit('detach');\n    }\n\n    parentNode.removeChild(container);\n  }\n\n  /**\n   * @param {FormProperty} property\n   * @param {any} value\n   */\n  setProperty(property, value) {\n    const properties = set(this._getState().properties, [ property ], value);\n\n    this._setState({ properties });\n  }\n\n  /**\n   * @param {FormEvent} type\n   * @param {Function} handler\n   */\n  off(type, handler) {\n    this.get('eventBus').off(type, handler);\n  }\n\n  /**\n   * @private\n   *\n   * @param {FormOptions} options\n   * @param {Element} container\n   *\n   * @returns {Injector}\n   */\n  _createInjector(options, container) {\n    const {\n      modules = this._getModules(),\n      additionalModules = [],\n      ...config\n    } = options;\n\n    const enrichedConfig = {\n      ...config,\n      renderer: {\n        container\n      }\n    };\n\n    return createInjector([\n      { config: [ 'value', enrichedConfig ] },\n      { form: [ 'value', this ] },\n      CoreModule,\n      ...modules,\n      ...additionalModules\n    ]);\n  }\n\n  /**\n   * @private\n   */\n  _emit(type, data) {\n    this.get('eventBus').fire(type, data);\n  }\n\n  /**\n   * @internal\n   *\n   * @param { { add?: boolean, field: any, indexes: object, remove?: number, value?: any } } update\n   */\n  _update(update) {\n    const {\n      field,\n      indexes,\n      value\n    } = update;\n\n    const {\n      data,\n      errors\n    } = this._getState();\n\n    const validator = this.get('validator'),\n          pathRegistry = this.get('pathRegistry');\n\n    const fieldErrors = validator.validateField(field, value);\n\n    const valuePath = pathRegistry.getValuePath(field, { indexes });\n\n    set(data, valuePath, value);\n\n    set(errors, [ field.id, ...Object.values(indexes || {}) ], fieldErrors.length ? fieldErrors : undefined);\n\n    this._setState({\n      data: clone(data),\n      errors: clone(errors)\n    });\n  }\n\n  /**\n   * @internal\n   */\n  _getState() {\n    return this._state;\n  }\n\n  /**\n   * @internal\n   */\n  _setState(state) {\n    this._state = {\n      ...this._state,\n      ...state\n    };\n\n    this._emit('changed', this._getState());\n  }\n\n  /**\n * @internal\n */\n  _getModules() {\n    return [\n      ExpressionLanguageModule,\n      MarkdownRendererModule,\n      ViewerCommandsModule,\n      RepeatRenderModule\n    ];\n  }\n\n  /**\n   * @internal\n   */\n  _onEvent(type, priority, handler) {\n    this.get('eventBus').on(type, priority, handler);\n  }\n\n  /**\n   * @internal\n   */\n  _getSubmitData() {\n    const formFieldRegistry = this.get('formFieldRegistry');\n    const formFields = this.get('formFields');\n    const pathRegistry = this.get('pathRegistry');\n    const formData = this._getState().data;\n\n    function collectSubmitDataRecursively(submitData, formField, indexes) {\n      const { disabled, type } = formField;\n      const { config: fieldConfig } = formFields.get(type);\n\n      // (1) Process keyed fields\n      if (!disabled && fieldConfig.keyed) {\n        const valuePath = pathRegistry.getValuePath(formField, { indexes });\n        const value = get(formData, valuePath);\n        set(submitData, valuePath, value);\n      }\n\n      // (2) Process parents\n      if (!Array.isArray(formField.components)) {\n        return;\n      }\n\n      // (3a) Recurse repeatable parents both across the indexes of repetition and the children\n      if (fieldConfig.repeatable && formField.isRepeating) {\n\n        const valueData = get(formData, pathRegistry.getValuePath(formField, { indexes }));\n\n        if (!Array.isArray(valueData)) {\n          return;\n        }\n\n        valueData.forEach((_, index) => {\n          formField.components.forEach((component) => {\n            collectSubmitDataRecursively(submitData, component, { ...indexes, [formField.id]: index });\n          });\n        });\n\n        return;\n      }\n\n      // (3b) Recurse non-repeatable parents only across the children\n      formField.components.forEach((component) => collectSubmitDataRecursively(submitData, component, indexes));\n    }\n\n    const workingSubmitData = {};\n    collectSubmitDataRecursively(workingSubmitData, formFieldRegistry.getForm(), {});\n    return this._applyConditions(workingSubmitData, formData);\n  }\n\n  /**\n   * @internal\n   */\n  _applyConditions(toFilter, data, options = {}) {\n    const conditionChecker = this.get('conditionChecker');\n    return conditionChecker.applyConditions(toFilter, data, options);\n  }\n\n  /**\n   * @internal\n   */\n  _getInitializedFieldData(data, options = {}) {\n    const formFieldRegistry = this.get('formFieldRegistry');\n    const formFields = this.get('formFields');\n    const pathRegistry = this.get('pathRegistry');\n\n    function initializeFieldDataRecursively(initializedData, formField, indexes) {\n      const { defaultValue, type, isRepeating } = formField;\n      const { config: fieldConfig } = formFields.get(type);\n\n      const valuePath = pathRegistry.getValuePath(formField, { indexes });\n      let valueData = get(data, valuePath);\n\n      // (1) Process keyed fields\n      if (fieldConfig.keyed) {\n\n        // (a) Retrieve and sanitize data from input\n        if (!isUndefined(valueData) && fieldConfig.sanitizeValue) {\n          valueData = fieldConfig.sanitizeValue({ formField, data, value: valueData });\n        }\n\n        // (b) Initialize field value in output data\n        const initializedFieldValue = !isUndefined(valueData) ? valueData : (!isUndefined(defaultValue) ? defaultValue : fieldConfig.emptyValue);\n        set(initializedData, valuePath, initializedFieldValue);\n      }\n\n      // (2) Process parents\n      if (!Array.isArray(formField.components)) {\n        return;\n      }\n\n      if (fieldConfig.repeatable && isRepeating) {\n\n        // (a) Sanitize repeatable parents data if it is not an array\n        if (!valueData || !Array.isArray(valueData)) {\n          valueData = new Array(isUndefined(formField.defaultRepetitions) ? 1 : formField.defaultRepetitions).fill().map(_ => ({})) || [];\n        }\n\n        // (b) Ensure all elements of the array are objects\n        valueData = valueData.map((val) => isObject(val) ? val : {});\n\n        // (c) Initialize field value in output data\n        set(initializedData, valuePath, valueData);\n\n        // (d) If indexed ahead of time, recurse repeatable simply across the children\n        if (!isUndefined(indexes[formField.id])) {\n          formField.components.forEach(\n            (component) => initializeFieldDataRecursively(initializedData, component, { ...indexes })\n          );\n\n          return;\n        }\n\n        // (e1) Recurse repeatable parents both across the indexes of repetition and the children\n        valueData.forEach((_, index) => {\n          formField.components.forEach(\n            (component) => initializeFieldDataRecursively(initializedData, component, { ...indexes, [formField.id]: index })\n          );\n        });\n\n        return;\n      }\n\n      // (e2) Recurse non-repeatable parents only across the children\n      formField.components.forEach((component) => initializeFieldDataRecursively(initializedData, component, indexes));\n    }\n\n    // allows definition of a specific subfield to generate the data for\n    const container = options.container || formFieldRegistry.getForm();\n    const indexes = options.indexes || {};\n    const basePath = pathRegistry.getValuePath(container, { indexes }) || [];\n\n    // if indexing ahead of time, we must add this index to the data path at the end\n    const path = !isUndefined(indexes[container.id]) ? [ ...basePath, indexes[container.id] ] : basePath;\n\n    const workingData = clone(data);\n    initializeFieldDataRecursively(workingData, container, indexes);\n    return get(workingData, path, {});\n  }\n\n}\n","import { Form } from './Form';\r\n\r\nexport { FormFieldRegistry, FormLayouter, Importer, FieldFactory, PathRegistry } from './core';\r\nexport * from './render';\r\nexport * from './util';\r\nexport * from './features';\r\n\r\nconst schemaVersion = 16;\r\n\r\nexport {\r\n  Form,\r\n  schemaVersion\r\n};\r\n\r\n/**\r\n * @typedef { import('./types').CreateFormOptions } CreateFormOptions\r\n */\r\n\r\n/**\r\n * Create a form.\r\n *\r\n * @param {CreateFormOptions} options\r\n *\r\n * @return {Promise<Form>}\r\n */\r\nexport function createForm(options) {\r\n  const {\r\n    data,\r\n    schema,\r\n    ...formOptions\r\n  } = options;\r\n\r\n  const form = new Form(formOptions);\r\n\r\n  return form.importSchema(schema, data).then(function() {\r\n    return form;\r\n  });\r\n}"],"names":["getFlavouredFeelVariableNames","feelString","feelFlavour","options","depth","specialDepthAccessors","includes","tree","parseExpression","parseUnaryTests","simpleExpressionTree","_buildSimpleFeelStructureTree","variables","_unfoldVariables","node","name","pathRoot","_linearizePathExpression","Object","keys","length","_getVariableNameAtPathIndex","Array","from","_smartExtractVariableNames","variableName","children","reduce","acc","child","concat","filter","Set","root","index","nodes","initialDepth","accessorDepthInfos","previous","current","extractedVariables","pathNodes","i","currentAccessor","depthOffsets","accumulator","offset","map","depthInfo","some","add","parts","push","reverse","parseTree","stack","iterate","enter","nodeRepresentation","type","slice","to","leave","result","pop","parent","_extractFilterExpressions","flattenedExpressionTree","x","filterTarget","filterExpression","taggedFilterExpression","FeelExpressionLanguage","constructor","eventBus","_eventBus","isExpression","value","isString","startsWith","getVariableNames","expression","Error","evaluate","data","error","fire","$inject","FeelersTemplating","isTemplate","test","template","expressions","_extractExpressionsWithDepth","_parent_","this","_this_","context","debug","strict","buildDebugString","err","sanitizer","evaluateFeelers","feelersParser","parse","buildSimpleTree","_traverse","n","content","loopExpression","childResults","MINUTES_IN_DAY","DATETIME_SUBTYPES","DATE","TIME","DATETIME","TIME_SERIALISING_FORMATS","UTC_OFFSET","UTC_NORMALIZED","NO_TIMEZONE","DATETIME_SUBTYPES_LABELS","TIME_SERIALISINGFORMAT_LABELS","DATETIME_SUBTYPE_PATH","DATE_LABEL_PATH","DATE_DISALLOW_PAST_PATH","TIME_LABEL_PATH","TIME_USE24H_PATH","TIME_INTERVAL_PATH","TIME_SERIALISING_FORMAT_PATH","OPTIONS_SOURCES","STATIC","INPUT","EXPRESSION","OPTIONS_SOURCE_DEFAULT","OPTIONS_SOURCES_LABELS","OPTIONS_SOURCES_PATHS","OPTIONS_SOURCES_DEFAULTS","label","getOptionsSource","field","source","values","get","undefined","SANDBOX_ATTRIBUTE","ALLOW_ATTRIBUTE","SECURITY_ATTRIBUTES_DEFINITIONS","attribute","directive","property","createInjector","bootstrapModules","injector","Injector","init","createFormContainer","prefix","container","document","createElement","classList","formFieldClasses","errors","disabled","readonly","classNames","gridColumnClasses","formField","layout","columns","prefixId","id","formId","indexes","forEach","Button","props","onFocus","onBlur","action","_jsx","class","config","keyed","group","create","FormRenderContext","createContext","Empty","Hidden","Children","style","Element","Row","Column","hoverInfo","cleanup","LocalExpressionContext","getService","FormContext","useService","useContext","isRequired","required","pathParse","path","split","key","isNaN","parseInt","pathsEqual","a","b","every","indices","generateIndexForType","generateIdForType","clone","replacer","JSON","stringify","buildExpressionContext","specialContextKeys","_wrapObjectKeysWithUnderscores","runRecursively","fn","components","component","obj","newObj","entries","useCondition","condition","conditionChecker","expressionContextInfo","useMemo","check","getSimpleOptionsData","formData","valuesExpression","optionsExpression","valuesKey","optionsKey","staticOptions","normalizeOptionsData","optionsData","_isAllowedValue","_normalizeOption","o","isNil","createEmptyOptions","defaults","option","_isAllowedPrimitive","isObject","isValidLabel","_isValidLabel","isAllowedPrimitiveType","isValid","useExpressionEvaluation","expressionLanguage","useDeepCompareMemoize","ref","useRef","isEqual","LOAD_STATES","LOADING","LOADED","ERROR","useOptionsAsync","initialData","_getState","expressionEvaluation","evaluatedOptions","optionsGetter","keyedOptions","isArray","buildErrorState","buildLoadedState","loadState","useDangerousHTMLWrapper","html","transform","sanitize","sanitizeStyleTags","sanitizedHtml","DOMPurify","getDOMPurifyConfig","transformedHtml","__html","FORCE_BODY","FORBID_TAGS","useSecurityAttributesMap","security","securityMemoized","sandbox","join","allow","useGetLabelCorrelation","labelMap","assign","_getValueHash","useCallback","wrapCSSStyles","rootNode","styleTags","querySelectorAll","styleTag","topLevelRules","extractTopLevelRules","textContent","scopedCss","rule","selector","styles","splitRule","scopedSelector","scopeSelector","cssString","cursor","start","level","substring","trim","firstBracket","indexOf","sel","getScrollContainer","el","body","documentElement","_isElementScrollable","parentElement","window","getComputedStyle","overflowY","overflow","scrollHeight","clientHeight","EMPTY_OBJECT","EMPTY_ARRAY","useScrollIntoView","scrolledElementRef","deps","scrollOptions","flagRefs","_scrollOptions","_flagRefs","useEffect","itemToBeScrolled","scrollContainer","itemRect","getBoundingClientRect","containerRect","align","behavior","scrollIfVisible","shouldScroll","top","bottom","topOffset","_getTopOffset","scroll","item","scrollTop","height","useFilteredFormData","newData","applyConditions","useKeyDownAction","targetKey","listenerElement","downHandler","addEventListener","removeEventListener","useReadonly","properties","readOnly","usePrevious","defaultValue","useFlushDebounce","func","timeoutRef","lastArgsRef","debounce","shouldDebounce","delay","debounceFunc","args","clearTimeout","setTimeout","flushFunc","useTemplateEvaluation","templating","useSingleLineTemplateEvaluation","evaluatedTemplate","ENTER_KEYDOWN_EVENT","KeyboardEvent","code","charCode","keyCode","bubbles","focusRelevantFlatpickerDay","flatpickrInstance","isOpen","open","calendarContainer","dayToFocus","querySelector","focus","formatTime","use24h","minutes","wrappedMinutes","minute","hour","Math","floor","_getZeroPaddedString","isPM","parseInputTime","stringTime","workingString","toLowerCase","is12h","digits","match","displayHour","isValidDisplayHour","isNumber","isValidMinute","isValidHour","serializeTime","timeSerializingFormat","normalizedMinutes","baseTime","addUTCOffset","formatTimezoneOffset","parseIsoTime","isoTimeString","parseBasicMinutes","timeString","timeSegments","localOffset","Date","getTimezoneOffset","replace","offsetString","inboundOffset","serializeDate","date","d","month","getMonth","day","getDate","year","getFullYear","isDateTimeInputInformationSufficient","segments","dateNumbers","isDateInputInformationMatching","serializeDateTime","time","workingDate","setFullYear","setHours","timezoneOffsetMinutes","dayOffset","getHours","_getSignedPaddedHours","abs","isInvalidDateString","getTime","getNullDateTime","isValidDate","isValidTime","toString","padStart","ALLOWED_IMAGE_SRC_PATTERN","ALLOWED_IFRAME_SRC_PATTERN","sanitizeDateTimePickerValue","subtype","hasEqualValue","array","element","sanitizeSingleSelectValue","validValues","v","sanitizeMultiSelectValue","sanitizeImageSource","src","valid","sanitizeIFrameSource","escapeHTML","escapeMap","useCleanupSingleSelectValue","onChange","optionValues","hasValueNotInOptions","useCleanupMultiSelectValue","memoizedValues","hasValuesNotInOptions","Description","description","evaluatedDescription","Errors","Label","htmlFor","collapseOnEmpty","evaluatedLabel","_jsxs","for","Checkbox","domId","validate","target","checked","descriptionId","errorMessageId","emptyValue","sanitizeValue","Checklist","outerDivRef","toggleCheckbox","toggledValue","newValues","onCheckboxBlur","e","contains","relatedTarget","onCheckboxFocus","itemDomId","isChecked","onClick","noop","FormField","formFields","viewerCommands","pathRegistry","form","initialValidationTrigger","setInitialValidationTrigger","useState","FormFieldComponent","fieldConfig","valuePath","getValuePath","initialValue","resetValidation","on","off","hasInitialValue","updateFieldValidation","hidden","conditional","hide","onChangeIndexed","update","fieldErrors","formFieldElement","escapeGridRender","ChildrenRenderer","repeatRenderManager","isRepeating","isFieldRepeating","Repeater","RepeatFooter","RepeatChildrenRenderer","ChildrenRoot","SimpleChildrenRenderer","isEmpty","RowsRenderer","restProps","useSharedState","isCollapsed","_Fragment","parentId","verticalAlignment","formLayouter","formFieldRegistry","rows","getRows","row","alignItems","childId","childField","_createElement","Default","fullProps","_path","_extends","getLocaleDateFormat","locale","Intl","DateTimeFormat","formatToParts","UTC","part","len","repeat","getLocaleReadableDateFormat","format","getLocaleDateFlatpickrConfig","flatpickerizeDateFormat","dateFormat","useLeadingZero","InputAdorner","pre","post","rootRef","inputRef","hasErrors","onAdornmentClick","Datepicker","collapseLabelOnEmpty","onDateTimeBlur","onDateTimeFocus","disallowPassedDates","dateObject","setDate","dateInputRef","focusScopeRef","setFlatpickrInstance","isInputDirty","setIsInputDirty","forceFocusCalendar","setForceFocusCalendar","allowInput","static","clickOpens","minDate","errorHandler","instance","flatpickr","onCalendarFocusOut","close","onCalendarMouseDown","onOpen","onClose","onInputKeyDown","dispatchEvent","preventDefault","onInputFocus","onInputBlur","isFalseBlur","CalendarIcon","width","placeholder","autoComplete","onKeyDown","onMouseDown","onInput","_path2","DEFAULT_LABEL_GETTER","NOOP","DropdownList","getLabel","onValueSelected","emptyListMessage","initialFocusIndex","mouseControl","setMouseControl","focusedValueIndex","setFocusedValueIndex","smoothScrolling","setSmoothScrolling","dropdownContainer","mouseScreenPos","focusedItem","changeFocusedValueIndex","delta","min","max","individualEntries","focusedEntry","scrollIntoView","block","inline","onMouseMovedInKeyboardMode","event","valueIndex","userMovedCursor","screenX","y","screenY","tabIndex","maxHeight","scrollBehavior","onMouseMove","onMouseEnter","Timepicker","timeInterval","setTime","safeTimeInterval","allowedIntervals","timeInputRef","dropdownIsOpen","setDropdownIsOpen","useDropdown","rawValue","setRawValue","intervalAdjustedTime","propagateRawToMinute","newRawValue","localRawValue","correctedMinutes","timeOptions","minutesInDay","intervalCount","intervalIndex","cacheTime","flooredCacheTime","onDropdownValueSelected","ClockIcon","Datetime","dateLabel","timeLabel","dateTimeGroupRef","dateTime","setDateTime","dateTimeUpdateRequest","setDateTimeUpdateRequest","useDatePicker","useTimePicker","getMinutes","computeAndSetState","newDateTimeValue","refreshOnly","newDateTime","allErrors","isOnlyOneFieldSet","prev","datePickerProps","timePickerProps","set","Group","showOutline","className","role","pathed","DEFAULT_HEIGHT","IFrame","url","evaluatedUrl","safeUrl","iframeRefresh","setIframeRefresh","count","IFramePlaceholder","text","title","allowScripts","iconsByType","button","ButtonIcon","checkbox","CheckboxIcon","checklist","ChecklistIcon","ColumnsIcon","datetime","DatetimeIcon","GroupIcon","iframe","IFrameIcon","image","ImageIcon","number","NumberIcon","ExpressionFieldIcon","radio","RadioIcon","select","SelectIcon","separator","SeparatorIcon","spacer","SpacerIcon","dynamiclist","DynamicListIcon","taglist","TaglistIcon","TextIcon","HTMLIcon","textfield","TextfieldIcon","textarea","TextareaIcon","table","TableIcon","default","FormIcon","Image","alt","Icon","evaluatedImageSource","safeSource","altText","viewBox","TemplatedInputAdorner","evaluatedPre","evaluatedPost","countDecimals","num","Big","toFixed","isValidNumber","Number","willKeyProduceValidNumber","previousValue","caretIndex","selectionWidth","decimalDigits","isFirstDot","isFirstMinus","keypressIsNumeric","dotIndex","overflowsDecimalSpace","keypressIsAllowedChar","isNullEquivalentValue","Numberfield","appearance","increment","incrementValue","prefixAdorner","suffixAdorner","cachedValue","setCachedValue","displayValue","setDisplayValue","debouncedOnChange","flushOnChange","previousCachedValue","setValue","stringValue","replaceAll","outerValueChanged","outerValueEqualsCache","incrementAmount","base","stepFlooredValue","minus","mod","plus","decrement","cmp","onKeyPress","selectionStart","selectionEnd","onPaste","step","AngelUpIcon","AngelDownIcon","serializeToString","Radio","onRadioBlur","onRadioFocus","SearchableSelect","setFilter","isDropdownExpanded","setIsDropdownExpanded","isFilterActive","setIsFilterActive","isEscapeClosed","setIsEscapeClose","searchbarRef","getLabelCorrelation","filteredOptions","displayState","ds","componentReady","displayCross","displayDropdown","onAngelMouseDown","searchbar","blur","onInputChange","keyDownEvent","onInputMouseDown","XMarkIcon","SimpleSelect","selectRef","valueLabel","input","findIndex","stopPropagation","Select","searchable","selectProps","Separator","Spacer","DynamicList","repeatable","allowAddRemove","defaultRepetitions","SkipLink","onSkip","href","Taglist","hasOptionsLeft","isValidFilteredOption","filterMatches","selectValue","at","deselectValue","onElementBlur","onElementFocus","onTagRemoveClick","nextTag","closest","nextSibling","onSkipToSearch","shouldDisplayDropdown","NODE_TYPE_TEXT","NODE_TYPE_ELEMENT","ALLOWED_NODES","ALLOWED_ATTRIBUTES","ALLOWED_URI_PATTERN","ATTR_WHITESPACE_PATTERN","FORM_ELEMENT","sanitizeHTML","doc","DOMParser","parseFromString","normalize","firstChild","sanitizeNode","innerHTML","nodeType","remove","lcTag","tagName","attributes","lcName","removeAttribute","isValidAttribute","setAttribute","getAttribute","childNodes","Text","textLinkTarget","disableLinks","markdownRenderer","markdown","render","sanitizeAndTransformLinks","unsafeHtml","tempDiv","links","link","dangerouslySetInnerHTML","Html","styleScope","ExpressionField","computeOn","evaluation","evaluationMemo","sendValue","Textfield","String","Textarea","textareaRef","autoSizeTextarea","useLayoutEffect","computed","heightFromLines","lineHeight","getPropertyValue","lines","calculatedHeight","minHeight","displayHeight","Table","columnsExpression","dataSource","rowCount","sortBy","setSortBy","evaluatedColumns","useEvaluatedColumns","columnKeys","evaluatedDataSource","sortedData","sortByColumn","direction","chunkedData","chunk","currentPage","setCurrentPage","currentChunk","toggleSortBy","displayLabel","getHeaderAriaLabel","ArrowUpIcon","ArrowDownIcon","colSpan","page","CaretLeftIcon","CaretRightIcon","remainingOptions","isDefined","isColumn","generateInitialDemoData","demoData","demoDataKeys","fallbackColumns","column","size","chunks","sort","Logo","xmlns","fill","Lightbox","onBackdropClick","rel","Link","PoweredBy","setOpen","toggleOpen","Fragment","createPortal","FormComponent","schema","ariaLabel","onSubmit","onReset","handleSubmit","handleReset","filteredFormData","localExpressionContext","noValidate","Provider","FormFields","_formFields","register","EXPRESSION_PROPERTIES","TEMPLATE_PROPERTIES","getSchemaVariables","inputs","outputs","getAllComponents","prop","expressionVariables","templateVariables","variable","getBindingVariables","bindingVariable","getAncestryList","formFieldId","ids","currentFormField","_parent","ConditionChecker","_formFieldRegistry","_pathRegistry","contextData","workingData","getFilterPath","leafNodeDeletionOnly","_applyConditionsWithinScope","rootField","scopeContext","startHidden","expressionIndexes","scopeData","parentScopeData","executeRecursivelyOnFields","isClosed","isRepeatable","isHidden","_checkHideCondition","preventRecursion","repeaterValuePath","repeaterValue","newScopeContext","_cleanlyClearDataAtPath","getForm","unaryTest","workingValuePath","recurse","parentObject","_isEmptyObject","_isEmptyArray","ExpressionLanguageModule","__init__","MarkdownRenderer","marked","gfm","breaks","MarkdownRendererModule","CommandStack","_handlerMap","_stack","_stackIdx","_currentExecution","actions","dirty","trigger","_injector","_uid","clear","prototype","execute","command","_pushAction","_internalExecute","_popAction","canExecute","handler","_getHandler","_fire","emit","undo","_getUndoAction","next","_internalUndo","redo","_getRedoAction","_setHandler","registerHandler","handlerCls","instantiate","canUndo","canRedo","_atomicDo","revert","_markDirty","_revertedAction","qualifier","arguments","names","createEvent","cancelBubble","_createId","execution","atomic","preExecute","_executedAction","postExecute","baseAction","elements","uniqueBy","stackIdx","splice","commandStack","UpdateFieldValidationHandler","validator","_form","_validator","oldErrors","validateField","updatedErrors","_setState","ViewerCommands","_commandStack","registerHandlers","getHandlers","ViewerCommandsModule","__depends__","commandModule","RepeatRenderManager","bind","formFieldDefinition","sharedRepeatState","repeaterField","dataPath","nonCollapsedItems","_getNonCollapsedItems","collapseEnabled","disableCollapse","hasChildren","showRemove","displayValues","onDeleteItem","updatedValues","parentExpressionContextInfo","itemValue","itemIndex","RepetitionScaffold","addButtonRef","setSharedRepeatState","showAdd","toggle","state","onAddItem","newItem","_getInitializedFieldData","AddSvg","ExpandSvg","CollapseSvg","DEFAULT_NON_COLLAPSED_ITEMS","elementProps","localExpressionContextInfo","DeleteSvg","RepeatRenderModule","FN_REF","DEFAULT_PRIORITY","EventBus","_listeners","_destroy","events","priority","callback","that","isFunction","actualCallback","self","_addListener","once","wrappedCallback","__isTomb","apply","_removeListener","InternalEvent","firstListener","returnValue","call","originalType","_invokeListeners","defaultPrevented","handleError","listener","_invokeListener","invokeFunction","console","newListener","_getListeners","previousListener","_setListeners","nextListener","listenerCallback","EMAIL_PATTERN","PHONE_PATTERN","VALIDATE_FEEL_PROPERTIES","Validator","_expressionLanguage","_conditionChecker","bigValue","bigIncrement","nextValue","evaluatedValidation","evaluateFEELValues","pattern","RegExp","isUncheckedCheckbox","isUnsetValue","isEmptyMultiselect","minLength","maxLength","validationType","evaluatedValidate","filteredData","evaluatedValue","Importer","fieldFactory","_fieldFactory","_formLayouter","importSchema","warnings","_cleanup","importedSchema","importFormField","calculateLayout","fieldAttrs","importFormFields","FieldFactory","attrs","applyDefaults","fieldDefinition","_ids","assigned","parentPath","knownAncestorIds","canClaimPath","labelAttrs","_ensureId","_ensureKey","claimPath","claimerId","_enforceDefaultPath","claim","nextPrefixed","_getUniqueKeyPath","random","PathRegistry","_dataPaths","skipAncestryCheck","segment","_getNextSegment","isValidRepeatClaim","repeaterId","claimCount","unclaimPath","formFieldConfig","callResult","replacements","cutoffNode","localValuePath","hasReplacement","hasOwnProperty","replacement","_addIndexes","find","FormLayouter","_rows","Ids","addRow","rowsPerComponent","r","getRow","allRows","getRowForField","rowsForField","nextRowId","rowsInOrder","groupByRow","c","groupBy","formRows","flat","FormFieldRegistry","getAll","Renderer","App","setState","formContext","_id","newState","_update","submit","reset","RenderModule","renderer","CoreModule","importer","Form","_onEvent","_container","_createInjector","_state","invoke","attachTo","_emit","destroy","_detach","Promise","resolve","reject","initializedData","_getSubmitData","getErrorPath","validateFieldRecursively","valueData","_","workingErrors","filteredErrors","_applyConditions","parentNode","detach","appendChild","removeChild","setProperty","modules","_getModules","additionalModules","enrichedConfig","collectSubmitDataRecursively","submitData","workingSubmitData","toFilter","initializeFieldDataRecursively","isUndefined","initializedFieldValue","val","basePath","schemaVersion","createForm","formOptions","then"],"mappings":";;;;;;;;;;;;;;;;;AAEO,MAAMA,6BAA6B,GAAGA,CAACC,UAAU,EAAEC,WAAW,GAAG,YAAY,EAAEC,OAAO,GAAG,EAAE,KAAK;EAErG,MAAM;AACJC,IAAAA,KAAK,GAAG,CAAC;AACTC,IAAAA,qBAAqB,GAAG,EAAC;AAC3B,GAAC,GAAGF,OAAO,CAAA;AAEX,EAAA,IAAI,CAAC,CAAE,YAAY,EAAE,WAAW,CAAE,CAACG,QAAQ,CAACJ,WAAW,CAAC,EAAE,OAAO,EAAE,CAAA;AAEnE,EAAA,MAAMK,IAAI,GAAGL,WAAW,KAAK,YAAY,GAAGM,eAAe,CAACP,UAAU,CAAC,GAAGQ,eAAe,CAACR,UAAU,CAAC,CAAA;AAErG,EAAA,MAAMS,oBAAoB,GAAGC,6BAA6B,CAACJ,IAAI,EAAEN,UAAU,CAAC,CAAA;AAE5E,EAAA,MAAMW,SAAS,GAAI,SAASC,gBAAgBA,CAACC,IAAI,EAAE;AAEjD,IAAA,IAAIA,IAAI,CAACC,IAAI,KAAK,gBAAgB,EAAE;AAElC;AACA;MACA,MAAMC,QAAQ,GAAGC,wBAAwB,CAACH,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;AAClD,MAAA,IAAIE,QAAQ,CAACD,IAAI,KAAK,SAAS,EAAE;QAC/B,OAAOF,gBAAgB,CAACG,QAAQ,CAAC,CAAA;AACnC,OAAA;MAEA,IAAIE,MAAM,CAACC,IAAI,CAACd,qBAAqB,CAAC,CAACe,MAAM,KAAK,CAAC,EAAE;AACnD,QAAA,OAAOhB,KAAK,KAAK,CAAC,GAAG,CAAEiB,2BAA2B,CAACP,IAAI,EAAE,CAAC,CAAC,CAAE,GAAG,EAAG,CAAA;AACrE,OAAA;;AAEA;AACA,MAAA,OAAOQ,KAAK,CAACC,IAAI,CAACC,0BAA0B,CAACV,IAAI,EAAEV,KAAK,EAAEC,qBAAqB,CAAC,CAAC,CAAA;AACnF,KAAA;AAEA,IAAA,IAAID,KAAK,KAAK,CAAC,IAAIU,IAAI,CAACC,IAAI,KAAK,cAAc,EAAE,OAAO,CAAED,IAAI,CAACW,YAAY,CAAE,CAAA;;AAE7E;IACA,IAAIX,IAAI,CAACY,QAAQ,EAAE;AACjB,MAAA,MAAMd,SAAS,GAAGE,IAAI,CAACY,QAAQ,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAK;QACrD,OAAOD,GAAG,CAACE,MAAM,CAACjB,gBAAgB,CAACgB,KAAK,CAAC,CAAC,CAAA;OAC3C,EAAE,EAAE,CAAC,CAAA;;AAEN;AACA,MAAA,OAAOf,IAAI,CAACC,IAAI,KAAK,eAAe,GAAGH,SAAS,CAACmB,MAAM,CAAEhB,IAAI,IAAKA,IAAI,KAAK,MAAM,CAAC,GAAGH,SAAS,CAAA;AAChG,KAAA;AAEA,IAAA,OAAO,EAAE,CAAA;GACV,CAAEF,oBAAoB,CAAC,CAAA;AAExB,EAAA,OAAO,CAAE,GAAG,IAAIsB,GAAG,CAACpB,SAAS,CAAC,CAAE,CAAA;AAElC,CAAC,CAAA;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMS,2BAA2B,GAAGA,CAACY,IAAI,EAAEC,KAAK,KAAK;AACnD,EAAA,MAAMC,KAAK,GAAGlB,wBAAwB,CAACgB,IAAI,CAAC,CAAA;AAC5C,EAAA,OAAOE,KAAK,CAACD,KAAK,CAAC,CAACT,YAAY,IAAI,IAAI,CAAA;AAC1C,CAAC,CAAA;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMD,0BAA0B,GAAGA,CAACV,IAAI,EAAEsB,YAAY,EAAE/B,qBAAqB,KAAK;AAEhF;AACA;EACA,IAAIgC,kBAAkB,GAAG,CAAE;AAAEC,IAAAA,QAAQ,EAAE,IAAI;IAAEC,OAAO,EAAEH,YAAY,GAAG,CAAA;AAAE,GAAC,CAAE,CAAA;AAC1E,EAAA,MAAMI,kBAAkB,GAAG,IAAIR,GAAG,EAAE,CAAA;AACpC,EAAA,MAAMS,SAAS,GAAGxB,wBAAwB,CAACH,IAAI,CAAC,CAAA;AAEhD,EAAA,KAAK,IAAI4B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,SAAS,CAACrB,MAAM,EAAEsB,CAAC,EAAE,EAAE;AACzC,IAAA,MAAMC,eAAe,GAAGF,SAAS,CAACC,CAAC,CAAC,CAACjB,YAAY,CAAA;IAEjD,IAAIkB,eAAe,IAAItC,qBAAqB,EAAE;AAC5C,MAAA,MAAMuC,YAAY,GAAGvC,qBAAqB,CAACsC,eAAe,CAAC,CAAA;;AAE3D;AACA;AACA;MACAN,kBAAkB,GAAGO,YAAY,CAACjB,MAAM,CAAC,CAACkB,WAAW,EAAEC,MAAM,KAAK;QAChE,OAAO,CACL,GAAGD,WAAW,EACd,GAAGR,kBAAkB,CAACU,GAAG,CAACC,SAAS,KAAK;UAAEV,QAAQ,EAAEU,SAAS,CAACT,OAAO;AAAEA,UAAAA,OAAO,EAAES,SAAS,CAACT,OAAO,GAAGO,MAAAA;SAAQ,CAAC,CAAC,CAC/G,CAAA;AACH,OAAC,EAAE,EAAE,CAAC,CAACf,MAAM,CAACiB,SAAS,IAAIA,SAAS,CAACT,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC;AAEtD,KAAC,MAAM;AAEL;AACA;AACAF,MAAAA,kBAAkB,GAAGA,kBAAkB,CAACU,GAAG,CAACC,SAAS,KAAK;QAAEV,QAAQ,EAAEU,SAAS,CAACT,OAAO;AAAEA,QAAAA,OAAO,EAAES,SAAS,CAACT,OAAO,GAAG,CAAA;AAAE,OAAC,CAAC,CAAC,CAAA;AAC7H,KAAA;;AAEA;AACA;AACA;AACA,IAAA,IAAIF,kBAAkB,CAACY,IAAI,CAACD,SAAS,IAAIA,SAAS,CAACV,QAAQ,KAAK,CAAC,CAAC,IAAIU,SAAS,CAACT,OAAO,KAAK,CAAC,CAAC,EAAE;AAC9FC,MAAAA,kBAAkB,CAACU,GAAG,CAACP,eAAe,CAAC,CAAA;AACzC,KAAA;AACF,GAAA;;AAEA;AACA,EAAA,OAAO,IAAIX,GAAG,CAACQ,kBAAkB,CAAC,CAAA;AACpC,CAAC,CAAA;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA,MAAMvB,wBAAwB,GAAIgB,IAAI,IAAK;EAEzC,IAAInB,IAAI,GAAGmB,IAAI,CAAA;EACf,IAAIkB,KAAK,GAAG,EAAE,CAAA;;AAEd;AACA,EAAA,OAAOrC,IAAI,CAACC,IAAI,KAAK,gBAAgB,EAAE;IACrCoC,KAAK,CAACC,IAAI,CAACtC,IAAI,CAACY,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA;AAC5BZ,IAAAA,IAAI,GAAGA,IAAI,CAACY,QAAQ,CAAC,CAAC,CAAC,CAAA;AACzB,GAAA;;AAEA;AACAyB,EAAAA,KAAK,CAACC,IAAI,CAACtC,IAAI,CAAC,CAAA;;AAEhB;AACA,EAAA,OAAOqC,KAAK,CAACE,OAAO,EAAE,CAAA;AACxB,CAAC,CAAA;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM1C,6BAA6B,GAAGA,CAAC2C,SAAS,EAAErD,UAAU,KAAK;EAE/D,MAAMsD,KAAK,GAAG,CAAE;AAAE7B,IAAAA,QAAQ,EAAE,EAAA;AAAG,GAAC,CAAE,CAAA;EAClC4B,SAAS,CAACE,OAAO,CAAC;IAChBC,KAAK,EAAG3C,IAAI,IAAK;AAEf,MAAA,MAAM4C,kBAAkB,GAAG;AACzB3C,QAAAA,IAAI,EAAED,IAAI,CAAC6C,IAAI,CAAC5C,IAAI;AACpBW,QAAAA,QAAQ,EAAE,EAAA;OACX,CAAA;AAED,MAAA,IAAIZ,IAAI,CAAC6C,IAAI,CAAC5C,IAAI,KAAK,cAAc,EAAE;AACrC2C,QAAAA,kBAAkB,CAACjC,YAAY,GAAGxB,UAAU,CAAC2D,KAAK,CAAC9C,IAAI,CAACS,IAAI,EAAET,IAAI,CAAC+C,EAAE,CAAC,CAAA;AACxE,OAAA;AAEAN,MAAAA,KAAK,CAACH,IAAI,CAACM,kBAAkB,CAAC,CAAA;KAC/B;IACDI,KAAK,EAAEA,MAAM;AACX,MAAA,MAAMC,MAAM,GAAGR,KAAK,CAACS,GAAG,EAAE,CAAA;MAC1B,MAAMC,MAAM,GAAGV,KAAK,CAACA,KAAK,CAACnC,MAAM,GAAG,CAAC,CAAC,CAAA;AACtC6C,MAAAA,MAAM,CAACvC,QAAQ,CAAC0B,IAAI,CAACW,MAAM,CAAC,CAAA;AAC9B,KAAA;AACF,GAAC,CAAC,CAAA;EAEF,OAAOG,yBAAyB,CAACX,KAAK,CAAC,CAAC,CAAC,CAAC7B,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA;AACxD,CAAC,CAAA;;AAED;AACA;AACA;AACA;AACA,MAAMwC,yBAAyB,GAAI3D,IAAI,IAAK;AAE1C,EAAA,MAAM4D,uBAAuB,GAAG;AAC9BpD,IAAAA,IAAI,EAAE,MAAM;IACZW,QAAQ,EAAE,CAAEnB,IAAI,CAAA;GACjB,CAAA;EAED,MAAMiD,OAAO,GAAI1C,IAAI,IAAK;IAExB,IAAIA,IAAI,CAACY,QAAQ,EAAE;AACjB,MAAA,KAAK,IAAI0C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtD,IAAI,CAACY,QAAQ,CAACN,MAAM,EAAEgD,CAAC,EAAE,EAAE;QAE7C,IAAItD,IAAI,CAACY,QAAQ,CAAC0C,CAAC,CAAC,CAACrD,IAAI,KAAK,kBAAkB,EAAE;AAEhD,UAAA,MAAMsD,YAAY,GAAGvD,IAAI,CAACY,QAAQ,CAAC0C,CAAC,CAAC,CAAC1C,QAAQ,CAAC,CAAC,CAAC,CAAA;AACjD,UAAA,MAAM4C,gBAAgB,GAAGxD,IAAI,CAACY,QAAQ,CAAC0C,CAAC,CAAC,CAAC1C,QAAQ,CAAC,CAAC,CAAC,CAAA;;AAErD;AACAZ,UAAAA,IAAI,CAACY,QAAQ,CAAC0C,CAAC,CAAC,GAAGC,YAAY,CAAA;AAE/B,UAAA,MAAME,sBAAsB,GAAG;AAC7BxD,YAAAA,IAAI,EAAE,eAAe;YACrBW,QAAQ,EAAE,CAAE4C,gBAAgB,CAAA;WAC7B,CAAA;;AAED;AACAH,UAAAA,uBAAuB,CAACzC,QAAQ,CAAC0B,IAAI,CAACmB,sBAAsB,CAAC,CAAA;;AAE7D;UACAf,OAAO,CAACc,gBAAgB,CAAC,CAAA;AAE3B,SAAC,MAAM;AACLd,UAAAA,OAAO,CAAC1C,IAAI,CAACY,QAAQ,CAAC0C,CAAC,CAAC,CAAC,CAAA;AAC3B,SAAA;AACF,OAAA;AAEF,KAAA;GAED,CAAA;EAEDZ,OAAO,CAACjD,IAAI,CAAC,CAAA;AAEb,EAAA,OAAO4D,uBAAuB,CAAA;AAChC,CAAC;;AC/NM,MAAMK,sBAAsB,CAAC;EAClCC,WAAWA,CAACC,QAAQ,EAAE;IACpB,IAAI,CAACC,SAAS,GAAGD,QAAQ,CAAA;AAC3B,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;EACEE,YAAYA,CAACC,KAAK,EAAE;IAAE,OAAOC,QAAQ,CAACD,KAAK,CAAC,IAAIA,KAAK,CAACE,UAAU,CAAC,GAAG,CAAC,CAAA;AAAE,GAAA;;AAEvE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,EAAAA,gBAAgBA,CAACC,UAAU,EAAE9E,OAAO,GAAG,EAAE,EAAE;IAEzC,MAAM;AACJwD,MAAAA,IAAI,GAAG,YAAA;AACT,KAAC,GAAGxD,OAAO,CAAA;AAEX,IAAA,IAAI,CAAC,IAAI,CAACyE,YAAY,CAACK,UAAU,CAAC,EAAE;AAClC,MAAA,OAAO,EAAE,CAAA;AACX,KAAA;IAEA,IAAI,CAAC,CAAE,WAAW,EAAE,YAAY,CAAE,CAAC3E,QAAQ,CAACqD,IAAI,CAAC,EAAE;AACjD,MAAA,MAAM,IAAIuB,KAAK,CAAC,2BAA2B,GAAGvB,IAAI,CAAC,CAAA;AACrD,KAAA;AAEA,IAAA,OAAO3D,6BAA6B,CAACiF,UAAU,EAAEtB,IAAI,CAAC,CAAA;AACxD,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACEwB,EAAAA,QAAQA,CAACF,UAAU,EAAEG,IAAI,GAAG,EAAE,EAAE;IAC9B,IAAI,CAACH,UAAU,EAAE;AACf,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AAEA,IAAA,IAAI,CAACH,QAAQ,CAACG,UAAU,CAAC,IAAI,CAACA,UAAU,CAACF,UAAU,CAAC,GAAG,CAAC,EAAE;AACxD,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;IAEA,IAAI;AACF,MAAA,MAAMhB,MAAM,GAAGoB,QAAQ,CAACF,UAAU,CAACrB,KAAK,CAAC,CAAC,CAAC,EAAEwB,IAAI,CAAC,CAAA;AAElD,MAAA,OAAOrB,MAAM,CAAA;KACd,CAAC,OAAOsB,KAAK,EAAE;AACd,MAAA,IAAI,CAACV,SAAS,CAACW,IAAI,CAAC,OAAO,EAAE;AAAED,QAAAA,KAAAA;AAAM,OAAC,CAAC,CAAA;AACvC,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AACF,GAAA;AACF,CAAA;AAEAb,sBAAsB,CAACe,OAAO,GAAG,CAC/B,UAAU,CACX;;ACtEM,MAAMC,iBAAiB,CAAC;EAE7Bf,WAAWA,GAAG,EAAE;;AAEhB;AACF;AACA;AACA;AACA;AACA;AACA;EACEgB,UAAUA,CAACZ,KAAK,EAAE;AAAE,IAAA,OAAOC,QAAQ,CAACD,KAAK,CAAC,KAAKA,KAAK,CAACE,UAAU,CAAC,GAAG,CAAC,IAAI,SAAS,CAACW,IAAI,CAACb,KAAK,CAAC,CAAC,CAAA;AAAE,GAAA;;AAGhG;AACF;AACA;AACA;AACA;AACA;AACA;EACEG,gBAAgBA,CAACW,QAAQ,EAAE;AAEzB,IAAA,IAAI,CAAC,IAAI,CAACF,UAAU,CAACE,QAAQ,CAAC,EAAE;AAC9B,MAAA,OAAO,EAAE,CAAA;AACX,KAAA;AAEA,IAAA,MAAMC,WAAW,GAAG,IAAI,CAACC,4BAA4B,CAACF,QAAQ,CAAC,CAAA;;AAE/D;AACA,IAAA,MAAMtF,qBAAqB,GAAG;AAC5B4D,MAAAA,MAAM,EAAE,CAAE,CAAC,CAAC,EAAE,CAAC,CAAE;AACjB6B,MAAAA,QAAQ,EAAE,CAAE,CAAC,CAAC,CAAE;AAChBC,MAAAA,IAAI,EAAE,CAAE,CAAC,EAAE,CAAC,CAAE;MACdC,MAAM,EAAE,CAAE,CAAC,CAAA;KACZ,CAAA;AAED,IAAA,OAAOJ,WAAW,CAACjE,MAAM,CAAC,CAACf,SAAS,EAAE;MAAEqE,UAAU;AAAE7E,MAAAA,KAAAA;AAAM,KAAC,KAAK;MAC9D,OAAOQ,SAAS,CAACkB,MAAM,CAAC9B,6BAA6B,CAACiF,UAAU,EAAE,YAAY,EAAE;QAAE7E,KAAK;AAAEC,QAAAA,qBAAAA;AAAsB,OAAC,CAAC,CAAC,CAAA;KACnH,EAAE,EAAE,CAAC,CAAA;AACR,GAAA;;AAGA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE8E,EAAAA,QAAQA,CAACQ,QAAQ,EAAEM,OAAO,GAAG,EAAE,EAAE9F,OAAO,GAAG,EAAE,EAAE;IAE7C,MAAM;AACJ+F,MAAAA,KAAK,GAAG,KAAK;AACbC,MAAAA,MAAM,GAAG,KAAK;MACdC,gBAAgB,GAAIC,GAAG,IAAK,SAAS;MACrCC,SAAS,GAAIzB,KAAK,IAAKA,KAAAA;AACzB,KAAC,GAAG1E,OAAO,CAAA;AAEX,IAAA,OAAOoG,UAAe,CAACZ,QAAQ,EAAEM,OAAO,EAAE;MAAEC,KAAK;MAAEC,MAAM;MAAEC,gBAAgB;AAAEE,MAAAA,SAAAA;AAAU,KAAC,CAAC,CAAA;AAC3F,GAAA;;AAGA;AACF;AACA;AACA;AACA;;AAEE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAEET,4BAA4BA,CAACF,QAAQ,EAAE;AAErC;AACA,IAAA,MAAMrC,SAAS,GAAGkD,MAAa,CAACC,KAAK,CAACd,QAAQ,CAAC,CAAA;AAC/C,IAAA,MAAMpF,IAAI,GAAGmG,eAAe,CAACpD,SAAS,EAAEqC,QAAQ,CAAC,CAAA;IAEjD,OAAQ,SAASgB,SAASA,CAACC,CAAC,EAAExG,KAAK,GAAG,CAAC,EAAE;AAEvC,MAAA,IAAI,CAAE,MAAM,EAAE,WAAW,CAAE,CAACE,QAAQ,CAACsG,CAAC,CAAC7F,IAAI,CAAC,EAAE;AAC5C,QAAA,OAAO,CAAE;UAAEX,KAAK;UAAE6E,UAAU,EAAE2B,CAAC,CAACC,OAAAA;AAAQ,SAAC,CAAE,CAAA;AAC7C,OAAA;AAEA,MAAA,IAAID,CAAC,CAAC7F,IAAI,KAAK,aAAa,EAAE;QAC5B,MAAM+F,cAAc,GAAGF,CAAC,CAAClF,QAAQ,CAAC,CAAC,CAAC,CAACmF,OAAO,CAAA;AAC5C,QAAA,MAAME,YAAY,GAAGH,CAAC,CAAClF,QAAQ,CAACkC,KAAK,CAAC,CAAC,CAAC,CAACjC,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAK;AAC9D,UAAA,OAAOD,GAAG,CAACE,MAAM,CAAC6E,SAAS,CAAC9E,KAAK,EAAEzB,KAAK,GAAG,CAAC,CAAC,CAAC,CAAA;SAC/C,EAAE,EAAE,CAAC,CAAA;AACN,QAAA,OAAO,CAAE;UAAEA,KAAK;AAAE6E,UAAAA,UAAU,EAAE6B,cAAAA;SAAgB,EAAE,GAAGC,YAAY,CAAE,CAAA;AACnE,OAAA;MAEA,OAAOH,CAAC,CAAClF,QAAQ,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAK;QACvC,OAAOD,GAAG,CAACE,MAAM,CAAC6E,SAAS,CAAC9E,KAAK,EAAEzB,KAAK,CAAC,CAAC,CAAA;OAC3C,EAAE,EAAE,CAAC,CAAA;KAEP,CAAEG,IAAI,CAAC,CAAA;AAEV,GAAA;AACF,CAAA;AAEAiF,iBAAiB,CAACD,OAAO,GAAG,EAAE;;ACxH9B;;AAEayB,MAAAA,cAAc,GAAG,EAAE,GAAG,GAAE;AAE9B,MAAMC,iBAAiB,GAAG;AAC/BC,EAAAA,IAAI,EAAE,MAAM;AACZC,EAAAA,IAAI,EAAE,MAAM;AACZC,EAAAA,QAAQ,EAAE,UAAA;AACZ,EAAC;AAEM,MAAMC,wBAAwB,GAAG;AACtCC,EAAAA,UAAU,EAAE,YAAY;AACxBC,EAAAA,cAAc,EAAE,gBAAgB;AAChCC,EAAAA,WAAW,EAAE,aAAA;AACf,EAAC;AAEM,MAAMC,wBAAwB,GAAG;AACtC,EAAA,CAACR,iBAAiB,CAACC,IAAI,GAAG,OAAO;AACjC,EAAA,CAACD,iBAAiB,CAACE,IAAI,GAAG,KAAK;EAC/B,CAACF,iBAAiB,CAACG,QAAQ,GAAG,aAAA;AAChC,EAAC;AAEM,MAAMM,6BAA6B,GAAG;AAC3C,EAAA,CAACL,wBAAwB,CAACC,UAAU,GAAG,WAAW;AAClD,EAAA,CAACD,wBAAwB,CAACE,cAAc,GAAG,mBAAmB;EAC9D,CAACF,wBAAwB,CAACG,WAAW,GAAG,iBAAA;AAC1C,EAAC;AAEYG,MAAAA,qBAAqB,GAAG,CAAE,SAAS,EAAE;AACrCC,MAAAA,eAAe,GAAG,CAAE,WAAW,EAAE;AACjCC,MAAAA,uBAAuB,GAAG,CAAE,qBAAqB,EAAE;AACnDC,MAAAA,eAAe,GAAG,CAAE,WAAW,EAAE;AACjCC,MAAAA,gBAAgB,GAAG,CAAE,QAAQ,EAAE;AAC/BC,MAAAA,kBAAkB,GAAG,CAAE,cAAc,EAAE;AACvCC,MAAAA,4BAA4B,GAAG,CAAE,uBAAuB;;AChCrE;;AAEO,MAAMC,eAAe,GAAG;AAC7BC,EAAAA,MAAM,EAAE,QAAQ;AAChBC,EAAAA,KAAK,EAAE,OAAO;AACdC,EAAAA,UAAU,EAAE,YAAA;AACd,EAAC;AAEYC,MAAAA,sBAAsB,GAAGJ,eAAe,CAACC,OAAM;AAErD,MAAMI,sBAAsB,GAAG;AACpC,EAAA,CAACL,eAAe,CAACC,MAAM,GAAG,UAAU;AACpC,EAAA,CAACD,eAAe,CAACE,KAAK,GAAG,WAAW;EACpC,CAACF,eAAe,CAACG,UAAU,GAAG,OAAA;AAChC,EAAC;AAEM,MAAMG,qBAAqB,GAAG;AACnC,EAAA,CAACN,eAAe,CAACC,MAAM,GAAG,CAAE,QAAQ,CAAE;AACtC,EAAA,CAACD,eAAe,CAACE,KAAK,GAAG,CAAE,WAAW,CAAE;AACxC,EAAA,CAACF,eAAe,CAACG,UAAU,GAAG,CAAE,kBAAkB,CAAA;AACpD,EAAC;AAEM,MAAMI,wBAAwB,GAAG;AACtC,EAAA,CAACP,eAAe,CAACC,MAAM,GAAG,CACxB;AACEO,IAAAA,KAAK,EAAE,SAAS;AAChB7D,IAAAA,KAAK,EAAE,SAAA;AACT,GAAC,CACF;AACD,EAAA,CAACqD,eAAe,CAACE,KAAK,GAAG,EAAE;EAC3B,CAACF,eAAe,CAACG,UAAU,GAAG,GAAA;AAChC,EAAC;;AAED;;AAEO,SAASM,gBAAgBA,CAACC,KAAK,EAAE;EAEtC,KAAK,MAAMC,MAAM,IAAI3H,MAAM,CAAC4H,MAAM,CAACZ,eAAe,CAAC,EAAE;IACnD,IAAIa,GAAG,CAACH,KAAK,EAAEJ,qBAAqB,CAACK,MAAM,CAAC,CAAC,KAAKG,SAAS,EAAE;AAC3D,MAAA,OAAOH,MAAM,CAAA;AACf,KAAA;AACF,GAAA;AAEA,EAAA,OAAOP,sBAAsB,CAAA;AAC/B;;AC9CO,MAAMW,iBAAiB,GAAG,UAAS;AACnC,MAAMC,eAAe,GAAG,QAAO;;AAEtC;AACO,MAAMC,+BAA+B,GAAG,CAC7C;AACEC,EAAAA,SAAS,EAAEH,iBAAiB;AAC5BI,EAAAA,SAAS,EAAE,eAAe;AAC1BC,EAAAA,QAAQ,EAAE,cAAc;AACxBZ,EAAAA,KAAK,EAAE,mBAAA;AACT,CAAC,EACD;AACEU,EAAAA,SAAS,EAAEH,iBAAiB;AAC5BI,EAAAA,SAAS,EAAE,mBAAmB;AAC9BC,EAAAA,QAAQ,EAAE,iBAAiB;AAC3BZ,EAAAA,KAAK,EAAE,sBAAA;AACT,CAAC,EACD;AACEU,EAAAA,SAAS,EAAEF,eAAe;AAC1BG,EAAAA,SAAS,EAAE,YAAY;AACvBC,EAAAA,QAAQ,EAAE,YAAY;AACtBZ,EAAAA,KAAK,EAAE,2BAAA;AACT,CAAC,EACD;AACEU,EAAAA,SAAS,EAAEF,eAAe;AAC1BG,EAAAA,SAAS,EAAE,aAAa;AACxBC,EAAAA,QAAQ,EAAE,aAAa;AACvBZ,EAAAA,KAAK,EAAE,mBAAA;AACT,CAAC,EACD;AACEU,EAAAA,SAAS,EAAEF,eAAe;AAC1BG,EAAAA,SAAS,EAAE,QAAQ;AACnBC,EAAAA,QAAQ,EAAE,QAAQ;AAClBZ,EAAAA,KAAK,EAAE,mBAAA;AACT,CAAC,EACD;AACEU,EAAAA,SAAS,EAAEF,eAAe;AAC1BG,EAAAA,SAAS,EAAE,YAAY;AACvBC,EAAAA,QAAQ,EAAE,YAAY;AACtBZ,EAAAA,KAAK,EAAE,qBAAA;AACT,CAAC,EACD;AACEU,EAAAA,SAAS,EAAEH,iBAAiB;AAC5BI,EAAAA,SAAS,EAAE,aAAa;AACxBC,EAAAA,QAAQ,EAAE,YAAY;AACtBZ,EAAAA,KAAK,EAAE,qBAAA;AACT,CAAC,EACD;AACEU,EAAAA,SAAS,EAAEH,iBAAiB;AAC5BI,EAAAA,SAAS,EAAE,cAAc;AACzBC,EAAAA,QAAQ,EAAE,aAAa;AACvBZ,EAAAA,KAAK,EAAE,uBAAA;AACT,CAAC,EACD;AACEU,EAAAA,SAAS,EAAEH,iBAAiB;AAC5BI,EAAAA,SAAS,EAAE,cAAc;AACzBC,EAAAA,QAAQ,EAAE,aAAa;AACvBZ,EAAAA,KAAK,EAAE,2BAAA;AACT,CAAC,EACD;AACEU,EAAAA,SAAS,EAAEH,iBAAiB;AAC5BI,EAAAA,SAAS,EAAE,sBAAsB;AACjCC,EAAAA,QAAQ,EAAE,oBAAoB;AAC9BZ,EAAAA,KAAK,EAAE,oBAAA;AACT,CAAC,EACD;AACEU,EAAAA,SAAS,EAAEH,iBAAiB;AAC5BI,EAAAA,SAAS,EAAE,yCAAyC;AACpDC,EAAAA,QAAQ,EAAE,oCAAoC;AAC9CZ,EAAAA,KAAK,EAAE,+BAAA;AACT,CAAC;;ACpEI,SAASa,cAAcA,CAACC,gBAAgB,EAAE;AAE/C,EAAA,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAACF,gBAAgB,CAAC,CAAA;EAE/CC,QAAQ,CAACE,IAAI,EAAE,CAAA;AAEf,EAAA,OAAOF,QAAQ,CAAA;AACjB;;ACTA;AACA;AACA;AACA;AACA;AACO,SAASG,mBAAmBA,CAACC,MAAM,GAAG,KAAK,EAAE;AAClD,EAAA,MAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CAAA;EAE/CF,SAAS,CAACG,SAAS,CAAC/G,GAAG,CAAE,CAAG2G,EAAAA,MAAQ,YAAW,CAAC,CAAA;AAEhD,EAAA,OAAOC,SAAS,CAAA;AAClB;;ACTO,SAASI,gBAAgBA,CAACvG,IAAI,EAAE;AAAEwG,EAAAA,MAAM,GAAG,EAAE;AAAEC,EAAAA,QAAQ,GAAG,KAAK;AAAEC,EAAAA,QAAQ,GAAG,KAAA;AAAM,CAAC,GAAG,EAAE,EAAE;EAC/F,IAAI,CAAC1G,IAAI,EAAE;AACT,IAAA,MAAM,IAAIuB,KAAK,CAAC,eAAe,CAAC,CAAA;AAClC,GAAA;AAEA,EAAA,OAAOoF,UAAU,CAAC,gBAAgB,EAAG,CAAiB3G,eAAAA,EAAAA,IAAK,EAAC,EAAE;AAC5D,IAAA,gBAAgB,EAAEwG,MAAM,CAAC/I,MAAM,GAAG,CAAC;AACnC,IAAA,cAAc,EAAEgJ,QAAQ;AACxB,IAAA,cAAc,EAAEC,QAAAA;AAClB,GAAC,CAAC,CAAA;AACJ,CAAA;AAEO,SAASE,iBAAiBA,CAACC,SAAS,EAAE;EAC3C,MAAM;AACJC,IAAAA,MAAM,GAAG,EAAC;AACZ,GAAC,GAAGD,SAAS,CAAA;EAEb,MAAM;AACJE,IAAAA,OAAAA;AACF,GAAC,GAAGD,MAAM,CAAA;AAEV,EAAA,OAAOH,UAAU,CACf,mBAAmB,EAClB,CAAUI,QAAAA,EAAAA,OAAO,GAAG,MAAM,GAAGA,OAAO,GAAG,EAAG,CAAC,CAAA;AAE5C;EACA,gBAAgB,EAChB,gBACF,CAAC,CAAA;AACH,CAAA;AAEO,SAASC,QAAQA,CAACC,EAAE,EAAEC,MAAM,EAAEC,OAAO,EAAE;EAC5C,IAAI/G,MAAM,GAAG,UAAU,CAAA;AAEvB,EAAA,IAAI8G,MAAM,EAAE;IACV9G,MAAM,IAAK,CAAG8G,CAAAA,EAAAA,MAAO,CAAC,CAAA,CAAA;AACxB,GAAA;EAEA9G,MAAM,IAAK,CAAG6G,CAAAA,EAAAA,EAAG,CAAC,CAAA,CAAA;AAElB1J,EAAAA,MAAM,CAAC4H,MAAM,CAACgC,OAAO,IAAI,EAAE,CAAC,CAACC,OAAO,CAAE7I,KAAK,IAAK;IAC9C6B,MAAM,IAAK,CAAG7B,CAAAA,EAAAA,KAAM,CAAC,CAAA,CAAA;AACvB,GAAC,CAAC,CAAA;AAEF,EAAA,OAAO6B,MAAM,CAAA;AACf;;AC7CA,MAAMJ,MAAI,GAAG,QAAQ,CAAA;AAEd,SAASqH,MAAMA,CAACC,KAAK,EAAE;EAC5B,MAAM;IACJb,QAAQ;IACRc,OAAO;IACPC,MAAM;AACNvC,IAAAA,KAAAA;AACF,GAAC,GAAGqC,KAAK,CAAA;EAET,MAAM;AAAEG,IAAAA,MAAM,GAAG,QAAA;AAAS,GAAC,GAAGxC,KAAK,CAAA;AAEnC,EAAA,OAAOyC,GAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAGpB,gBAAgB,CAACvG,MAAI,CAAG;AAAAjC,IAAAA,QAAA,EAC1C2J,GAAA,CAAA,QAAA,EAAA;AACEC,MAAAA,KAAK,EAAC,YAAY;AAClB3H,MAAAA,IAAI,EAAGyH,MAAQ;AACfhB,MAAAA,QAAQ,EAAGA,QAAU;AACrBc,MAAAA,OAAO,EAAGA,MAAMA,OAAO,IAAIA,OAAO,EAAI;AACtCC,MAAAA,MAAM,EAAGA,MAAMA,MAAM,IAAIA,MAAM,EAAI;MAAAzJ,QAAA,EACjCkH,KAAK,CAACF,KAAAA;KACF,CAAA;AAAC,GACN,CAAC,CAAA;AACR,CAAA;AAEAsC,MAAM,CAACO,MAAM,GAAG;QACd5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,KAAK;AACZ9C,EAAAA,KAAK,EAAE,UAAU;AACjB+C,EAAAA,KAAK,EAAE,QAAQ;AACfC,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,MAAM;AACzBiL,IAAAA,MAAM,EAAE,QAAQ;IAChB,GAAGjL,OAAAA;GACJ,CAAA;AACH,CAAC;;ACjCYwL,MAAAA,iBAAiB,GAAGC,aAAa,CAAC;EAC7CC,KAAK,EAAGZ,KAAK,IAAK;AAChB,IAAA,OAAO,IAAI,CAAA;GACZ;EACDa,MAAM,EAAGb,KAAK,IAAK;AACjB,IAAA,OAAO,IAAI,CAAA;GACZ;EACDc,QAAQ,EAAGd,KAAK,IAAK;AACnB,IAAA,OAAOI,GAAA,CAAA,KAAA,EAAA;MAAKC,KAAK,EAAGL,KAAK,CAACK,KAAO;MAACU,KAAK,EAAGf,KAAK,CAACe,KAAO;MAAAtK,QAAA,EAAGuJ,KAAK,CAACvJ,QAAAA;AAAQ,KAAO,CAAC,CAAA;GACjF;EACDuK,OAAO,EAAGhB,KAAK,IAAK;AAClB,IAAA,OAAOI,GAAA,CAAA,KAAA,EAAA;MAAKC,KAAK,EAAGL,KAAK,CAACK,KAAO;MAACU,KAAK,EAAGf,KAAK,CAACe,KAAO;MAAAtK,QAAA,EAAGuJ,KAAK,CAACvJ,QAAAA;AAAQ,KAAO,CAAC,CAAA;GACjF;EACDwK,GAAG,EAAGjB,KAAK,IAAK;AACd,IAAA,OAAOI,GAAA,CAAA,KAAA,EAAA;MAAKC,KAAK,EAAGL,KAAK,CAACK,KAAO;MAACU,KAAK,EAAGf,KAAK,CAACe,KAAO;MAAAtK,QAAA,EAAGuJ,KAAK,CAACvJ,QAAAA;AAAQ,KAAO,CAAC,CAAA;GACjF;EACDyK,MAAM,EAAGlB,KAAK,IAAK;AACjB,IAAA,IAAIA,KAAK,CAACrC,KAAK,CAACjF,IAAI,KAAK,SAAS,EAAE;MAClC,OAAOsH,KAAK,CAACvJ,QAAQ,CAAA;AACvB,KAAA;AAEA,IAAA,OAAO2J,GAAA,CAAA,KAAA,EAAA;MAAKC,KAAK,EAAGL,KAAK,CAACK,KAAO;MAACU,KAAK,EAAGf,KAAK,CAACe,KAAO;MAAAtK,QAAA,EAAGuJ,KAAK,CAACvJ,QAAAA;AAAQ,KAAO,CAAC,CAAA;GACjF;AACD0K,EAAAA,SAAS,EAAE;IACTC,OAAO,EAAEA,MAAM,EAAC;AAClB,GAAA;AACF,CAAC;;AC1BYC,MAAAA,sBAAsB,GAAGV,aAAa,CAAC;AAClDxG,EAAAA,IAAI,EAAE,IAAI;AACVW,EAAAA,IAAI,EAAE,IAAI;AACV9B,EAAAA,MAAM,EAAE,IAAI;AACZvB,EAAAA,CAAC,EAAE,IAAA;AACL,CAAC;;ACLD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS6J,UAAUA,CAAC5I,IAAI,EAAEwC,MAAM,EAAE,EAAC;AAEtBqG,MAAAA,WAAW,GAAGZ,aAAa,CAAC;EACvCW,UAAU;AACV1B,EAAAA,MAAM,EAAE,IAAA;AACV,CAAC;;ACPM,SAAS4B,UAAUA,CAAC9I,IAAI,EAAEwC,MAAM,EAAE;EACvC,MAAM;AACJoG,IAAAA,UAAAA;AACF,GAAC,GAAGG,UAAU,CAACF,WAAW,CAAC,CAAA;AAE3B,EAAA,OAAOD,UAAU,CAAC5I,IAAI,EAAEwC,MAAM,CAAC,CAAA;AACjC;;ACZO,SAASwG,UAAUA,CAAC/D,KAAK,EAAE;EAChC,OAAOA,KAAK,CAACgE,QAAQ,CAAA;AACvB,CAAA;AAEO,SAASC,SAASA,CAACC,IAAI,EAAE;EAC9B,IAAI,CAACA,IAAI,EAAE;AACT,IAAA,OAAO,EAAE,CAAA;AACX,GAAA;EAEA,OAAOA,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAChK,GAAG,CAACiK,GAAG,IAAI;AAChC,IAAA,OAAOC,KAAK,CAACC,QAAQ,CAACF,GAAG,CAAC,CAAC,GAAGA,GAAG,GAAGE,QAAQ,CAACF,GAAG,CAAC,CAAA;AACnD,GAAC,CAAC,CAAA;AACJ,CAAA;AAEO,SAASG,UAAUA,CAACC,CAAC,EAAEC,CAAC,EAAE;EAC/B,OACED,CAAC,IACDC,CAAC,IACDD,CAAC,CAAChM,MAAM,KAAKiM,CAAC,CAACjM,MAAM,IACrBgM,CAAC,CAACE,KAAK,CAAC,CAACzI,KAAK,EAAE3C,KAAK,KAAK2C,KAAK,KAAKwI,CAAC,CAAEnL,KAAK,CAAE,CAAC,CAAA;AAEnD,CAAA;AAEA,MAAMqL,OAAO,GAAG,EAAE,CAAA;AAEX,SAASC,oBAAoBA,CAAC7J,IAAI,EAAE;EACzC,IAAIA,IAAI,IAAI4J,OAAO,EAAE;IACnBA,OAAO,CAAE5J,IAAI,CAAE,EAAE,CAAA;AACnB,GAAC,MAAM;AACL4J,IAAAA,OAAO,CAAE5J,IAAI,CAAE,GAAG,CAAC,CAAA;AACrB,GAAA;EAEA,OAAO4J,OAAO,CAAE5J,IAAI,CAAE,CAAA;AACxB,CAAA;AAEO,SAAS8J,iBAAiBA,CAAC9J,IAAI,EAAE;AACtC,EAAA,OAAQ,GAAGA,IAAM,CAAA,EAAG6J,oBAAoB,CAAC7J,IAAI,CAAG,CAAC,CAAA,CAAA;AACnD,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS+J,KAAKA,CAACtI,IAAI,EAAEuI,QAAQ,EAAE;AACpC,EAAA,OAAOC,IAAI,CAACnH,KAAK,CAACmH,IAAI,CAACC,SAAS,CAACzI,IAAI,EAAEuI,QAAQ,CAAC,CAAC,CAAA;AACnD,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEO,SAASG,sBAAsBA,CAAC7H,OAAO,EAAE;EAC9C,MAAM;IACJb,IAAI;IACJ,GAAG2I,kBAAAA;AACL,GAAC,GAAG9H,OAAO,CAAA;EAEX,OAAO;AACL,IAAA,GAAG8H,kBAAkB;AACrB,IAAA,GAAG3I,IAAI;IACP,GAAG4I,8BAA8B,CAACD,kBAAkB,CAAA;GACrD,CAAA;AACH,CAAA;AAEO,SAASE,cAAcA,CAACzD,SAAS,EAAE0D,EAAE,EAAE;AAC5C,EAAA,MAAMC,UAAU,GAAG3D,SAAS,CAAC2D,UAAU,IAAI,EAAE,CAAA;AAE7CA,EAAAA,UAAU,CAACpD,OAAO,CAAC,CAACqD,SAAS,EAAElM,KAAK,KAAK;AACvC+L,IAAAA,cAAc,CAACG,SAAS,EAAEF,EAAE,CAAC,CAAA;AAC/B,GAAC,CAAC,CAAA;EAEFA,EAAE,CAAC1D,SAAS,CAAC,CAAA;AACf,CAAA;;AAEA;;AAEA,SAASwD,8BAA8BA,CAACK,GAAG,EAAE;EAC3C,MAAMC,MAAM,GAAG,EAAE,CAAA;AACjB,EAAA,KAAK,MAAM,CAAEtB,GAAG,EAAEnI,KAAK,CAAE,IAAI3D,MAAM,CAACqN,OAAO,CAACF,GAAG,CAAC,EAAE;AAChDC,IAAAA,MAAM,CAAE,CAAGtB,CAAAA,EAAAA,GAAI,CAAE,CAAA,CAAA,CAAC,GAAGnI,KAAK,CAAA;AAC5B,GAAA;AACA,EAAA,OAAOyJ,MAAM,CAAA;AACf;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASE,YAAYA,CAACC,SAAS,EAAE;AACtC,EAAA,MAAMC,gBAAgB,GAAGjC,UAAU,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAA;AAC9D,EAAA,MAAMkC,qBAAqB,GAAGjC,UAAU,CAACJ,sBAAsB,CAAC,CAAA;EAEhE,OAAOsC,OAAO,CAAC,MAAM;AACnB,IAAA,OAAOF,gBAAgB,GAAGA,gBAAgB,CAACG,KAAK,CAACJ,SAAS,EAAEX,sBAAsB,CAACa,qBAAqB,CAAC,CAAC,GAAG,IAAI,CAAA;GAClH,EAAE,CAAED,gBAAgB,EAAED,SAAS,EAAEE,qBAAqB,CAAE,CAAC,CAAA;AAC5D;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA,SAASG,oBAAoBA,CAACtE,SAAS,EAAEuE,QAAQ,EAAE;EAEjD,MAAM;AACJC,IAAAA,gBAAgB,EAAEC,iBAAiB;AACnCC,IAAAA,SAAS,EAAEC,UAAU;AACrBrG,IAAAA,MAAM,EAAEsG,aAAAA;AACV,GAAC,GAAG5E,SAAS,CAAA;AAEb,EAAA,IAAIyE,iBAAiB,EAAE;AACrB,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;EAEA,OAAOE,UAAU,GAAGpG,GAAG,CAACgG,QAAQ,EAAE,CAAEI,UAAU,CAAE,CAAC,GAAGC,aAAa,CAAA;AACnE,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,oBAAoBA,CAACC,WAAW,EAAE;EACzC,OAAOA,WAAW,CAACvN,MAAM,CAACwN,eAAe,CAAC,CAACxM,GAAG,CAACyM,gBAAgB,CAAC,CAACzN,MAAM,CAAC0N,CAAC,IAAI,CAACC,KAAK,CAACD,CAAC,CAAC,CAAC,CAAA;AACzF,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASE,kBAAkBA,CAACxP,OAAO,GAAG,EAAE,EAAE;EAExC,MAAMyP,QAAQ,GAAG,EAAE,CAAA;;AAEnB;EACA,IAAI,CAACzP,OAAO,CAAC+O,SAAS,IAAI,CAAC/O,OAAO,CAAC6O,gBAAgB,EAAE;IACnDY,QAAQ,CAAC9G,MAAM,GAAG,CAChB;AACEJ,MAAAA,KAAK,EAAE,SAAS;AAChB7D,MAAAA,KAAK,EAAE,SAAA;AACT,KAAC,CACF,CAAA;AACH,GAAA;EAEA,OAAO;AACL,IAAA,GAAG+K,QAAQ;IACX,GAAGzP,OAAAA;GACJ,CAAA;AACH,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASqP,gBAAgBA,CAACK,MAAM,EAAE;AAEhC;AACA,EAAA,IAAIC,mBAAmB,CAACD,MAAM,CAAC,EAAE;IAC/B,OAAO;AAAEhL,MAAAA,KAAK,EAAEgL,MAAM;MAAEnH,KAAK,EAAG,GAAGmH,MAAQ,CAAA,CAAA;KAAG,CAAA;AAChD,GAAA;AAEA,EAAA,IAAIE,QAAQ,CAACF,MAAM,CAAC,EAAE;AAEpB,IAAA,MAAMG,YAAY,GAAGC,aAAa,CAACJ,MAAM,CAACnH,KAAK,CAAC,CAAA;;AAEhD;IACA,IAAI,CAACsH,YAAY,IAAIF,mBAAmB,CAACD,MAAM,CAAChL,KAAK,CAAC,EAAE;MACtD,OAAO;QAAEA,KAAK,EAAEgL,MAAM,CAAChL,KAAK;AAAE6D,QAAAA,KAAK,EAAG,CAAA,EAAGmH,MAAM,CAAChL,KAAO,CAAA,CAAA;OAAG,CAAA;AAC5D,KAAA;;AAEA;IACA,IAAImL,YAAY,IAAIT,eAAe,CAACM,MAAM,CAAChL,KAAK,CAAC,EAAE;AACjD,MAAA,OAAOgL,MAAM,CAAA;AACf,KAAA;AACF,GAAA;AAEA,EAAA,OAAO,IAAI,CAAA;AACb,CAAA;AAEA,SAASC,mBAAmBA,CAACjL,KAAK,EAAE;AAClC,EAAA,MAAMqL,sBAAsB,GAAG,CAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,CAAE,CAAC5P,QAAQ,CAAC,OAAOuE,KAAM,CAAC,CAAA;EACxF,MAAMsL,OAAO,GAAGtL,KAAK,IAAIA,KAAK,KAAK,CAAC,IAAIA,KAAK,KAAK,KAAK,CAAA;EAEvD,OAAOqL,sBAAsB,IAAIC,OAAO,CAAA;AAC1C,CAAA;AAEA,SAASF,aAAaA,CAACvH,KAAK,EAAE;AAC5B,EAAA,OAAOA,KAAK,IAAI5D,QAAQ,CAAC4D,KAAK,CAAC,CAAA;AACjC,CAAA;AAEA,SAAS6G,eAAeA,CAAC1K,KAAK,EAAE;AAC9B,EAAA,IAAIkL,QAAQ,CAAClL,KAAK,CAAC,EAAE;IACnB,OAAO3D,MAAM,CAACC,IAAI,CAAC0D,KAAK,CAAC,CAACzD,MAAM,GAAG,CAAC,CAAA;AACtC,GAAA;EAEA,OAAO0O,mBAAmB,CAACjL,KAAK,CAAC,CAAA;AACnC;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASuL,uBAAuBA,CAACvL,KAAK,EAAE;AAC7C,EAAA,MAAMwL,kBAAkB,GAAG5D,UAAU,CAAC,oBAAoB,CAAC,CAAA;AAC3D,EAAA,MAAMkC,qBAAqB,GAAGjC,UAAU,CAACJ,sBAAsB,CAAC,CAAA;EAEhE,OAAOsC,OAAO,CAAC,MAAM;IACnB,IAAIyB,kBAAkB,IAAIA,kBAAkB,CAACzL,YAAY,CAACC,KAAK,CAAC,EAAE;MAChE,OAAOwL,kBAAkB,CAAClL,QAAQ,CAACN,KAAK,EAAEiJ,sBAAsB,CAACa,qBAAqB,CAAC,CAAC,CAAA;AAC1F,KAAA;AACA,IAAA,OAAO9J,KAAK,CAAA;GACb,EAAE,CAAEwL,kBAAkB,EAAE1B,qBAAqB,EAAE9J,KAAK,CAAE,CAAC,CAAA;AAC1D;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASyL,qBAAqBA,CAACzL,KAAK,EAAE;AAC3C,EAAA,MAAM0L,GAAG,GAAGC,MAAM,EAAE,CAAA;EAEpB,IAAI,CAACC,OAAO,CAAC5L,KAAK,EAAE0L,GAAG,CAAChO,OAAO,CAAC,EAAE;IAChCgO,GAAG,CAAChO,OAAO,GAAGsC,KAAK,CAAA;AACrB,GAAA;EAEA,OAAO0L,GAAG,CAAChO,OAAO,CAAA;AACpB;;ACZA;AACA;AACA;AACO,MAAMmO,WAAW,GAAG;AACzBC,EAAAA,OAAO,EAAE,SAAS;AAClBC,EAAAA,MAAM,EAAE,QAAQ;AAChBC,EAAAA,KAAK,EAAE,OAAA;AACT,CAAC,CAAA;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,eAAeA,CAAClI,KAAK,EAAE;EACrC,MAAM;AACJoG,IAAAA,gBAAgB,EAAEC,iBAAiB;AACnCC,IAAAA,SAAS,EAAEC,UAAU;AACrBrG,IAAAA,MAAM,EAAEsG,aAAAA;AACV,GAAC,GAAGxG,KAAK,CAAA;EAET,MAAMmI,WAAW,GAAGtE,UAAU,CAAC,MAAM,CAAC,CAACuE,SAAS,EAAE,CAACD,WAAW,CAAA;AAC9D,EAAA,MAAME,oBAAoB,GAAGb,uBAAuB,CAACnB,iBAAiB,CAAC,CAAA;AACvE,EAAA,MAAMiC,gBAAgB,GAAGZ,qBAAqB,CAACW,oBAAoB,IAAI,EAAE,CAAC,CAAA;AAE1E,EAAA,MAAME,aAAa,GAAGvC,OAAO,CAAC,MAAM;IAClC,IAAIzO,OAAO,GAAG,EAAE,CAAA;;AAEhB;IACA,IAAIgP,UAAU,KAAKnG,SAAS,EAAE;MAC5B,MAAMoI,YAAY,GAAG,CAACL,WAAW,IAAI,EAAE,EAAE5B,UAAU,CAAC,CAAA;MACpD,IAAIiC,YAAY,IAAI9P,KAAK,CAAC+P,OAAO,CAACD,YAAY,CAAC,EAAE;AAC/CjR,QAAAA,OAAO,GAAGiR,YAAY,CAAA;AACxB,OAAA;;AAEF;AACA,KAAC,MAAM,IAAIhC,aAAa,KAAKpG,SAAS,EAAE;MACtC7I,OAAO,GAAGmB,KAAK,CAAC+P,OAAO,CAACjC,aAAa,CAAC,GAAGA,aAAa,GAAG,EAAE,CAAA;;AAE7D;AACA,KAAC,MAAM,IAAIH,iBAAiB,IAAIiC,gBAAgB,IAAI5P,KAAK,CAAC+P,OAAO,CAACH,gBAAgB,CAAC,EAAE;AACnF/Q,MAAAA,OAAO,GAAG+Q,gBAAgB,CAAA;;AAE5B;AACA,KAAC,MAAM;MACL,OAAOI,eAAe,CAAC,kDAAkD,CAAC,CAAA;AAC5E,KAAA;;AAEA;AACA,IAAA,OAAOC,gBAAgB,CAAClC,oBAAoB,CAAClP,OAAO,CAAC,CAAC,CAAA;AACxD,GAAC,EAAE,CAAEgP,UAAU,EAAEC,aAAa,EAAE2B,WAAW,EAAE9B,iBAAiB,EAAEiC,gBAAgB,CAAE,CAAC,CAAA;AAEnF,EAAA,OAAOC,aAAa,CAAA;AACtB,CAAA;AAEA,MAAMG,eAAe,GAAIjM,KAAK,KAAM;AAAElF,EAAAA,OAAO,EAAE,EAAE;EAAEkF,KAAK;EAAEmM,SAAS,EAAEd,WAAW,CAACG,KAAAA;AAAM,CAAC,CAAC,CAAA;AAEzF,MAAMU,gBAAgB,GAAIpR,OAAO,KAAM;EAAEA,OAAO;AAAEkF,EAAAA,KAAK,EAAE2D,SAAS;EAAEwI,SAAS,EAAEd,WAAW,CAACE,MAAAA;AAAO,CAAC,CAAC;;AClEpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMa,uBAAuB,GAAIxG,KAAK,IAAK;EAEzC,MAAM;IACJyG,IAAI;IACJC,SAAS,GAAID,IAAI,IAAKA,IAAI;AAC1BE,IAAAA,QAAQ,GAAG,IAAI;AACfC,IAAAA,iBAAiB,GAAG,IAAA;AACtB,GAAC,GAAG5G,KAAK,CAAA;AAET,EAAA,MAAM6G,aAAa,GAAGlD,OAAO,CAAC,MAAMgD,QAAQ,GAAGG,SAAS,CAACH,QAAQ,CAACF,IAAI,EAAEM,kBAAkB,CAACH,iBAAiB,CAAC,CAAC,GAAGH,IAAI,EAAE,CAAEA,IAAI,EAAEE,QAAQ,EAAEC,iBAAiB,CAAE,CAAC,CAAA;AAC7J,EAAA,MAAMI,eAAe,GAAGrD,OAAO,CAAC,MAAM+C,SAAS,CAACG,aAAa,CAAC,EAAE,CAAEA,aAAa,EAAEH,SAAS,CAAE,CAAC,CAAA;;AAE7F;EACA,OAAO;AAAEO,IAAAA,MAAM,EAAED,eAAAA;GAAiB,CAAA;AACpC,CAAC,CAAA;AAED,MAAMD,kBAAkB,GAAIH,iBAAiB,IAAK;EAChD,OAAO;AACLM,IAAAA,UAAU,EAAE,IAAI;AAChBC,IAAAA,WAAW,EAAGP,iBAAiB,GAAG,CAAE,OAAO,CAAE,GAAG,EAAA;GACjD,CAAA;AACH,CAAC;;AC5BD;AACA;AACA;AACA;AACA;AACA;AACO,SAASQ,wBAAwBA,CAACC,QAAQ,EAAE;AAEjD,EAAA,MAAMC,gBAAgB,GAAGjC,qBAAqB,CAACgC,QAAQ,CAAC,CAAA;EAExD,MAAME,OAAO,GAAG5D,OAAO,CAAC,MACtBzF,+BAA+B,CAC5BpH,MAAM,CAAC,CAAC;AAAEqH,IAAAA,SAAAA;GAAW,KAAKA,SAAS,KAAKH,iBAAiB,CAAC,CAC1DlH,MAAM,CAAC,CAAC;AAAEuH,IAAAA,QAAAA;AAAS,GAAC,KAAKP,GAAG,CAACwJ,gBAAgB,EAAE,CAAEjJ,QAAQ,CAAE,EAAE,KAAK,CAAC,CAAC,CACpEvG,GAAG,CAAC,CAAC;AAAEsG,IAAAA,SAAAA;AAAU,GAAC,KAAKA,SAAS,CAAC,CACjCoJ,IAAI,CAAC,GAAG,CAAC,EACZ,CAAEF,gBAAgB,CAAE,CAAC,CAAA;EAEvB,MAAMG,KAAK,GAAG9D,OAAO,CAAC,MACpBzF,+BAA+B,CAC5BpH,MAAM,CAAC,CAAC;AAAEqH,IAAAA,SAAAA;GAAW,KAAKA,SAAS,KAAKH,iBAAiB,CAAC,CAC1DlH,MAAM,CAAC,CAAC;AAAEuH,IAAAA,QAAAA;AAAS,GAAC,KAAKP,GAAG,CAACwJ,gBAAgB,EAAE,CAAEjJ,QAAQ,CAAE,EAAE,KAAK,CAAC,CAAC,CACpEvG,GAAG,CAAC,CAAC;AAAEsG,IAAAA,SAAAA;AAAU,GAAC,KAAKA,SAAS,CAAC,CACjCoJ,IAAI,CAAC,IAAI,CAAC,EACb,CAAEF,gBAAgB,CAAE,CAAC,CAAA;AAEvB,EAAA,OAAO,CAAEC,OAAO,EAAEE,KAAK,CAAE,CAAA;AAC3B;;AC7BA;AACA;AACA;AACA;AACO,SAASC,sBAAsBA,CAACxS,OAAO,EAAE;AAE9C;AACA,EAAA,MAAMyS,QAAQ,GAAGhE,OAAO,CAAC,MAAM1N,MAAM,CAAC2R,MAAM,CAAC,EAAE,EAAE,GAAG1S,OAAO,CAAC4C,GAAG,CAAE0M,CAAC,KAAM;IAAE,CAACqD,aAAa,CAACrD,CAAC,CAAC5K,KAAK,CAAC,GAAI4K,CAAC,CAAC/G,KAAAA;AAAM,GAAC,CAAC,CAAC,CAAC,EAAE,CAAEvI,OAAO,CAAE,CAAC,CAAA;AAC/H,EAAA,OAAO4S,WAAW,CAAElO,KAAK,IAAK+N,QAAQ,CAACE,aAAa,CAACjO,KAAK,CAAC,CAAC,EAAE,CAAE+N,QAAQ,CAAE,CAAC,CAAA;AAC7E,CAAA;AAEA,MAAME,aAAa,GAAIjO,KAAK,IAAK;AAC/B,EAAA,OAAOkL,QAAQ,CAAClL,KAAK,CAAC,GAAG+I,IAAI,CAACC,SAAS,CAAChJ,KAAK,CAAC,GAAGA,KAAK,CAAA;AACxD,CAAC;;AChBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASmO,aAAaA,CAACC,QAAQ,EAAEpJ,MAAM,EAAE;AACvC,EAAA,MAAMqJ,SAAS,GAAGD,QAAQ,CAACE,gBAAgB,CAAC,OAAO,CAAC,CAAA;AACpDD,EAAAA,SAAS,CAACnI,OAAO,CAACqI,QAAQ,IAAI;AAC5B,IAAA,MAAMC,aAAa,GAAGC,oBAAoB,CAACF,QAAQ,CAACG,WAAW,CAAC,CAAA;AAChE,IAAA,MAAMC,SAAS,GAAGH,aAAa,CAC5BtQ,GAAG,CAAC0Q,IAAI,IAAI;MACX,MAAM;QAAEC,QAAQ;AAAEC,QAAAA,MAAAA;AAAO,OAAC,GAAGC,SAAS,CAACH,IAAI,CAAC,CAAA;AAC5C,MAAA,MAAMI,cAAc,GAAGC,aAAa,CAACJ,QAAQ,EAAE7J,MAAM,CAAC,CAAA;AACtD,MAAA,OAAQ,CAAEgK,EAAAA,cAAe,CAAGF,CAAAA,EAAAA,MAAO,CAAC,CAAA,CAAA;AACtC,KAAC,CAAC,CACDlB,IAAI,CAAC,GAAG,CAAC,CAAA;IACZW,QAAQ,CAACG,WAAW,GAAGC,SAAS,CAAA;AAClC,GAAC,CAAC,CAAA;AAEF,EAAA,OAAOP,QAAQ,CAAA;AACjB,CAAA;AAEA,SAASK,oBAAoBA,CAACS,SAAS,EAAE;EACvC,IAAIC,MAAM,GAAG,CAAC,CAAA;EACd,IAAIC,KAAK,GAAG,CAAC,CAAA;EACb,IAAIC,KAAK,GAAG,CAAC,CAAA;EACb,MAAMb,aAAa,GAAG,EAAE,CAAA;AAExB,EAAA,OAAOW,MAAM,GAAGD,SAAS,CAAC3S,MAAM,EAAE;AAChC,IAAA,IAAI2S,SAAS,CAACC,MAAM,CAAC,KAAK,GAAG,EAAE;AAC7BE,MAAAA,KAAK,EAAE,CAAA;AACT,KAAA;AAEA,IAAA,IAAIH,SAAS,CAACC,MAAM,CAAC,KAAK,GAAG,EAAE;AAC7BE,MAAAA,KAAK,EAAE,CAAA;MACP,IAAIA,KAAK,KAAK,CAAC,EAAE;AACfb,QAAAA,aAAa,CAACjQ,IAAI,CAAC2Q,SAAS,CAACI,SAAS,CAACF,KAAK,EAAED,MAAM,GAAG,CAAC,CAAC,CAAC,CAAA;QAC1DC,KAAK,GAAGD,MAAM,GAAG,CAAC,CAAA;AACpB,OAAA;AACF,KAAA;AAEAA,IAAAA,MAAM,EAAE,CAAA;AACV,GAAA;EAEA,OAAOX,aAAa,CAACtQ,GAAG,CAAC0Q,IAAI,IAAIA,IAAI,CAACW,IAAI,EAAE,CAAC,CAAA;AAC/C,CAAA;AAEA,SAASR,SAASA,CAACH,IAAI,EAAE;AACvB,EAAA,MAAMY,YAAY,GAAGZ,IAAI,CAACa,OAAO,CAAC,GAAG,CAAC,CAAA;EACtC,MAAMZ,QAAQ,GAAGD,IAAI,CAACU,SAAS,CAAC,CAAC,EAAEE,YAAY,CAAC,CAAA;AAChD,EAAA,MAAMV,MAAM,GAAGF,IAAI,CAACU,SAAS,CAACE,YAAY,CAAC,CAAA;EAC3C,OAAO;IAAEX,QAAQ;AAAEC,IAAAA,MAAAA;GAAQ,CAAA;AAC7B,CAAA;AAEA,SAASG,aAAaA,CAACJ,QAAQ,EAAE7J,MAAM,EAAE;EACvC,OAAO6J,QAAQ,CACZ3G,KAAK,CAAC,GAAG,CAAC,CACVhK,GAAG,CAACwR,GAAG,IAAK,CAAA,EAAE1K,MAAO,CAAG0K,CAAAA,EAAAA,GAAG,CAACH,IAAI,EAAG,CAAC,CAAA,CAAC,CACrC3B,IAAI,CAAC,IAAI,CAAC,CAAA;AACf,CAAA;AAEA,SAAS+B,kBAAkBA,CAACC,EAAE,EAAE;AAC9B,EAAA,OAAOA,EAAE,IAAIA,EAAE,KAAK1K,QAAQ,CAAC2K,IAAI,IAAID,EAAE,KAAK1K,QAAQ,CAAC4K,eAAe,EAAE;AACpE,IAAA,IAAIC,oBAAoB,CAACH,EAAE,CAAC,EAAE;AAC5B,MAAA,OAAOA,EAAE,CAAA;AACX,KAAA;IACAA,EAAE,GAAGA,EAAE,CAACI,aAAa,CAAA;AACvB,GAAA;AAEA,EAAA,IAAID,oBAAoB,CAAC7K,QAAQ,CAAC2K,IAAI,CAAC,EAAE;IACvC,OAAO3K,QAAQ,CAAC2K,IAAI,CAAA;GACrB,MAAM,IAAIE,oBAAoB,CAAC7K,QAAQ,CAAC4K,eAAe,CAAC,EAAE;IACzD,OAAO5K,QAAQ,CAAC4K,eAAe,CAAA;AACjC,GAAA;AAEA,EAAA,OAAO,IAAI,CAAA;AACb,CAAA;AAEA,SAASC,oBAAoBA,CAACH,EAAE,EAAE;AAChC,EAAA,MAAMzI,KAAK,GAAG8I,MAAM,CAACC,gBAAgB,CAACN,EAAE,CAAC,CAAA;EACzC,MAAMO,SAAS,GAAGhJ,KAAK,CAACgJ,SAAS,IAAIhJ,KAAK,CAACiJ,QAAQ,CAAA;AAEnD,EAAA,OAAO,CAACD,SAAS,KAAK,MAAM,IAAIA,SAAS,KAAK,QAAQ,KAAKP,EAAE,CAACS,YAAY,GAAGT,EAAE,CAACU,YAAY,CAAA;AAC9F;;AClFA,MAAMC,YAAY,GAAG,EAAE,CAAA;AACvB,MAAMC,WAAW,GAAG,EAAE,CAAA;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,iBAAiBA,CAACC,kBAAkB,EAAEC,IAAI,EAAEC,aAAa,EAAEC,QAAQ,EAAE;AAEnF,EAAA,MAAMC,cAAc,GAAGF,aAAa,IAAIL,YAAY,CAAA;AACpD,EAAA,MAAMQ,SAAS,GAAGF,QAAQ,IAAIL,WAAW,CAAA;AAEzCQ,EAAAA,SAAS,CAAC,MAAM;AAEd;AACA,IAAA,IAAI5S,IAAI,CAAC2S,SAAS,EAAErF,GAAG,IAAI,CAACA,GAAG,CAAChO,OAAO,CAAC,IAAI,CAACgT,kBAAkB,CAAChT,OAAO,EAAE;AACvE,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkT,SAAS,CAACxU,MAAM,EAAEsB,CAAC,EAAE,EAAE;AACzCkT,MAAAA,SAAS,CAAClT,CAAC,CAAC,CAACH,OAAO,GAAG,KAAK,CAAA;AAC9B,KAAA;AAEA,IAAA,MAAMuT,gBAAgB,GAAGP,kBAAkB,CAAChT,OAAO,CAAA;AACnD,IAAA,MAAMwT,eAAe,GAAGvB,kBAAkB,CAACsB,gBAAgB,CAAC,CAAA;IAE5D,IAAI,CAACC,eAAe,EAAE;AACpB,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,MAAMC,QAAQ,GAAGF,gBAAgB,CAACG,qBAAqB,EAAE,CAAA;AACzD,IAAA,MAAMC,aAAa,GAAGH,eAAe,CAACE,qBAAqB,EAAE,CAAA;IAE7D,MAAM;AAAEE,MAAAA,KAAK,GAAG,QAAQ;AAAErT,MAAAA,MAAM,GAAG,CAAC;AAAEsT,MAAAA,QAAQ,GAAG,MAAM;AAAEC,MAAAA,eAAe,GAAG,KAAA;AAAM,KAAC,GAAGV,cAAc,CAAA;IAEnG,MAAMW,YAAY,GAAGD,eAAe,IAAI,EAAEL,QAAQ,CAACO,GAAG,IAAIL,aAAa,CAACK,GAAG,IAAIP,QAAQ,CAACQ,MAAM,IAAIN,aAAa,CAACM,MAAM,CAAC,CAAA;IAEvH,IAAI,CAACF,YAAY,EAAE;AACjB,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,MAAMG,SAAS,GAAGC,aAAa,CAACZ,gBAAgB,EAAEC,eAAe,EAAE;MAAEI,KAAK;AAAErT,MAAAA,MAAAA;AAAO,KAAC,CAAC,CAAA;IACrFiT,eAAe,CAACY,MAAM,CAAC;AAAEJ,MAAAA,GAAG,EAAEE,SAAS;AAAEL,MAAAA,QAAAA;AAAS,KAAC,CAAC,CAAA;;AAEtD;GACC,EAAEZ,IAAI,CAAC,CAAA;AACV,CAAA;;AAGA;;AAEA,SAASkB,aAAaA,CAACE,IAAI,EAAEb,eAAe,EAAE5V,OAAO,EAAE;AACrD,EAAA,MAAM6V,QAAQ,GAAGY,IAAI,CAACX,qBAAqB,EAAE,CAAA;AAC7C,EAAA,MAAMC,aAAa,GAAGH,eAAe,CAACE,qBAAqB,EAAE,CAAA;AAE7D,EAAA,IAAI9V,OAAO,CAACgW,KAAK,KAAK,KAAK,EAAE;AAC3B,IAAA,OAAOH,QAAQ,CAACO,GAAG,GAAGL,aAAa,CAACK,GAAG,GAAGR,eAAe,CAACc,SAAS,GAAG1W,OAAO,CAAC2C,MAAM,CAAA;AACtF,GAAC,MAAM,IAAI3C,OAAO,CAACgW,KAAK,KAAK,QAAQ,EAAE;AACrC,IAAA,OAAOH,QAAQ,CAACQ,MAAM,GAAGN,aAAa,CAACK,GAAG,GAAGR,eAAe,CAACZ,YAAY,GAAGY,eAAe,CAACc,SAAS,GAAG1W,OAAO,CAAC2C,MAAM,CAAA;AACxH,GAAC,MAAM,IAAI3C,OAAO,CAACgW,KAAK,KAAK,QAAQ,EAAE;IACrC,OAAOH,QAAQ,CAACO,GAAG,GAAGL,aAAa,CAACK,GAAG,GAAGR,eAAe,CAACZ,YAAY,GAAG,CAAC,GAAGY,eAAe,CAACc,SAAS,GAAGb,QAAQ,CAACc,MAAM,GAAG,CAAC,GAAG3W,OAAO,CAAC2C,MAAM,CAAA;AAC/I,GAAA;AAEA,EAAA,OAAO,CAAC,CAAA;AACV;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACO,SAASiU,mBAAmBA,GAAG;EACpC,MAAM;IAAEhG,WAAW;AAAE3L,IAAAA,IAAAA;GAAM,GAAGqH,UAAU,CAAC,MAAM,CAAC,CAACuE,SAAS,EAAE,CAAA;AAC5D,EAAA,MAAMtC,gBAAgB,GAAGjC,UAAU,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAA;EAE9D,OAAOmC,OAAO,CAAC,MAAM;AACnB,IAAA,MAAMoI,OAAO,GAAGtI,gBAAgB,GAAGA,gBAAgB,CAACuI,eAAe,CAAC7R,IAAI,EAAEA,IAAI,CAAC,GAAGA,IAAI,CAAA;IACtF,OAAO;AAAE,MAAA,GAAG2L,WAAW;MAAE,GAAGiG,OAAAA;KAAS,CAAA;GACtC,EAAE,CAAEtI,gBAAgB,EAAEtJ,IAAI,EAAE2L,WAAW,CAAE,CAAC,CAAA;AAE7C;;AChBO,SAASmG,gBAAgBA,CAACC,SAAS,EAAE/L,MAAM,EAAEgM,eAAe,GAAGtC,MAAM,EAAE;AAE5E,EAAA,SAASuC,WAAWA,CAAC;AAAErK,IAAAA,GAAAA;AAAI,GAAC,EAAE;IAC5B,IAAIA,GAAG,KAAKmK,SAAS,EAAE;AACrB/L,MAAAA,MAAM,EAAE,CAAA;AACV,KAAA;AACF,GAAA;AAEAyK,EAAAA,SAAS,CAAC,MAAM;AACduB,IAAAA,eAAe,CAACE,gBAAgB,CAAC,SAAS,EAAED,WAAW,CAAC,CAAA;AAExD,IAAA,OAAO,MAAM;AACXD,MAAAA,eAAe,CAACG,mBAAmB,CAAC,SAAS,EAAEF,WAAW,CAAC,CAAA;KAC5D,CAAA;AACH,GAAC,CAAC,CAAA;AACJ;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASG,WAAWA,CAAChN,SAAS,EAAEiN,UAAU,GAAG,EAAE,EAAE;AACtD,EAAA,MAAMpH,kBAAkB,GAAG5D,UAAU,CAAC,oBAAoB,CAAC,CAAA;AAC3D,EAAA,MAAMiC,gBAAgB,GAAGjC,UAAU,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAA;AAC9D,EAAA,MAAMkC,qBAAqB,GAAGjC,UAAU,CAACJ,sBAAsB,CAAC,CAAA;EAEhE,MAAM;AAAEjC,IAAAA,QAAAA;AAAS,GAAC,GAAGG,SAAS,CAAA;EAE9B,IAAIiN,UAAU,CAACC,QAAQ,EAAE;AACvB,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;EAEA,IAAIrH,kBAAkB,IAAIA,kBAAkB,CAACzL,YAAY,CAACyF,QAAQ,CAAC,EAAE;AACnE,IAAA,OAAOqE,gBAAgB,GAAGA,gBAAgB,CAACG,KAAK,CAACxE,QAAQ,EAAEyD,sBAAsB,CAACa,qBAAqB,CAAC,CAAC,GAAG,KAAK,CAAA;AACnH,GAAA;EAEA,OAAOtE,QAAQ,IAAI,KAAK,CAAA;AAC1B;;AC1BO,SAASsN,WAAWA,CAAC9S,KAAK,EAAE+S,YAAY,GAAG,IAAI,EAAE;AACtD,EAAA,MAAMrH,GAAG,GAAGC,MAAM,CAACoH,YAAY,CAAC,CAAA;EAEhC/B,SAAS,CAAC,MAAMtF,GAAG,CAAChO,OAAO,GAAGsC,KAAK,EAAE,CAAEA,KAAK,CAAE,CAAC,CAAA;EAE/C,OAAO0L,GAAG,CAAChO,OAAO,CAAA;AACpB;;ACTO,SAASsV,gBAAgBA,CAACC,IAAI,EAAE;AAErC,EAAA,MAAMC,UAAU,GAAGvH,MAAM,CAAC,IAAI,CAAC,CAAA;AAC/B,EAAA,MAAMwH,WAAW,GAAGxH,MAAM,CAAC,IAAI,CAAC,CAAA;AAEhC,EAAA,MAAMjF,MAAM,GAAGkB,UAAU,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAA;AAC1C,EAAA,MAAMwL,QAAQ,GAAG1M,MAAM,IAAIA,MAAM,CAAC0M,QAAQ,CAAA;EAC1C,MAAMC,cAAc,GAAGD,QAAQ,KAAK,KAAK,IAAIA,QAAQ,KAAK,CAAC,CAAA;EAC3D,MAAME,KAAK,GAAG,OAAOF,QAAQ,KAAK,QAAQ,GAAGA,QAAQ,GAAG,GAAG,CAAA;AAE3D,EAAA,MAAMG,YAAY,GAAGrF,WAAW,CAAC,CAAC,GAAGsF,IAAI,KAAK;IAE5C,IAAI,CAACH,cAAc,EAAE;MACnBJ,IAAI,CAAC,GAAGO,IAAI,CAAC,CAAA;AACb,MAAA,OAAA;AACF,KAAA;IAEAL,WAAW,CAACzV,OAAO,GAAG8V,IAAI,CAAA;IAE1B,IAAIN,UAAU,CAACxV,OAAO,EAAE;AACtB+V,MAAAA,YAAY,CAACP,UAAU,CAACxV,OAAO,CAAC,CAAA;AAClC,KAAA;AAEAwV,IAAAA,UAAU,CAACxV,OAAO,GAAGgW,UAAU,CAAC,MAAM;AACpCT,MAAAA,IAAI,CAAC,GAAGE,WAAW,CAACzV,OAAO,CAAC,CAAA;MAC5ByV,WAAW,CAACzV,OAAO,GAAG,IAAI,CAAA;KAC3B,EAAE4V,KAAK,CAAC,CAAA;GAEV,EAAE,CAAEL,IAAI,EAAEK,KAAK,EAAED,cAAc,CAAE,CAAC,CAAA;AAEnC,EAAA,MAAMM,SAAS,GAAGzF,WAAW,CAAC,MAAM;IAElC,IAAIgF,UAAU,CAACxV,OAAO,EAAE;AACtB+V,MAAAA,YAAY,CAACP,UAAU,CAACxV,OAAO,CAAC,CAAA;AAChC,MAAA,IAAIyV,WAAW,CAACzV,OAAO,KAAK,IAAI,EAAE;AAChCuV,QAAAA,IAAI,CAAC,GAAGE,WAAW,CAACzV,OAAO,CAAC,CAAA;QAC5ByV,WAAW,CAACzV,OAAO,GAAG,IAAI,CAAA;AAC5B,OAAA;MACAwV,UAAU,CAACxV,OAAO,GAAG,IAAI,CAAA;AAC3B,KAAA;AAEF,GAAC,EAAE,CAAEuV,IAAI,CAAE,CAAC,CAAA;AAEZ,EAAA,OAAO,CAAEM,YAAY,EAAEI,SAAS,CAAE,CAAA;AACpC;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,qBAAqBA,CAAC5T,KAAK,EAAE1E,OAAO,GAAG,EAAE,EAAE;AACzD,EAAA,MAAMuY,UAAU,GAAGjM,UAAU,CAAC,YAAY,CAAC,CAAA;AAC3C,EAAA,MAAMkC,qBAAqB,GAAGjC,UAAU,CAACJ,sBAAsB,CAAC,CAAA;EAEhE,OAAOsC,OAAO,CAAC,MAAM;IACnB,IAAI8J,UAAU,IAAIA,UAAU,CAACjT,UAAU,CAACZ,KAAK,CAAC,EAAE;AAC9C,MAAA,OAAO6T,UAAU,CAACvT,QAAQ,CAACN,KAAK,EAAEiJ,sBAAsB,CAACa,qBAAqB,CAAC,EAAExO,OAAO,CAAC,CAAA;AAC3F,KAAA;AACA,IAAA,OAAO0E,KAAK,CAAA;GACb,EAAE,CAAE6T,UAAU,EAAE7T,KAAK,EAAE8J,qBAAqB,EAAExO,OAAO,CAAE,CAAC,CAAA;AAC3D;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASwY,+BAA+BA,CAAC9T,KAAK,EAAE1E,OAAO,GAAG,EAAE,EAAE;AACnE,EAAA,MAAMyY,iBAAiB,GAAGH,qBAAqB,CAAC5T,KAAK,EAAE1E,OAAO,CAAC,CAAA;AAC/D,EAAA,OAAOyO,OAAO,CAAC,MAAMgK,iBAAiB,IAAIA,iBAAiB,CAAC7L,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAE6L,iBAAiB,CAAE,CAAC,CAAA;AACpG;;ACfO,MAAMC,mBAAmB,GAAG,IAAIC,aAAa,CAAC,SAAS,EAAE;AAC9DC,EAAAA,IAAI,EAAE,OAAO;AACb/L,EAAAA,GAAG,EAAE,OAAO;AACZgM,EAAAA,QAAQ,EAAE,EAAE;AACZC,EAAAA,OAAO,EAAE,EAAE;AACXC,EAAAA,OAAO,EAAE,IAAA;AACX,CAAC,CAAC,CAAA;AAEK,SAASC,0BAA0BA,CAACC,iBAAiB,EAAE;EAE5D,IAAI,CAACA,iBAAiB,EAAE,OAAA;EAExB,CAACA,iBAAiB,CAACC,MAAM,IAAID,iBAAiB,CAACE,IAAI,EAAE,CAAA;AAErD,EAAA,MAAMxP,SAAS,GAAGsP,iBAAiB,CAACG,iBAAiB,CAAA;EACrD,MAAMC,UAAU,GACd1P,SAAS,CAAC2P,aAAa,CAAC,yBAAyB,CAAC,IAClD3P,SAAS,CAAC2P,aAAa,CAAC,sBAAsB,CAAC,IAC/C3P,SAAS,CAAC2P,aAAa,CAAC,gBAAgB,CAAC,CAAA;AAE3CD,EAAAA,UAAU,IAAIA,UAAU,CAACE,KAAK,EAAE,CAAA;AAClC,CAAA;AAEO,SAASC,UAAUA,CAACC,MAAM,EAAEC,OAAO,EAAE;AAE1C,EAAA,IAAIA,OAAO,KAAK,IAAI,EAAE,OAAO,IAAI,CAAA;AAEjC,EAAA,MAAMC,cAAc,GAAGD,OAAO,IAAI,EAAE,GAAG,EAAE,CAAC,CAAA;AAE1C,EAAA,MAAME,MAAM,GAAGF,OAAO,GAAG,EAAE,CAAA;EAC3B,IAAIG,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACJ,cAAc,GAAG,EAAE,CAAC,CAAA;AAE1C,EAAA,IAAIF,MAAM,EAAE;IACV,OAAOO,oBAAoB,CAACH,IAAI,CAAC,GAAG,GAAG,GAAGG,oBAAoB,CAACJ,MAAM,CAAC,CAAA;AACxE,GAAA;AAEAC,EAAAA,IAAI,GAAIA,IAAI,GAAG,EAAE,IAAI,EAAG,CAAA;AAExB,EAAA,MAAMI,IAAI,GAAIN,cAAc,IAAI,EAAE,GAAG,EAAG,CAAA;AAExC,EAAA,OAAOK,oBAAoB,CAACH,IAAI,CAAC,GAAG,GAAG,GAAGG,oBAAoB,CAACJ,MAAM,CAAC,GAAG,GAAG,IAAIK,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,CAAA;AACrG,CAAA;AAEO,SAASC,cAAcA,CAACC,UAAU,EAAE;AAEzC,EAAA,IAAIC,aAAa,GAAGD,UAAU,CAACE,WAAW,EAAE,CAAA;AAC5C,EAAA,MAAMC,KAAK,GAAGF,aAAa,CAACja,QAAQ,CAAC,IAAI,CAAC,IAAIia,aAAa,CAACja,QAAQ,CAAC,IAAI,CAAC,CAAA;AAE1E,EAAA,IAAIma,KAAK,EAAE;AACT,IAAA,MAAML,IAAI,GAAGG,aAAa,CAACja,QAAQ,CAAC,IAAI,CAAC,CAAA;AACzC,IAAA,MAAMoa,MAAM,GAAGH,aAAa,CAACI,KAAK,CAAC,MAAM,CAAC,CAAA;IAC1C,MAAMC,WAAW,GAAG1N,QAAQ,CAACwN,MAAM,IAAIA,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;AACjD,IAAA,MAAMX,MAAM,GAAG7M,QAAQ,CAACwN,MAAM,IAAIA,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAA;AAEjD,IAAA,MAAMG,kBAAkB,GAAGC,QAAQ,CAACF,WAAW,CAAC,IAAKA,WAAW,IAAI,CAAE,IAAKA,WAAW,IAAI,EAAG,CAAA;IAC7F,MAAMG,aAAa,GAAIhB,MAAM,IAAI,CAAC,IAAMA,MAAM,IAAI,EAAG,CAAA;AAErD,IAAA,IAAI,CAACc,kBAAkB,IAAI,CAACE,aAAa,EAAE,OAAO,IAAI,CAAA;IAEtD,MAAMf,IAAI,GAAIY,WAAW,GAAG,EAAE,IAAKR,IAAI,GAAG,EAAE,GAAG,CAAC,CAAC,CAAA;AAEjD,IAAA,OAAOJ,IAAI,GAAG,EAAE,GAAGD,MAAM,CAAA;AAC3B,GAAC,MACI;AACH,IAAA,MAAMW,MAAM,GAAGH,aAAa,CAACI,KAAK,CAAC,MAAM,CAAC,CAAA;IAC1C,MAAMX,IAAI,GAAG9M,QAAQ,CAACwN,MAAM,IAAIA,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;IAC1C,MAAMX,MAAM,GAAG7M,QAAQ,CAACwN,MAAM,IAAIA,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;AAE5C,IAAA,MAAMM,WAAW,GAAGF,QAAQ,CAACd,IAAI,CAAC,IAAKA,IAAI,IAAI,CAAE,IAAKA,IAAI,IAAI,EAAG,CAAA;AACjE,IAAA,MAAMe,aAAa,GAAGD,QAAQ,CAACf,MAAM,CAAC,IAAKA,MAAM,IAAI,CAAE,IAAKA,MAAM,IAAI,EAAG,CAAA;AAEzE,IAAA,IAAI,CAACiB,WAAW,IAAI,CAACD,aAAa,EAAE,OAAO,IAAI,CAAA;AAE/C,IAAA,OAAOf,IAAI,GAAG,EAAE,GAAGD,MAAM,CAAA;AAC3B,GAAA;AACF,CAAA;AAEO,SAASkB,aAAaA,CAACpB,OAAO,EAAE/W,MAAM,EAAEoY,qBAAqB,EAAE;AAEpE,EAAA,IAAIA,qBAAqB,KAAK7T,wBAAwB,CAACE,cAAc,EAAE;IACrE,MAAM4T,iBAAiB,GAAG,CAACtB,OAAO,GAAG/W,MAAM,GAAGkE,cAAc,IAAIA,cAAc,CAAA;IAC9E,OAAOmT,oBAAoB,CAACF,IAAI,CAACC,KAAK,CAACiB,iBAAiB,GAAG,EAAE,CAAC,CAAC,GAAG,GAAG,GAAGhB,oBAAoB,CAACgB,iBAAiB,GAAG,EAAE,CAAC,GAAG,GAAG,CAAA;AAC5H,GAAA;EAEA,MAAMC,QAAQ,GAAGjB,oBAAoB,CAACF,IAAI,CAACC,KAAK,CAACL,OAAO,GAAG,EAAE,CAAC,CAAC,GAAG,GAAG,GAAGM,oBAAoB,CAACN,OAAO,GAAG,EAAE,CAAC,CAAA;AAC1G,EAAA,MAAMwB,YAAY,GAAGH,qBAAqB,KAAK7T,wBAAwB,CAACC,UAAU,CAAA;EAElF,OAAO8T,QAAQ,IAAIC,YAAY,GAAGC,oBAAoB,CAACxY,MAAM,CAAC,GAAG,EAAE,CAAC,CAAA;AACtE,CAAA;AAEO,SAASyY,YAAYA,CAACC,aAAa,EAAE;AAE1C,EAAA,IAAI,CAACA,aAAa,EAAE,OAAO,IAAI,CAAA;EAE/B,MAAMC,iBAAiB,GAAIC,UAAU,IAAK;AACxC,IAAA,MAAMC,YAAY,GAAGD,UAAU,CAAC3O,KAAK,CAAC,GAAG,CAAC,CAAA;IAC1C,MAAMiN,IAAI,GAAG9M,QAAQ,CAACyO,YAAY,CAAC,CAAC,CAAC,CAAC,CAAA;AACtC,IAAA,MAAM5B,MAAM,GAAG4B,YAAY,CAACva,MAAM,GAAG,CAAC,GAAG8L,QAAQ,CAACyO,YAAY,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAA;IACtE,IAAI1O,KAAK,CAAC+M,IAAI,CAAC,IAAIA,IAAI,GAAG,CAAC,IAAIA,IAAI,GAAG,EAAE,IAAI/M,KAAK,CAAC8M,MAAM,CAAC,IAAIA,MAAM,GAAG,CAAC,IAAIA,MAAM,GAAG,EAAE,EAAE,OAAO,IAAI,CAAA;AACnG,IAAA,OAAOC,IAAI,GAAG,EAAE,GAAGD,MAAM,CAAA;GAC1B,CAAA;EAED,MAAM6B,WAAW,GAAG,IAAIC,IAAI,EAAE,CAACC,iBAAiB,EAAE,CAAA;;AAElD;AACA,EAAA,IAAIN,aAAa,CAAClb,QAAQ,CAAC,GAAG,CAAC,EAAE;IAC/Bkb,aAAa,GAAGA,aAAa,CAACO,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAA;AAC9C,IAAA,MAAMlC,OAAO,GAAG4B,iBAAiB,CAACD,aAAa,CAAC,CAAA;AAChD,IAAA,IAAI3B,OAAO,KAAK,IAAI,EAAE,OAAO,IAAI,CAAA;AACjC,IAAA,OAAO,CAACA,OAAO,GAAG+B,WAAW,GAAG5U,cAAc,IAAIA,cAAc,CAAA;AAClE,GAAA;;AAEA;AAAA,OACK,IAAIwU,aAAa,CAAClb,QAAQ,CAAC,GAAG,CAAC,EAAE;IACpC,MAAM,CAAEob,UAAU,EAAEM,YAAY,CAAE,GAAGR,aAAa,CAACzO,KAAK,CAAC,GAAG,CAAC,CAAA;AAE7D,IAAA,MAAM8M,OAAO,GAAG4B,iBAAiB,CAACC,UAAU,CAAC,CAAA;AAC7C,IAAA,IAAIO,aAAa,GAAGR,iBAAiB,CAACO,YAAY,CAAC,CAAA;IAEnD,IAAInC,OAAO,KAAK,IAAI,IAAIoC,aAAa,KAAK,IAAI,EAAE,OAAO,IAAI,CAAA;;AAE3D;IACAA,aAAa,GAAG,CAACA,aAAa,CAAA;IAE9B,OAAO,CAACpC,OAAO,GAAGoC,aAAa,GAAGL,WAAW,GAAG5U,cAAc,IAAIA,cAAc,CAAA;AAClF,GAAA;;AAEA;AAAA,OACK,IAAIwU,aAAa,CAAClb,QAAQ,CAAC,GAAG,CAAC,EAAE;IACpC,MAAM,CAAEob,UAAU,EAAEM,YAAY,CAAE,GAAGR,aAAa,CAACzO,KAAK,CAAC,GAAG,CAAC,CAAA;AAE7D,IAAA,MAAM8M,OAAO,GAAG4B,iBAAiB,CAACC,UAAU,CAAC,CAAA;AAC7C,IAAA,IAAIO,aAAa,GAAGR,iBAAiB,CAACO,YAAY,CAAC,CAAA;IAEnD,IAAInC,OAAO,KAAK,IAAI,IAAIoC,aAAa,KAAK,IAAI,EAAE,OAAO,IAAI,CAAA;IAE3D,OAAO,CAACpC,OAAO,GAAGoC,aAAa,GAAGL,WAAW,GAAG5U,cAAc,IAAIA,cAAc,CAAA;AAClF,GAAA;;AAEA;OACK;IACH,OAAOyU,iBAAiB,CAACD,aAAa,CAAC,CAAA;AACzC,GAAA;AACF,CAAA;AAEO,SAASU,aAAaA,CAACC,IAAI,EAAE;AAClC,EAAA,IAAIC,CAAC,GAAG,IAAIP,IAAI,CAACM,IAAI,CAAC;IAAEE,KAAK,GAAG,EAAE,IAAID,CAAC,CAACE,QAAQ,EAAE,GAAG,CAAC,CAAC;AAAEC,IAAAA,GAAG,GAAG,EAAE,GAAGH,CAAC,CAACI,OAAO,EAAE;AAAEC,IAAAA,IAAI,GAAGL,CAAC,CAACM,WAAW,EAAE,CAAA;EAEvG,IAAIL,KAAK,CAACjb,MAAM,GAAG,CAAC,EAClBib,KAAK,GAAG,GAAG,GAAGA,KAAK,CAAA;EACrB,IAAIE,GAAG,CAACnb,MAAM,GAAG,CAAC,EAChBmb,GAAG,GAAG,GAAG,GAAGA,GAAG,CAAA;EAEjB,OAAO,CAAEE,IAAI,EAAEJ,KAAK,EAAEE,GAAG,CAAE,CAAC9J,IAAI,CAAC,GAAG,CAAC,CAAA;AACvC,CAAA;;AAEA;AACO,SAASkK,oCAAoCA,CAAC9X,KAAK,EAAE;EAE1D,IAAI,CAACA,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE,OAAO,KAAK,CAAA;AAErD,EAAA,MAAM+X,QAAQ,GAAG/X,KAAK,CAACkI,KAAK,CAAC,GAAG,CAAC,CAAA;AACjC,EAAA,IAAI6P,QAAQ,CAACxb,MAAM,IAAI,CAAC,EAAE,OAAO,KAAK,CAAA;EAEtC,MAAMyb,WAAW,GAAGD,QAAQ,CAAC,CAAC,CAAC,CAAC7P,KAAK,CAAC,GAAG,CAAC,CAAA;AAC1C,EAAA,IAAI8P,WAAW,CAACzb,MAAM,IAAI,CAAC,EAAE,OAAO,KAAK,CAAA;AAEzC,EAAA,OAAO,IAAI,CAAA;AAEb,CAAA;;AAEA;AACO,SAAS0b,8BAA8BA,CAACjY,KAAK,EAAE;EAEpD,IAAI,CAACA,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE,OAAO,KAAK,CAAA;EAErD,IAAIA,KAAK,CAACvE,QAAQ,CAAC,GAAG,CAAC,EAAE,OAAO,KAAK,CAAA;AAErC,EAAA,MAAMuc,WAAW,GAAGhY,KAAK,CAACkI,KAAK,CAAC,GAAG,CAAC,CAAA;AACpC,EAAA,IAAI8P,WAAW,CAACzb,MAAM,IAAI,CAAC,EAAE,OAAO,KAAK,CAAA;AAEzC,EAAA,OAAO,IAAI,CAAA;AACb,CAAA;AAEO,SAAS2b,iBAAiBA,CAACZ,IAAI,EAAEa,IAAI,EAAE9B,qBAAqB,EAAE;AAEnE,EAAA,MAAM+B,WAAW,GAAG,IAAIpB,IAAI,EAAE,CAAA;EAC9BoB,WAAW,CAACC,WAAW,CAACf,IAAI,CAACO,WAAW,EAAE,EAAEP,IAAI,CAACG,QAAQ,EAAE,EAAEH,IAAI,CAACK,OAAO,EAAE,CAAC,CAAA;AAC5ES,EAAAA,WAAW,CAACE,QAAQ,CAAClD,IAAI,CAACC,KAAK,CAAC8C,IAAI,GAAG,EAAE,CAAC,EAAEA,IAAI,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;AAE5D,EAAA,IAAI9B,qBAAqB,KAAK7T,wBAAwB,CAACE,cAAc,EAAE;AAErE,IAAA,MAAM6V,qBAAqB,GAAGH,WAAW,CAACnB,iBAAiB,EAAE,CAAA;AAC7D,IAAA,MAAMuB,SAAS,GAAIL,IAAI,GAAGI,qBAAqB,GAAG,CAAC,GAAI,CAAC,CAAC,GAAMJ,IAAI,GAAGI,qBAAqB,GAAIpW,cAAc,GAAI,CAAC,GAAG,CAAE,CAAA;;AAEvH;AACAiW,IAAAA,WAAW,CAACE,QAAQ,CAACF,WAAW,CAACK,QAAQ,EAAE,GAAGD,SAAS,GAAG,EAAE,CAAC,CAAA;AAC/D,GAAA;AAEA,EAAA,OAAOnB,aAAa,CAACe,WAAW,CAAC,GAAG,GAAG,GAAGhC,aAAa,CAAC+B,IAAI,EAAEC,WAAW,CAACnB,iBAAiB,EAAE,EAAEZ,qBAAqB,CAAC,CAAA;AAEvH,CAAA;AAEO,SAASI,oBAAoBA,CAACzB,OAAO,EAAE;AAC5C,EAAA,OAAO0D,qBAAqB,CAAC1D,OAAO,CAAC,GAAG,GAAG,GAAGM,oBAAoB,CAACF,IAAI,CAACuD,GAAG,CAAC3D,OAAO,GAAG,EAAE,CAAC,CAAC,CAAA;AAC5F,CAAA;AAEO,SAAS4D,mBAAmBA,CAAC5Y,KAAK,EAAE;AACzC,EAAA,OAAOoI,KAAK,CAAC,IAAI4O,IAAI,CAACA,IAAI,CAACpV,KAAK,CAAC5B,KAAK,CAAC,CAAC,CAAC6Y,OAAO,EAAE,CAAC,CAAA;AACrD,CAAA;AAEO,SAASC,eAAeA,GAAG;EAChC,OAAO;IACLxB,IAAI,EAAE,IAAIN,IAAI,CAACA,IAAI,CAACpV,KAAK,CAAC,IAAI,CAAC,CAAC;AAChCuW,IAAAA,IAAI,EAAE,IAAA;GACP,CAAA;AACH,CAAA;AAEO,SAASY,WAAWA,CAACzB,IAAI,EAAE;EAChC,OAAOA,IAAI,IAAI,CAAClP,KAAK,CAACkP,IAAI,CAACuB,OAAO,EAAE,CAAC,CAAA;AACvC,CAAA;AAEO,SAASG,WAAWA,CAACb,IAAI,EAAE;AAChC,EAAA,OAAO,CAAC/P,KAAK,CAACC,QAAQ,CAAC8P,IAAI,CAAC,CAAC,CAAA;AAC/B,CAAA;AAEA,SAASO,qBAAqBA,CAAC1D,OAAO,EAAE;EACtC,IAAIA,OAAO,GAAG,CAAC,EAAE;AACf,IAAA,OAAO,GAAG,GAAGM,oBAAoB,CAACF,IAAI,CAACC,KAAK,CAACL,OAAO,GAAG,EAAE,CAAC,CAAC,CAAA;AAC7D,GAAC,MACI;AACH,IAAA,OAAO,GAAG,GAAGM,oBAAoB,CAACF,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,GAAGL,OAAO,IAAI,EAAE,CAAC,CAAC,CAAA;AACnE,GAAA;AACF,CAAA;AAEA,SAASM,oBAAoBA,CAAC6C,IAAI,EAAE;EAClC,OAAOA,IAAI,CAACc,QAAQ,EAAE,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAA;AACzC;;AC3OA,MAAMC,yBAAyB,GAAG,oBAAoB,CAAC;AACvD,MAAMC,0BAA0B,GAAG,iBAAiB,CAAC;;AAE9C,SAASC,2BAA2BA,CAAC/d,OAAO,EAAE;EACnD,MAAM;IACJqK,SAAS;AACT3F,IAAAA,KAAAA;AACF,GAAC,GAAG1E,OAAO,CAAA;EAEX,MAAM;AAAEge,IAAAA,OAAAA;AAAQ,GAAC,GAAG3T,SAAS,CAAA;AAE7B,EAAA,IAAI,OAAO3F,KAAK,KAAK,QAAQ,EAAE,OAAO,IAAI,CAAA;AAE1C,EAAA,IAAIsZ,OAAO,KAAKlX,iBAAiB,CAACC,IAAI,KAAKuW,mBAAmB,CAAC5Y,KAAK,CAAC,IAAI,CAACiY,8BAA8B,CAACjY,KAAK,CAAC,CAAC,EAAE,OAAO,IAAI,CAAA;AAC7H,EAAA,IAAIsZ,OAAO,KAAKlX,iBAAiB,CAACE,IAAI,IAAIoU,YAAY,CAAC1W,KAAK,CAAC,KAAK,IAAI,EAAE,OAAO,IAAI,CAAA;AACnF,EAAA,IAAIsZ,OAAO,KAAKlX,iBAAiB,CAACG,QAAQ,KAAKqW,mBAAmB,CAAC5Y,KAAK,CAAC,IAAI,CAAC8X,oCAAoC,CAAC9X,KAAK,CAAC,CAAC,EAAE,OAAO,IAAI,CAAA;AAEvI,EAAA,OAAOA,KAAK,CAAA;AACd,CAAA;AAEO,SAASuZ,aAAaA,CAACvZ,KAAK,EAAEwZ,KAAK,EAAE;AAE1C,EAAA,IAAI,CAAC/c,KAAK,CAAC+P,OAAO,CAACgN,KAAK,CAAC,EAAE;AACzB,IAAA,OAAO,KAAK,CAAA;AACd,GAAA;AAEA,EAAA,OAAOA,KAAK,CAACpb,IAAI,CAACqb,OAAO,IAAI7N,OAAO,CAAC5L,KAAK,EAAEyZ,OAAO,CAAC,CAAC,CAAA;AACvD,CAAA;AAEO,SAASC,yBAAyBA,CAACpe,OAAO,EAAE;EACjD,MAAM;IACJqK,SAAS;IACTpF,IAAI;AACJP,IAAAA,KAAAA;AACF,GAAC,GAAG1E,OAAO,CAAA;EAEX,MAAM;AACJ6O,IAAAA,gBAAgB,EAAEC,iBAAAA;AACpB,GAAC,GAAGzE,SAAS,CAAA;EAEb,IAAI;AAEF;AACA;AACA,IAAA,IAAIyE,iBAAiB,EAAE;AACrB,MAAA,OAAOpK,KAAK,CAAA;AACd,KAAA;AAEA,IAAA,MAAM2Z,WAAW,GAAGnP,oBAAoB,CAACP,oBAAoB,CAACtE,SAAS,EAAEpF,IAAI,CAAC,CAAC,CAACrC,GAAG,CAAC0b,CAAC,IAAIA,CAAC,CAAC5Z,KAAK,CAAC,CAAA;IACjG,OAAOuZ,aAAa,CAACvZ,KAAK,EAAE2Z,WAAW,CAAC,GAAG3Z,KAAK,GAAG,IAAI,CAAA;GACxD,CAAC,OAAOQ,KAAK,EAAE;AAEd;AACA;AACA,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;AACF,CAAA;AAEO,SAASqZ,wBAAwBA,CAACve,OAAO,EAAE;EAChD,MAAM;IACJqK,SAAS;IACTpF,IAAI;AACJP,IAAAA,KAAAA;AACF,GAAC,GAAG1E,OAAO,CAAA;EAEX,MAAM;AACJ6O,IAAAA,gBAAgB,EAAEC,iBAAAA;AACpB,GAAC,GAAGzE,SAAS,CAAA;EAEb,IAAI;AAEF;AACA;AACA,IAAA,IAAIyE,iBAAiB,EAAE;AACrB,MAAA,OAAOpK,KAAK,CAAA;AACd,KAAA;AAEA,IAAA,MAAM2Z,WAAW,GAAGnP,oBAAoB,CAACP,oBAAoB,CAACtE,SAAS,EAAEpF,IAAI,CAAC,CAAC,CAACrC,GAAG,CAAC0b,CAAC,IAAIA,CAAC,CAAC5Z,KAAK,CAAC,CAAA;AACjG,IAAA,OAAOA,KAAK,CAAC9C,MAAM,CAAC0c,CAAC,IAAIL,aAAa,CAACK,CAAC,EAAED,WAAW,CAAC,CAAC,CAAA;GACxD,CAAC,OAAOnZ,KAAK,EAAE;AAEd;AACA;AACA,IAAA,OAAO,EAAE,CAAA;AACX,GAAA;AACF,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASsZ,mBAAmBA,CAACC,GAAG,EAAE;AACvC,EAAA,MAAMC,KAAK,GAAGb,yBAAyB,CAACtY,IAAI,CAACkZ,GAAG,CAAC,CAAA;AAEjD,EAAA,OAAOC,KAAK,GAAGD,GAAG,GAAG,EAAE,CAAA;AACzB,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASE,oBAAoBA,CAACF,GAAG,EAAE;AACxC,EAAA,MAAMC,KAAK,GAAGZ,0BAA0B,CAACvY,IAAI,CAACkZ,GAAG,CAAC,CAAA;AAElD,EAAA,OAAOC,KAAK,GAAGD,GAAG,GAAG,EAAE,CAAA;AACzB,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACO,SAASG,UAAUA,CAACrN,IAAI,EAAE;AAC/B,EAAA,MAAMsN,SAAS,GAAG;AAChB,IAAA,GAAG,EAAE,OAAO;AACZ,IAAA,GAAG,EAAE,MAAM;AACX,IAAA,GAAG,EAAE,MAAM;AACX,IAAA,GAAG,EAAE,QAAQ;AACb,IAAA,GAAG,EAAE,QAAQ;AACb,IAAA,GAAG,EAAE,QAAQ;AACb,IAAA,GAAG,EAAE,QAAQ;AACb,IAAA,GAAG,EAAE,OAAO;AACZ,IAAA,GAAG,EAAE,OAAA;GACN,CAAA;AAED,EAAA,OAAOtN,IAAI,CAACqK,OAAO,CAAC,cAAc,EAAEpB,KAAK,IAAIqE,SAAS,CAACrE,KAAK,CAAC,CAAC,CAAA;AAChE;;ACvIO,SAASsE,2BAA2BA,CAAChU,KAAK,EAAE;EAEjD,MAAM;IACJrC,KAAK;IACLzI,OAAO;IACPqR,SAAS;IACT0N,QAAQ;AACRra,IAAAA,KAAAA;AACF,GAAC,GAAGoG,KAAK,CAAA;;AAET;AACA4K,EAAAA,SAAS,CAAC,MAAM;AAEd,IAAA,IAAIrE,SAAS,KAAKd,WAAW,CAACE,MAAM,EAAE;AACpC,MAAA,OAAA;AACF,KAAA;IAEA,MAAMuO,YAAY,GAAGhf,OAAO,CAAC4C,GAAG,CAAC0M,CAAC,IAAIA,CAAC,CAAC5K,KAAK,CAAC,CAAA;IAC9C,MAAMua,oBAAoB,GAAGva,KAAK,IAAI,CAACuZ,aAAa,CAACvZ,KAAK,EAAEsa,YAAY,CAAC,CAAA;AAEzE,IAAA,IAAIC,oBAAoB,EAAE;AACxBF,MAAAA,QAAQ,CAAC;QACPtW,KAAK;AACL/D,QAAAA,KAAK,EAAE,IAAA;AACT,OAAC,CAAC,CAAA;AACJ,KAAA;AAEF,GAAC,EAAE,CAAE+D,KAAK,EAAEzI,OAAO,EAAE+e,QAAQ,EAAEra,KAAK,EAAE2M,SAAS,CAAE,CAAC,CAAA;AAEpD;;AC5BO,SAAS6N,0BAA0BA,CAACpU,KAAK,EAAE;EAEhD,MAAM;IACJrC,KAAK;IACLzI,OAAO;IACPqR,SAAS;IACT0N,QAAQ;AACRpW,IAAAA,MAAAA;AACF,GAAC,GAAGmC,KAAK,CAAA;AAET,EAAA,MAAMqU,cAAc,GAAGhP,qBAAqB,CAACxH,MAAM,IAAI,EAAE,CAAC,CAAA;;AAE1D;AACA+M,EAAAA,SAAS,CAAC,MAAM;AAEd,IAAA,IAAIrE,SAAS,KAAKd,WAAW,CAACE,MAAM,EAAE;AACpC,MAAA,OAAA;AACF,KAAA;IAEA,MAAMuO,YAAY,GAAGhf,OAAO,CAAC4C,GAAG,CAAC0M,CAAC,IAAIA,CAAC,CAAC5K,KAAK,CAAC,CAAA;AAC9C,IAAA,MAAM0a,qBAAqB,GAAGD,cAAc,CAACrc,IAAI,CAACwb,CAAC,IAAI,CAACL,aAAa,CAACK,CAAC,EAAEU,YAAY,CAAC,CAAC,CAAA;AAEvF,IAAA,IAAII,qBAAqB,EAAE;AACzBL,MAAAA,QAAQ,CAAC;QACPtW,KAAK;AACL/D,QAAAA,KAAK,EAAEya,cAAc,CAACvd,MAAM,CAAC0c,CAAC,IAAIL,aAAa,CAACK,CAAC,EAAEU,YAAY,CAAC,CAAA;AAClE,OAAC,CAAC,CAAA;AACJ,KAAA;AAEF,GAAC,EAAE,CAAEvW,KAAK,EAAEzI,OAAO,EAAE+e,QAAQ,EAAEI,cAAc,EAAE9N,SAAS,CAAE,CAAC,CAAA;AAE7D;;ACjCO,SAASgO,WAAWA,CAACvU,KAAK,EAAE;EACjC,MAAM;IAAEwU,WAAW;AAAE7U,IAAAA,EAAAA;AAAG,GAAC,GAAGK,KAAK,CAAA;AAEjC,EAAA,MAAMyU,oBAAoB,GAAG/G,+BAA+B,CAAC8G,WAAW,IAAI,EAAE,EAAE;AAAEvZ,IAAAA,KAAK,EAAE,IAAA;AAAK,GAAC,CAAC,CAAA;EAEhG,IAAI,CAACwZ,oBAAoB,EAAE;AACzB,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;AAEA,EAAA,OAAOrU,GAAA,CAAA,KAAA,EAAA;AAAKT,IAAAA,EAAE,EAAGA,EAAI;AAACU,IAAAA,KAAK,EAAC,4BAA4B;AAAA5J,IAAAA,QAAA,EAAGge,oBAAAA;AAAoB,GAAO,CAAC,CAAA;AACzF;;ACbO,SAASC,MAAMA,CAAC1U,KAAK,EAAE;EAC5B,MAAM;IAAEd,MAAM;AAAES,IAAAA,EAAAA;AAAG,GAAC,GAAGK,KAAK,CAAA;AAE5B,EAAA,IAAI,CAACd,MAAM,CAAC/I,MAAM,EAAE;AAClB,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;AAEA,EAAA,OAAOiK,GAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAC,sBAAsB;AAAC,IAAA,WAAA,EAAU,QAAQ;AAACV,IAAAA,EAAE,EAAGA,EAAI;AAAAlJ,IAAAA,QAAA,EACnE2J,GAAA,CAAA,IAAA,EAAA;AAAA3J,MAAAA,QAAA,EAEIyI,MAAM,CAACpH,GAAG,CAACsC,KAAK,IAAI;AAClB,QAAA,OAAOgG,GAAA,CAAA,IAAA,EAAA;AAAA3J,UAAAA,QAAA,EAAM2D,KAAAA;AAAK,SAAM,CAAC,CAAA;OAC1B,CAAA;KAED,CAAA;AAAC,GACF,CAAC,CAAA;AACR;;ACEO,SAASua,KAAKA,CAAC3U,KAAK,EAAE;EAC3B,MAAM;IACJL,EAAE;IACFiV,OAAO;IACPnX,KAAK;AACLoX,IAAAA,eAAe,GAAG,IAAI;AACtBlT,IAAAA,QAAQ,GAAG,KAAA;AACb,GAAC,GAAG3B,KAAK,CAAA;AAET,EAAA,MAAM8U,cAAc,GAAGpH,+BAA+B,CAACjQ,KAAK,IAAI,EAAE,EAAE;AAAExC,IAAAA,KAAK,EAAE,IAAA;AAAK,GAAC,CAAC,CAAA;AAEpF,EAAA,OACE8Z,IAAA,CAAA,OAAA,EAAA;AAAOpV,IAAAA,EAAE,EAAGA,EAAI;AAACqV,IAAAA,GAAG,EAAGJ,OAAS;AAACvU,IAAAA,KAAK,EAAGhB,UAAU,CAAC,sBAAsB,EAAE;AAAE,MAAA,yBAAyB,EAAE,CAACwV,eAAAA;AAAgB,KAAC,EAAE7U,KAAK,CAAC,OAAO,CAAC,CAAG;IAAAvJ,QAAA,EAAA,CAC1IuJ,KAAK,CAACvJ,QAAQ,EACdqe,cAAc,EAEdnT,QAAQ,IAAIvB,GAAA,CAAA,MAAA,EAAA;AAAMC,MAAAA,KAAK,EAAC,aAAa;MAAC,aAAW,EAAA,IAAA;AAAA5J,MAAAA,QAAA,EAAC,GAAA;AAAC,KAAM,CAAC,CAAA;AAAA,GAEvD,CAAC,CAAA;AAEZ;;AC5BA,MAAMiC,MAAI,GAAG,UAAU,CAAA;AAEhB,SAASuc,QAAQA,CAACjV,KAAK,EAAE;EAC9B,MAAM;IACJb,QAAQ;AACRD,IAAAA,MAAM,GAAG,EAAE;IACXgW,KAAK;IACLhV,MAAM;IACND,OAAO;IACPtC,KAAK;IACLyB,QAAQ;AACRxF,IAAAA,KAAK,GAAG,KAAA;AACV,GAAC,GAAGoG,KAAK,CAAA;EAET,MAAM;IACJwU,WAAW;IACX/W,KAAK;AACL0X,IAAAA,QAAQ,GAAG,EAAC;AACd,GAAC,GAAGxX,KAAK,CAAA;EAET,MAAM;AAAEgE,IAAAA,QAAAA;AAAS,GAAC,GAAGwT,QAAQ,CAAA;EAE7B,MAAMlB,QAAQ,GAAGA,CAAC;AAAEmB,IAAAA,MAAAA;AAAO,GAAC,KAAK;IAC/BpV,KAAK,CAACiU,QAAQ,CAAC;MACbtW,KAAK;MACL/D,KAAK,EAAEwb,MAAM,CAACC,OAAAA;AAChB,KAAC,CAAC,CAAA;GACH,CAAA;AAED,EAAA,MAAMC,aAAa,GAAI,CAAEJ,EAAAA,KAAM,CAAa,YAAA,CAAA,CAAA;AAC5C,EAAA,MAAMK,cAAc,GAAI,CAAEL,EAAAA,KAAM,CAAe,cAAA,CAAA,CAAA;AAE/C,EAAA,OAAOH,IAAA,CAAA,KAAA,EAAA;AAAK1U,IAAAA,KAAK,EAAGhB,UAAU,CAACJ,gBAAgB,CAACvG,MAAI,EAAE;MAAEwG,MAAM;MAAEC,QAAQ;AAAEC,MAAAA,QAAAA;AAAS,KAAC,CAAC,EAAE;AAAE,MAAA,aAAa,EAAExF,KAAAA;AAAM,KAAC,CAAG;IAAAnD,QAAA,EAAA,CAChH2J,GAAA,CAACuU,KAAK,EAAA;AACJC,MAAAA,OAAO,EAAGM,KAAO;AACjBzX,MAAAA,KAAK,EAAGA,KAAO;AACfkE,MAAAA,QAAQ,EAAGA,QAAU;AAAAlL,MAAAA,QAAA,EACrB2J,GAAA,CAAA,OAAA,EAAA;AACEiV,QAAAA,OAAO,EAAGzb,KAAO;AACjByG,QAAAA,KAAK,EAAC,WAAW;AACjBlB,QAAAA,QAAQ,EAAGA,QAAU;AACrBsN,QAAAA,QAAQ,EAAGrN,QAAU;AACrBO,QAAAA,EAAE,EAAGuV,KAAO;AACZxc,QAAAA,IAAI,EAAC,UAAU;AACfub,QAAAA,QAAQ,EAAGA,QAAU;AACrB/T,QAAAA,MAAM,EAAGA,MAAMA,MAAM,IAAIA,MAAM,EAAI;AACnCD,QAAAA,OAAO,EAAGA,MAAMA,OAAO,IAAIA,OAAO,EAAI;AACtC0B,QAAAA,QAAQ,EAAGA,QAAU;AACrB,QAAA,cAAA,EAAezC,MAAM,CAAC/I,MAAM,GAAG,CAAG;QAClC,kBAAmB,EAAA,CAAEmf,aAAa,EAAEC,cAAc,CAAE,CAAC/N,IAAI,CAAC,GAAG,CAAA;OAAK,CAAA;AAAC,KAChE,CAAC,EACRpH,GAAA,CAACmU,WAAW,EAAA;AAAC5U,MAAAA,EAAE,EAAG2V,aAAe;AAACd,MAAAA,WAAW,EAAGA,WAAAA;AAAa,KAAE,CAAC,EAChEpU,GAAA,CAACsU,MAAM,EAAA;AAAC/U,MAAAA,EAAE,EAAG4V,cAAgB;AAACrW,MAAAA,MAAM,EAAGA,MAAAA;AAAQ,KAAE,CAAC,CAAA;AAAA,GAC/C,CAAC,CAAA;AACR,CAAA;AAEA+V,QAAQ,CAAC3U,MAAM,GAAG;QAChB5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,IAAI;AACX9C,EAAAA,KAAK,EAAE,kBAAkB;AACzB+C,EAAAA,KAAK,EAAE,WAAW;AAClBgV,EAAAA,UAAU,EAAE,KAAK;AACjBC,EAAAA,aAAa,EAAEA,CAAC;AAAE7b,IAAAA,KAAAA;GAAO,KAAKA,KAAK,KAAK,IAAI;AAC5C6G,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,MAAM;IACzB,GAAGA,OAAAA;GACJ,CAAA;AACH,CAAC;;AC1DD,MAAMwD,MAAI,GAAG,WAAW,CAAA;AAGjB,SAASgd,SAASA,CAAC1V,KAAK,EAAE;EAC/B,MAAM;IACJb,QAAQ;AACRD,IAAAA,MAAM,GAAG,EAAE;IACXgW,KAAK;IACLhV,MAAM;IACND,OAAO;IACPtC,KAAK;IACLyB,QAAQ;IACRxF,KAAK,EAAEiE,MAAM,GAAG,EAAA;AAClB,GAAC,GAAGmC,KAAK,CAAA;EAET,MAAM;IACJwU,WAAW;IACX/W,KAAK;AACL0X,IAAAA,QAAQ,GAAG,EAAC;AACd,GAAC,GAAGxX,KAAK,CAAA;AAET,EAAA,MAAMgY,WAAW,GAAGpQ,MAAM,EAAE,CAAA;EAE5B,MAAM;AAAE5D,IAAAA,QAAAA;AAAS,GAAC,GAAGwT,QAAQ,CAAA;EAE7B,MAAMS,cAAc,GAAIC,YAAY,IAAK;AAEvC,IAAA,MAAMC,SAAS,GAAG3C,aAAa,CAAC0C,YAAY,EAAEhY,MAAM,CAAC,GACjDA,MAAM,CAAC/G,MAAM,CAAC8C,KAAK,IAAI,CAAC4L,OAAO,CAAC5L,KAAK,EAAEic,YAAY,CAAC,CAAC,GACrD,CAAE,GAAGhY,MAAM,EAAEgY,YAAY,CAAE,CAAA;IAE/B7V,KAAK,CAACiU,QAAQ,CAAC;MACbtW,KAAK;AACL/D,MAAAA,KAAK,EAAEkc,SAAAA;AACT,KAAC,CAAC,CAAA;GACH,CAAA;EAED,MAAMC,cAAc,GAAIC,CAAC,IAAK;IAE5B,IAAIL,WAAW,CAACre,OAAO,CAAC2e,QAAQ,CAACD,CAAC,CAACE,aAAa,CAAC,EAAE;AACjD,MAAA,OAAA;AACF,KAAA;IAEAhW,MAAM,IAAIA,MAAM,EAAE,CAAA;GACnB,CAAA;EAED,MAAMiW,eAAe,GAAIH,CAAC,IAAK;IAE7B,IAAIL,WAAW,CAACre,OAAO,CAAC2e,QAAQ,CAACD,CAAC,CAACE,aAAa,CAAC,EAAE;AACjD,MAAA,OAAA;AACF,KAAA;IAEAjW,OAAO,IAAIA,OAAO,EAAE,CAAA;GACrB,CAAA;EAED,MAAM;IACJsG,SAAS;AACTrR,IAAAA,OAAAA;AACF,GAAC,GAAG2Q,eAAe,CAAClI,KAAK,CAAC,CAAA;AAE1ByW,EAAAA,0BAA0B,CAAC;IACzBzW,KAAK;IACL4I,SAAS;IACTrR,OAAO;IACP2I,MAAM;IACNoW,QAAQ,EAAEjU,KAAK,CAACiU,QAAAA;AAClB,GAAC,CAAC,CAAA;AAEF,EAAA,MAAMqB,aAAa,GAAI,CAAEJ,EAAAA,KAAM,CAAa,YAAA,CAAA,CAAA;AAC5C,EAAA,MAAMK,cAAc,GAAI,CAAEL,EAAAA,KAAM,CAAe,cAAA,CAAA,CAAA;AAE/C,EAAA,OAAOH,IAAA,CAAA,KAAA,EAAA;AAAK1U,IAAAA,KAAK,EAAGhB,UAAU,CAACJ,gBAAgB,CAACvG,MAAI,EAAE;MAAEwG,MAAM;MAAEC,QAAQ;AAAEC,MAAAA,QAAAA;AAAS,KAAC,CAAC,CAAG;AAACkG,IAAAA,GAAG,EAAGqQ,WAAa;IAAAlf,QAAA,EAAA,CAC1G2J,GAAA,CAACuU,KAAK,EAAA;AACJlX,MAAAA,KAAK,EAAGA,KAAO;AACfkE,MAAAA,QAAQ,EAAGA,QAAAA;AAAU,KAAE,CAAC,EAExB4E,SAAS,IAAId,WAAW,CAACE,MAAM,IAAIzQ,OAAO,CAAC4C,GAAG,CAAC,CAAC0M,CAAC,EAAEvN,KAAK,KAAK;AAE3D,MAAA,MAAMmf,SAAS,GAAI,CAAA,EAAElB,KAAM,CAAA,CAAA,EAAGje,KAAM,CAAC,CAAA,CAAA;MACrC,MAAMof,SAAS,GAAGlD,aAAa,CAAC3O,CAAC,CAAC5K,KAAK,EAAEiE,MAAM,CAAC,CAAA;MAEhD,OACEuC,GAAA,CAACuU,KAAK,EAAA;AACJC,QAAAA,OAAO,EAAGwB,SAAW;QACrB3Y,KAAK,EAAG+G,CAAC,CAAC/G,KAAO;QACjB4C,KAAK,EAAGhB,UAAU,CAAC;AACjB,UAAA,aAAa,EAAEgX,SAAAA;AACjB,SAAC,CAAG;AACJ1U,QAAAA,QAAQ,EAAG,KAAO;AAAAlL,QAAAA,QAAA,EAClB2J,GAAA,CAAA,OAAA,EAAA;AACEiV,UAAAA,OAAO,EAAGgB,SAAW;AACrBhW,UAAAA,KAAK,EAAC,WAAW;AACjBlB,UAAAA,QAAQ,EAAGA,QAAU;AACrBsN,UAAAA,QAAQ,EAAGrN,QAAU;AACrBO,UAAAA,EAAE,EAAGyW,SAAW;AAChB1d,UAAAA,IAAI,EAAC,UAAU;UACf4d,OAAO,EAAGA,MAAMV,cAAc,CAACpR,CAAC,CAAC5K,KAAK,CAAG;AACzCsG,UAAAA,MAAM,EAAG6V,cAAgB;AACzB9V,UAAAA,OAAO,EAAGkW,eAAiB;AAC3BxU,UAAAA,QAAQ,EAAGA,QAAU;AACrB,UAAA,cAAA,EAAezC,MAAM,CAAC/I,MAAM,GAAG,CAAG;UAClC,kBAAmB,EAAA,CAAEmf,aAAa,EAAEC,cAAc,CAAE,CAAC/N,IAAI,CAAC,GAAG,CAAA;SAAK,CAAA;AAAC,OAChE,CAAC,CAAA;AAEZ,KAAC,CAAC,EAEJpH,GAAA,CAACmU,WAAW,EAAA;AAAC5U,MAAAA,EAAE,EAAG2V,aAAe;AAACd,MAAAA,WAAW,EAAGA,WAAAA;AAAa,KAAE,CAAC,EAChEpU,GAAA,CAACsU,MAAM,EAAA;AAAC/U,MAAAA,EAAE,EAAG4V,cAAgB;AAACrW,MAAAA,MAAM,EAAGA,MAAAA;AAAQ,KAAE,CAAC,CAAA;AAAA,GAC/C,CAAC,CAAA;AACR,CAAA;AAEAwW,SAAS,CAACpV,MAAM,GAAG;QACjB5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,IAAI;AACX9C,EAAAA,KAAK,EAAE,oBAAoB;AAC3B+C,EAAAA,KAAK,EAAE,WAAW;AAClBgV,EAAAA,UAAU,EAAE,EAAE;AACdC,EAAAA,aAAa,EAAEhC,wBAAwB;AACvChT,EAAAA,MAAM,EAAEiE,kBAAAA;AACV,CAAC;;AC1HD,MAAM6R,MAAI,GAAGA,MAAM,KAAK,CAAA;AAGjB,SAASC,SAASA,CAACxW,KAAK,EAAE;EAC/B,MAAM;IACJrC,KAAK;IACLkC,OAAO;AACPoU,IAAAA,QAAAA;AACF,GAAC,GAAGjU,KAAK,CAAA;AAET,EAAA,MAAMyW,UAAU,GAAGjV,UAAU,CAAC,YAAY,CAAC;AACrCkV,IAAAA,cAAc,GAAGlV,UAAU,CAAC,gBAAgB,EAAE,KAAK,CAAC;AACpDmV,IAAAA,YAAY,GAAGnV,UAAU,CAAC,cAAc,CAAC;AACzC/H,IAAAA,QAAQ,GAAG+H,UAAU,CAAC,UAAU,CAAC;AACjCoV,IAAAA,IAAI,GAAGpV,UAAU,CAAC,MAAM,CAAC,CAAA;EAE/B,MAAM;IACJsE,WAAW;IACX3L,IAAI;IACJ+E,MAAM;AACNsN,IAAAA,UAAAA;AACF,GAAC,GAAGoK,IAAI,CAAC7Q,SAAS,EAAE,CAAA;EAEpB,MAAM;IACJ/E,OAAO;IACPH,MAAM;AACNK,IAAAA,MAAAA;AACF,GAAC,GAAGO,UAAU,CAACf,iBAAiB,CAAC,CAAA;EAEjC,MAAM;AAAEd,IAAAA,MAAAA;AAAO,GAAC,GAAG6B,UAAU,CAACF,WAAW,CAAC,CAAA;;AAE1C;AACA;EACA,MAAM,CAAEsV,wBAAwB,EAAEC,2BAA2B,CAAE,GAAGC,QAAQ,CAAC,CAAC,CAACL,cAAc,CAAC,CAAA;EAE5F,MAAMM,kBAAkB,GAAGP,UAAU,CAAC3Y,GAAG,CAACH,KAAK,CAACjF,IAAI,CAAC,CAAA;EAErD,IAAI,CAACse,kBAAkB,EAAE;IACvB,MAAM,IAAI/c,KAAK,CAAE,CAAA,qBAAA,EAAuB0D,KAAK,CAACjF,IAAK,GAAE,CAAC,CAAA;AACxD,GAAA;AAEA,EAAA,MAAMue,WAAW,GAAGD,kBAAkB,CAAC1W,MAAM,CAAA;EAE7C,MAAM4W,SAAS,GAAGvT,OAAO,CAAC,MAAMgT,YAAY,CAACQ,YAAY,CAACxZ,KAAK,EAAE;AAAEkC,IAAAA,OAAAA;GAAS,CAAC,EAAE,CAAElC,KAAK,EAAEkC,OAAO,EAAE8W,YAAY,CAAE,CAAC,CAAA;AAEhH,EAAA,MAAMS,YAAY,GAAGzT,OAAO,CAAC,MAAM7F,GAAG,CAACgI,WAAW,EAAEoR,SAAS,CAAC,EAAE,CAAEpR,WAAW,EAAEoR,SAAS,CAAE,CAAC,CAAA;AAE3F,EAAA,MAAM9X,QAAQ,GAAGmN,WAAW,CAAC5O,KAAK,EAAE6O,UAAU,CAAC,CAAA;AAE/C,EAAA,MAAM5S,KAAK,GAAGkE,GAAG,CAAC3D,IAAI,EAAE+c,SAAS,CAAC,CAAA;;AAElC;AACA,EAAA,MAAM/X,QAAQ,GAAG,CAACqN,UAAU,CAACC,QAAQ,KACnCD,UAAU,CAACrN,QAAQ,IAAIxB,KAAK,CAACwB,QAAQ,IAAI,KAAK,CAC/C,CAAA;;AAED;AACAyL,EAAAA,SAAS,CAAC,MAAM;IAEd,IAAI,CAAC8L,cAAc,EAAE;AACnB,MAAA,OAAA;AACF,KAAA;IAEA,MAAMW,eAAe,GAAGA,MAAM;MAC5BP,2BAA2B,CAAC,IAAI,CAAC,CAAA;KAClC,CAAA;AAEDrd,IAAAA,QAAQ,CAAC6d,EAAE,CAAC,aAAa,EAAED,eAAe,CAAC,CAAA;AAC3C5d,IAAAA,QAAQ,CAAC6d,EAAE,CAAC,OAAO,EAAED,eAAe,CAAC,CAAA;AAErC,IAAA,OAAO,MAAM;AACX5d,MAAAA,QAAQ,CAAC8d,GAAG,CAAC,aAAa,EAAEF,eAAe,CAAC,CAAA;AAC5C5d,MAAAA,QAAQ,CAAC8d,GAAG,CAAC,OAAO,EAAEF,eAAe,CAAC,CAAA;KACvC,CAAA;AAEH,GAAC,EAAE,CAAE5d,QAAQ,EAAEid,cAAc,CAAE,CAAC,CAAA;AAEhC9L,EAAAA,SAAS,CAAC,MAAM;IAEd,MAAM4M,eAAe,GAAGJ,YAAY,IAAI,CAAC5R,OAAO,CAAC4R,YAAY,EAAE,EAAE,CAAC,CAAA;IAElE,IAAIP,wBAAwB,IAAIW,eAAe,EAAE;MAC/CV,2BAA2B,CAAC,KAAK,CAAC,CAAA;MAClCJ,cAAc,CAACe,qBAAqB,CAAC9Z,KAAK,EAAEyZ,YAAY,EAAEvX,OAAO,CAAC,CAAA;AACpE,KAAA;AAEF,GAAC,EAAE,CAAE6W,cAAc,EAAE/Y,KAAK,EAAEyZ,YAAY,EAAEP,wBAAwB,EAAEhX,OAAO,CAAE,CAAC,CAAA;AAE9E,EAAA,MAAMK,MAAM,GAAG4H,WAAW,CAAC,MAAM;AAE/B,IAAA,MAAMlO,KAAK,GAAGkE,GAAG,CAAC3D,IAAI,EAAE+c,SAAS,CAAC,CAAA;AAElC,IAAA,IAAIL,wBAAwB,EAAE;MAC5BC,2BAA2B,CAAC,KAAK,CAAC,CAAA;MAClCJ,cAAc,CAACe,qBAAqB,CAAC9Z,KAAK,EAAE/D,KAAK,EAAEiG,OAAO,CAAC,CAAA;AAC7D,KAAA;AAEApG,IAAAA,QAAQ,CAACY,IAAI,CAAC,gBAAgB,EAAE;AAAEkF,MAAAA,SAAS,EAAE5B,KAAAA;AAAM,KAAC,CAAC,CAAA;AAEvD,GAAC,EAAE,CAAElE,QAAQ,EAAEkE,KAAK,EAAEkC,OAAO,EAAE6W,cAAc,EAAEG,wBAAwB,EAAE1c,IAAI,EAAE+c,SAAS,CAAE,CAAC,CAAA;AAE3F,EAAA,MAAMjX,OAAO,GAAG6H,WAAW,CAAC,MAAM;AAChCrO,IAAAA,QAAQ,CAACY,IAAI,CAAC,iBAAiB,EAAE;AAAEkF,MAAAA,SAAS,EAAE5B,KAAAA;AAAM,KAAC,CAAC,CAAA;AACxD,GAAC,EAAE,CAAElE,QAAQ,EAAEkE,KAAK,CAAE,CAAC,CAAA;AAEvB,EAAA,MAAM+Z,MAAM,GAAGnU,YAAY,CAAC5F,KAAK,CAACga,WAAW,IAAIha,KAAK,CAACga,WAAW,CAACC,IAAI,IAAI,IAAI,CAAC,CAAA;AAEhF,EAAA,MAAMC,eAAe,GAAG/P,WAAW,CAAEgQ,MAAM,IAAK;AAE9C;IACAhB,2BAA2B,CAAC,KAAK,CAAC,CAAA;;AAElC;AACA7C,IAAAA,QAAQ,CAACgD,WAAW,CAAC1W,KAAK,GAAG;AAAE,MAAA,GAAGuX,MAAM;AAAEjY,MAAAA,OAAAA;KAAS,GAAGiY,MAAM,CAAC,CAAA;GAC9D,EAAE,CAAE7D,QAAQ,EAAEgD,WAAW,CAAC1W,KAAK,EAAEV,OAAO,CAAE,CAAC,CAAA;AAE5C,EAAA,IAAI6X,MAAM,EAAE;IACV,OAAOtX,GAAA,CAACS,MAAM,EAAA;AAAClD,MAAAA,KAAK,EAAGA,KAAAA;AAAO,KAAE,CAAC,CAAA;AACnC,GAAA;AAEA,EAAA,MAAMuX,KAAK,GAAI,CAAExV,EAAAA,QAAQ,CAAC/B,KAAK,CAACgC,EAAE,EAAEC,MAAM,EAAEC,OAAO,CAAE,CAAC,CAAA,CAAA;EACtD,MAAMkY,WAAW,GAAGja,GAAG,CAACoB,MAAM,EAAE,CAAEvB,KAAK,CAACgC,EAAE,EAAE,GAAG1J,MAAM,CAAC4H,MAAM,CAACgC,OAAO,IAAI,EAAE,CAAC,CAAE,CAAC,IAAI,EAAE,CAAA;AAEpF,EAAA,MAAMmY,gBAAgB,GACpB5X,GAAA,CAAC4W,kBAAkB,EAAA;AAAA,IAAA,GACZhX,KAAK;AACVb,IAAAA,QAAQ,EAAGA,QAAU;AACrBD,IAAAA,MAAM,EAAG6Y,WAAa;AACtB7C,IAAAA,KAAK,EAAGA,KAAO;AACfjB,IAAAA,QAAQ,EAAG9U,QAAQ,IAAIC,QAAQ,GAAGmX,MAAI,GAAGsB,eAAiB;AAC1D3X,IAAAA,MAAM,EAAGf,QAAQ,IAAIC,QAAQ,GAAGmX,MAAI,GAAGrW,MAAQ;AAC/CD,IAAAA,OAAO,EAAGd,QAAQ,IAAIC,QAAQ,GAAGmX,MAAI,GAAGtW,OAAS;AACjDb,IAAAA,QAAQ,EAAGA,QAAU;AACrBxF,IAAAA,KAAK,EAAGA,KAAAA;AAAO,GAChB,CACF,CAAA;EAED,IAAIqd,WAAW,CAACgB,gBAAgB,EAAE;AAChC,IAAA,OAAOD,gBAAgB,CAAA;AACzB,GAAA;EAEA,OACE5X,GAAA,CAACc,MAAM,EAAA;AAACvD,IAAAA,KAAK,EAAGA,KAAO;AAAC0C,IAAAA,KAAK,EAAGf,iBAAiB,CAAC3B,KAAK,CAAG;IAAAlH,QAAA,EACxD2J,GAAA,CAACY,OAAO,EAAA;AAACX,MAAAA,KAAK,EAAC,aAAa;AAAC1C,MAAAA,KAAK,EAAGA,KAAO;AAAAlH,MAAAA,QAAA,EACxCuhB,gBAAAA;KACK,CAAA;AAAC,GACJ,CAAC,CAAA;AAEb;;AC3JO,SAASE,gBAAgBA,CAAClY,KAAK,EAAE;EAEtC,MAAM;AACJc,IAAAA,QAAAA;AACF,GAAC,GAAGW,UAAU,CAACf,iBAAiB,CAAC,CAAA;EAEjC,MAAM;IAAE/C,KAAK;AAAEiD,IAAAA,KAAAA;AAAM,GAAC,GAAGZ,KAAK,CAAA;EAE9B,MAAM;AAAEL,IAAAA,EAAAA;AAAG,GAAC,GAAGhC,KAAK,CAAA;AAEpB,EAAA,MAAMwa,mBAAmB,GAAG3W,UAAU,CAAC,qBAAqB,EAAE,KAAK,CAAC,CAAA;EAEpE,MAAM4W,WAAW,GAAGD,mBAAmB,IAAIA,mBAAmB,CAACE,gBAAgB,CAAC1Y,EAAE,CAAC,CAAA;AAEnF,EAAA,MAAM2Y,QAAQ,GAAGH,mBAAmB,CAACG,QAAQ,CAAA;AAC7C,EAAA,MAAMC,YAAY,GAAGJ,mBAAmB,CAACI,YAAY,CAAA;AAErD,EAAA,OACEH,WAAW,GACPhY,GAAA,CAACoY,sBAAsB,EAAA;AAAA,IAAA,GAAMxY,KAAK;AAAUyY,IAAAA,YAAY,EAAE3X,QAAQ;IAAEF,KAAK;IAAE0X,QAAQ;IAAEC,YAAY;AAAEJ,IAAAA,mBAAAA;AAAmB,GAAM,CAAC,GAC7H/X,GAAA,CAACsY,sBAAsB,EAAA;AAAA,IAAA,GAAM1Y,KAAK;AAAUyY,IAAAA,YAAY,EAAE3X,QAAQ;AAAEF,IAAAA,KAAAA;AAAK,GAAM,CAAC,CAAA;AAExF,CAAA;AAEA,SAAS8X,sBAAsBA,CAAC1Y,KAAK,EAAE;EAErC,MAAM;IACJyY,YAAY;IACZ7X,KAAK;AACLjD,IAAAA,KAAAA;AACF,GAAC,GAAGqC,KAAK,CAAA;EAET,MAAM;AAAEkD,IAAAA,UAAU,GAAG,EAAA;AAAG,GAAC,GAAGvF,KAAK,CAAA;AAEjC,EAAA,MAAMgb,OAAO,GAAG,CAACzV,UAAU,CAAC/M,MAAM,CAAA;EAElC,OACE4e,IAAA,CAAC0D,YAAY,EAAA;AAACpY,IAAAA,KAAK,EAAC,iEAAiE;AAAC1C,IAAAA,KAAK,EAAGA,KAAO;IAAAlH,QAAA,EAAA,CACnG2J,GAAA,CAACwY,YAAY,EAAA;MAAA,GAAM5Y,KAAAA;AAAK,KAAI,CAAC,EAC3B2Y,OAAO,GAAGvY,GAAA,CAACQ,KAAK,EAAA;AAACjD,MAAAA,KAAK,EAAGA,KAAAA;KAAS,CAAC,GAAG,IAAI,CAAA;AAAA,GAChC,CAAC,CAAA;AAEnB,CAAA;AAEA,SAAS6a,sBAAsBA,CAACxY,KAAK,EAAE;EAErC,MAAM;IACJyY,YAAY;IACZN,mBAAmB;IACnBvX,KAAK;IACLjD,KAAK;IACL,GAAGkb,SAAAA;AACL,GAAC,GAAG7Y,KAAK,CAAA;EAET,MAAM;AAAEkD,IAAAA,UAAU,GAAG,EAAA;AAAG,GAAC,GAAGvF,KAAK,CAAA;EAEjC,MAAMmb,cAAc,GAAG/B,QAAQ,CAAC;AAAEgC,IAAAA,WAAW,EAAE,IAAA;AAAK,GAAC,CAAC,CAAA;AAEtD,EAAA,MAAMT,QAAQ,GAAGH,mBAAmB,CAACG,QAAQ,CAAA;AAC7C,EAAA,MAAMC,YAAY,GAAGJ,mBAAmB,CAACI,YAAY,CAAA;EAErD,OAAOxD,IAAA,CAAAiE,QAAA,EAAA;IAAAviB,QAAA,EAAA,CACLse,IAAA,CAAC0D,YAAY,EAAA;AAACpY,MAAAA,KAAK,EAAC,iEAAiE;AAAC1C,MAAAA,KAAK,EAAGA,KAAO;AAAAlH,MAAAA,QAAA,EACjG6hB,CAAAA,QAAQ,GAAGlY,GAAA,CAACkY,QAAQ,EAAA;AAAQ,QAAA,GAAGO,SAAS;QAAEC,cAAc;QAAEnb,KAAK;AAAEib,QAAAA,YAAAA;AAAY,OAAM,CAAC,GAAGxY,GAAA,CAACwY,YAAY,EAAA;AAAQ,QAAA,GAAGC,SAAS;AAAElb,QAAAA,KAAAA;OAAW,CAAC,EACtI,CAACuF,UAAU,CAAC/M,MAAM,GAAGiK,GAAA,CAACQ,KAAK,EAAA;AAACjD,QAAAA,KAAK,EAAGA,KAAAA;OAAS,CAAC,GAAG,IAAI,CAAA;AAAA,KAC3C,CAAC,EACb4a,YAAY,GAAGnY,GAAA,CAACmY,YAAY,EAAA;AAAQ,MAAA,GAAGM,SAAS;MAAEC,cAAc;AAAEnb,MAAAA,KAAAA;KAAW,CAAC,GAAG,IAAI,CAAA;AAAA,GACvF,CAAC,CAAA;AACL,CAAA;AAEA,SAASib,YAAYA,CAAC5Y,KAAK,EAAE;EAE3B,MAAM;IAAErC,KAAK;AAAEkC,IAAAA,OAAAA;AAAQ,GAAC,GAAGG,KAAK,CAAA;EAChC,MAAM;AAAEL,IAAAA,EAAE,EAAEsZ,QAAQ;AAAEC,IAAAA,iBAAiB,GAAG,OAAA;AAAQ,GAAC,GAAGvb,KAAK,CAAA;AAE3D,EAAA,MAAMwb,YAAY,GAAG3X,UAAU,CAAC,cAAc,CAAC,CAAA;AAC/C,EAAA,MAAM4X,iBAAiB,GAAG5X,UAAU,CAAC,mBAAmB,CAAC,CAAA;AACzD,EAAA,MAAM6X,IAAI,GAAGF,YAAY,CAACG,OAAO,CAACL,QAAQ,CAAC,CAAA;EAE3C,MAAM;AACJhY,IAAAA,GAAAA;AACF,GAAC,GAAGQ,UAAU,CAACf,iBAAiB,CAAC,CAAA;EAEjC,OAAOqU,IAAA,CAAAiE,QAAA,EAAA;IAAAviB,QAAA,EAAA,CAAE,GAAC,EACR4iB,IAAI,CAACvhB,GAAG,CAACyhB,GAAG,IAAI;MACd,MAAM;AACJrW,QAAAA,UAAU,GAAG,EAAA;AACf,OAAC,GAAGqW,GAAG,CAAA;AAEP,MAAA,IAAI,CAACrW,UAAU,CAAC/M,MAAM,EAAE;AACtB,QAAA,OAAO,IAAI,CAAA;AACb,OAAA;MAEA,OACEiK,GAAA,CAACa,GAAG,EAAA;AAACsY,QAAAA,GAAG,EAAGA,GAAK;AAAClZ,QAAAA,KAAK,EAAC,yBAAyB;AAACU,QAAAA,KAAK,EAAG;AAAEyY,UAAAA,UAAU,EAAEN,iBAAAA;SAAqB;AAAAziB,QAAAA,QAAA,EAExFyM,UAAU,CAACpL,GAAG,CAAC2hB,OAAO,IAAI;AAExB,UAAA,MAAMC,UAAU,GAAGN,iBAAiB,CAACtb,GAAG,CAAC2b,OAAO,CAAC,CAAA;UAEjD,IAAI,CAACC,UAAU,EAAE;AACf,YAAA,OAAO,IAAI,CAAA;AACb,WAAA;UAEA,OACEC,aAAA,CAACnD,SAAS,EAAA;AAAA,YAAA,GACHxW,KAAK;AACV+B,YAAAA,GAAG,EAAG0X,OAAS;AACf9b,YAAAA,KAAK,EAAG+b,UAAY;AACpB7Z,YAAAA,OAAO,EAAGA,OAAAA;AAAS,WAAE,CAAC,CAAA;SAE3B,CAAA;AAAC,OAED,CAAC,CAAA;KAET,CAAC,EACH,GAAC,CAAA;AAAA,GAAE,CAAC,CAAA;AACP;;ACzHO,SAAS+Z,OAAOA,CAAC5Z,KAAK,EAAE;EAE7B,MAAM;AACJY,IAAAA,KAAAA;AACF,GAAC,GAAGa,UAAU,CAACf,iBAAiB,CAAC,CAAA;AAEjC,EAAA,MAAMmZ,SAAS,GAAG;AAAE,IAAA,GAAG7Z,KAAK;AAAEY,IAAAA,KAAAA;GAAO,CAAA;EAErC,OAAOR,GAAA,CAAC8X,gBAAgB,EAAA;IAAA,GAAM2B,SAAAA;AAAS,GAAI,CAAC,CAAA;AAC9C,CAAA;AAEAD,OAAO,CAACtZ,MAAM,GAAG;AACf5H,EAAAA,IAAI,EAAE,SAAS;AACf6H,EAAAA,KAAK,EAAE,KAAK;AACZ9C,EAAAA,KAAK,EAAE,IAAI;AACX+C,EAAAA,KAAK,EAAE,IAAI;AACXC,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,MAAM;AACzBgO,IAAAA,UAAU,EAAE,EAAE;IACd,GAAGhO,OAAAA;GACJ,CAAA;AACH,CAAC;;ACxBD,IAAI4kB,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,WAAW,GAAG,SAAS,WAAW,CAAC,KAAK,EAAE;AAC9C,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,MAAM;AAChB,IAAI,OAAO,EAAE,WAAW;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,6IAA6I;AACpJ,IAAI,QAAQ,EAAE,SAAS;AACvB,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,mBAAe,WAAW;;ACjB1B;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASE,mBAAmBA,CAACC,MAAM,GAAG,SAAS,EAAE;EACtD,MAAM/hB,KAAK,GAAG,IAAIgiB,IAAI,CAACC,cAAc,CAACF,MAAM,CAAC,CAACG,aAAa,CAAC,IAAIxJ,IAAI,CAACA,IAAI,CAACyJ,GAAG,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAA;AAC3F,EAAA,OAAOniB,KAAK,CAACJ,GAAG,CAACwiB,IAAI,IAAI;AACvB,IAAA,MAAMC,GAAG,GAAGD,IAAI,CAAC1gB,KAAK,CAACzD,MAAM,CAAA;IAC7B,QAAQmkB,IAAI,CAAC5hB,IAAI;AACjB,MAAA,KAAK,KAAK;AAAE,QAAA,OAAO,GAAG,CAAC8hB,MAAM,CAACD,GAAG,CAAC,CAAA;AAClC,MAAA,KAAK,OAAO;AAAE,QAAA,OAAO,GAAG,CAACC,MAAM,CAACD,GAAG,CAAC,CAAA;AACpC,MAAA,KAAK,MAAM;AAAE,QAAA,OAAO,GAAG,CAACC,MAAM,CAACD,GAAG,CAAC,CAAA;AACnC,MAAA;QAAS,OAAOD,IAAI,CAAC1gB,KAAK,CAAA;AAC1B,KAAA;AACF,GAAC,CAAC,CAAC4N,IAAI,CAAC,EAAE,CAAC,CAAA;AACb,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASiT,2BAA2BA,CAACR,MAAM,EAAE;EAClD,IAAIS,MAAM,GAAGV,mBAAmB,CAACC,MAAM,CAAC,CAAC1K,WAAW,EAAE,CAAA;;AAEtD;AACA,EAAA,IAAI,CAACmL,MAAM,CAACrlB,QAAQ,CAAC,IAAI,CAAC,EAAE;IAC1BqlB,MAAM,GAAGA,MAAM,CAAC5J,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,CAAA;AACpC,GAAA;;AAEA;AACA,EAAA,IAAI,CAAC4J,MAAM,CAACrlB,QAAQ,CAAC,IAAI,CAAC,EAAE;IAC1BqlB,MAAM,GAAGA,MAAM,CAAC5J,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,CAAA;AACpC,GAAA;AAEA,EAAA,OAAO4J,MAAM,CAAA;AACf,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,4BAA4BA,CAACV,MAAM,EAAE;AACnD,EAAA,OAAOW,uBAAuB,CAACZ,mBAAmB,CAACC,MAAM,CAAC,CAAC,CAAA;AAC7D,CAAA;AAEA,SAASW,uBAAuBA,CAACC,UAAU,EAAE;AAE3C,EAAA,MAAMC,cAAc,GAAG;AACrBxJ,IAAAA,GAAG,EAAEuJ,UAAU,CAACxlB,QAAQ,CAAC,IAAI,CAAC;AAC9B+b,IAAAA,KAAK,EAAEyJ,UAAU,CAACxlB,QAAQ,CAAC,IAAI,CAAC;AAChCmc,IAAAA,IAAI,EAAEqJ,UAAU,CAACxlB,QAAQ,CAAC,MAAM,CAAA;GACjC,CAAA;EAEDwlB,UAAU,GAAGC,cAAc,CAACxJ,GAAG,GAAGuJ,UAAU,CAAC/J,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG+J,UAAU,CAAC/J,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAA;EAC9F+J,UAAU,GAAGC,cAAc,CAAC1J,KAAK,GAAGyJ,UAAU,CAAC/J,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG+J,UAAU,CAAC/J,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAA;EAChG+J,UAAU,GAAGC,cAAc,CAACtJ,IAAI,GAAGqJ,UAAU,CAAC/J,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG+J,UAAU,CAAC/J,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAA;AAElG,EAAA,OAAO+J,UAAU,CAAA;AACnB;;AChEO,SAASE,YAAYA,CAAC/a,KAAK,EAAE;EAElC,MAAM;IACJgb,GAAG;IACHC,IAAI;IACJC,OAAO;IACPC,QAAQ;IACR1kB,QAAQ;IACR0I,QAAQ;IACRC,QAAQ;AACRgc,IAAAA,SAAAA;AACF,GAAC,GAAGpb,KAAK,CAAA;AAET,EAAA,MAAMqb,gBAAgB,GAAGA,MAAMF,QAAQ,IAAIA,QAAQ,CAAC7jB,OAAO,IAAI6jB,QAAQ,CAAC7jB,OAAO,CAACmX,KAAK,EAAE,CAAA;AAEvF,EAAA,OAAOsG,IAAA,CAAA,KAAA,EAAA;AAAK1U,IAAAA,KAAK,EAAGhB,UAAU,CAAC,iBAAiB,EAAE;AAAE,MAAA,cAAc,EAAEF,QAAQ;AAAE,MAAA,cAAc,EAAEC,QAAAA;AAAS,KAAC,EAAE;AAAE,MAAA,WAAW,EAAEgc,SAAAA;AAAU,KAAC,CAAG;AAAC9V,IAAAA,GAAG,EAAG4V,OAAS;IAAAzkB,QAAA,EAAA,CACnJukB,GAAG,IAAIjG,IAAA,CAAA,MAAA,EAAA;AAAM1U,MAAAA,KAAK,EAAC,qDAAqD;AAACiW,MAAAA,OAAO,EAAG+E,gBAAkB;MAAA5kB,QAAA,EAAA,CAAC,GAAC,EAAEoD,QAAQ,CAACmhB,GAAG,CAAC,GAAG5a,GAAA,CAAA,MAAA,EAAA;AAAMC,QAAAA,KAAK,EAAC,0BAA0B;AAAA5J,QAAAA,QAAA,EAAGukB,GAAAA;AAAG,OAAQ,CAAC,GAAGA,GAAG,EAAE,GAAC,CAAA;AAAA,KAAM,CAAC,EAC9LvkB,QAAQ,EACRwkB,IAAI,IAAIlG,IAAA,CAAA,MAAA,EAAA;AAAM1U,MAAAA,KAAK,EAAC,qDAAqD;AAACiW,MAAAA,OAAO,EAAG+E,gBAAkB;MAAA5kB,QAAA,EAAA,CAAC,GAAC,EAAEoD,QAAQ,CAACohB,IAAI,CAAC,GAAG7a,GAAA,CAAA,MAAA,EAAA;AAAMC,QAAAA,KAAK,EAAC,0BAA0B;AAAA5J,QAAAA,QAAA,EAAGwkB,IAAAA;AAAI,OAAQ,CAAC,GAAGA,IAAI,EAAE,GAAC,CAAA;AAAA,KAAM,CAAC,CAAA;AAAA,GACjM,CAAC,CAAA;AAER;;ACbO,SAASK,UAAUA,CAACtb,KAAK,EAAE;EAEhC,MAAM;IACJvC,KAAK;IACLyX,KAAK;IACLqG,oBAAoB;IACpBC,cAAc;IACdC,eAAe;IACf9Z,QAAQ;IACRxC,QAAQ;IACRuc,mBAAmB;AACnBxK,IAAAA,IAAI,EAAEyK,UAAU;IAChBvc,QAAQ;AACRwc,IAAAA,OAAAA;AACF,GAAC,GAAG5b,KAAK,CAAA;AAET,EAAA,MAAM6b,YAAY,GAAGtW,MAAM,EAAE,CAAA;AAC7B,EAAA,MAAMuW,aAAa,GAAGvW,MAAM,EAAE,CAAA;EAE9B,MAAM,CAAE4I,iBAAiB,EAAE4N,oBAAoB,CAAE,GAAGhF,QAAQ,CAAC,IAAI,CAAC,CAAA;EAClE,MAAM,CAAEiF,YAAY,EAAEC,eAAe,CAAE,GAAGlF,QAAQ,CAAC,KAAK,CAAC,CAAA;EACzD,MAAM,CAAEmF,kBAAkB,EAAEC,qBAAqB,CAAE,GAAGpF,QAAQ,CAAC,KAAK,CAAC,CAAA;;AAErE;AACA,EAAA,MAAM7F,IAAI,GAAG7L,qBAAqB,CAACsW,UAAU,CAAC,CAAA;;AAE9C;AACA/Q,EAAAA,SAAS,CAAC,MAAM;AAEd,IAAA,IAAI,CAACuD,iBAAiB,IAAI,CAACA,iBAAiB,CAAC7N,MAAM,EAAE,OAAA;AAErD6N,IAAAA,iBAAiB,CAACyN,OAAO,CAAC1K,IAAI,EAAE,IAAI,CAAC,CAAA;IACrC+K,eAAe,CAAC,KAAK,CAAC,CAAA;AAExB,GAAC,EAAE,CAAE9N,iBAAiB,EAAE+C,IAAI,CAAE,CAAC,CAAA;AAE/BtG,EAAAA,SAAS,CAAC,MAAM;IAEd,IAAI,CAACsR,kBAAkB,EAAE,OAAA;IAEzBhO,0BAA0B,CAACC,iBAAiB,CAAC,CAAA;IAC7CgO,qBAAqB,CAAC,KAAK,CAAC,CAAA;AAE9B,GAAC,EAAE,CAAEhO,iBAAiB,EAAE+N,kBAAkB,CAAE,CAAC,CAAA;;AAE7C;AACAtR,EAAAA,SAAS,CAAC,MAAM;AAEd,IAAA,IAAItK,MAAM,GAAG;AACX8b,MAAAA,UAAU,EAAE,IAAI;MAChBvB,UAAU,EAAEF,4BAA4B,EAAE;AAC1C0B,MAAAA,MAAM,EAAE,IAAI;AACZC,MAAAA,UAAU,EAAE,KAAK;AAEjB;AACAC,MAAAA,OAAO,EAAEb,mBAAmB,GAAG,OAAO,GAAG,YAAY;MACrDc,YAAY,EAAEA,MAAM,kHAAE;KACvB,CAAA;IAED,MAAMC,QAAQ,GAAGC,SAAS,CAACb,YAAY,CAACvkB,OAAO,EAAEgJ,MAAM,CAAC,CAAA;IAExDyb,oBAAoB,CAACU,QAAQ,CAAC,CAAA;IAE9B,MAAME,kBAAkB,GAAI3G,CAAC,IAAK;AAChC,MAAA,IAAI,CAACyG,QAAQ,CAACnO,iBAAiB,CAAC2H,QAAQ,CAACD,CAAC,CAACE,aAAa,CAAC,IAAIF,CAAC,CAACE,aAAa,IAAI2F,YAAY,CAACvkB,OAAO,EAAE;QACpGmlB,QAAQ,CAACG,KAAK,EAAE,CAAA;AAClB,OAAA;KACD,CAAA;;AAED;IACA,MAAMC,mBAAmB,GAAI7G,CAAC,IAAK;MACjC,IAAIA,CAAC,CAACZ,MAAM,CAACpW,SAAS,CAACiX,QAAQ,CAAC,eAAe,CAAC,EAAE;QAChDgG,eAAe,CAAC,KAAK,CAAC,CAAA;AACxB,OAAA;KACD,CAAA;;AAED;AACA;AACAQ,IAAAA,QAAQ,CAACnc,MAAM,CAACwc,MAAM,GAAG,CACvB,MAAML,QAAQ,CAACnO,iBAAiB,CAACjC,gBAAgB,CAAC,UAAU,EAAEsQ,kBAAkB,CAAC,EACjF,MAAMF,QAAQ,CAACnO,iBAAiB,CAACjC,gBAAgB,CAAC,WAAW,EAAEwQ,mBAAmB,CAAC,CACpF,CAAA;AAEDJ,IAAAA,QAAQ,CAACnc,MAAM,CAACyc,OAAO,GAAG,CACxB,MAAMN,QAAQ,CAACnO,iBAAiB,CAAChC,mBAAmB,CAAC,UAAU,EAAEqQ,kBAAkB,CAAC,EACpF,MAAMF,QAAQ,CAACnO,iBAAiB,CAAChC,mBAAmB,CAAC,WAAW,EAAEuQ,mBAAmB,CAAC,CACvF,CAAA;AAEH,GAAC,EAAE,CAAEnB,mBAAmB,CAAE,CAAC,CAAA;;AAE3B;AACA9Q,EAAAA,SAAS,CAAC,MAAM;AAEd,IAAA,IAAI,CAACuD,iBAAiB,IAAI,CAACA,iBAAiB,CAAC7N,MAAM,EAAE,OAAA;IAErD6N,iBAAiB,CAAC7N,MAAM,CAAC2T,QAAQ,GAAG,CAAG/C,IAAI,IAAK0K,OAAO,CAAC,IAAIhL,IAAI,CAACM,IAAI,CAAC,CAAC,EAAE,MAAM+K,eAAe,CAAC,KAAK,CAAC,CAAE,CAAA;AAEzG,GAAC,EAAE,CAAE9N,iBAAiB,EAAEyN,OAAO,CAAE,CAAC,CAAA;AAElC,EAAA,MAAMoB,cAAc,GAAGlV,WAAW,CAC/BkO,CAAC,IAAK;IAEL,IAAI,CAAC7H,iBAAiB,EAAE,OAAA;AAExB,IAAA,IAAI6H,CAAC,CAAClI,IAAI,KAAK,QAAQ,EAAE;MACvBK,iBAAiB,CAACyO,KAAK,EAAE,CAAA;AAC3B,KAAA;AAEA,IAAA,IAAI5G,CAAC,CAAClI,IAAI,KAAK,WAAW,EAAE;AAE1B,MAAA,IAAIkO,YAAY,EAAE;AAEhB;AACAH,QAAAA,YAAY,CAACvkB,OAAO,CAAC2lB,aAAa,CAACrP,mBAAmB,CAAC,CAAA;QACvDqO,eAAe,CAAC,KAAK,CAAC,CAAA;QACtBE,qBAAqB,CAAC,IAAI,CAAC,CAAA;AAC7B,OAAC,MACI;AAEH;QACAjO,0BAA0B,CAACC,iBAAiB,CAAC,CAAA;AAC/C,OAAA;MAEA6H,CAAC,CAACkH,cAAc,EAAE,CAAA;AACpB,KAAA;AAEA,IAAA,IAAIlH,CAAC,CAAClI,IAAI,KAAK,OAAO,EAAE;MACtBmO,eAAe,CAAC,KAAK,CAAC,CAAA;AACxB,KAAA;AACF,GAAC,EACD,CAAE9N,iBAAiB,EAAE6N,YAAY,CACnC,CAAC,CAAA;AAED,EAAA,MAAMmB,YAAY,GAAGrV,WAAW,CAC7BkO,CAAC,IAAK;AAEL,IAAA,IAAI,CAAC7H,iBAAiB,IAAI2N,aAAa,CAACxkB,OAAO,CAAC2e,QAAQ,CAACD,CAAC,CAACE,aAAa,CAAC,IAAI9W,QAAQ,EAAE,OAAA;IACvF+O,iBAAiB,CAACE,IAAI,EAAE,CAAA;IACxBoN,eAAe,CAACzF,CAAC,CAAC,CAAA;GAEnB,EAAE,CAAE7H,iBAAiB,EAAE/O,QAAQ,EAAEqc,eAAe,CACnD,CAAC,CAAA;;AAED;AACA,EAAA,MAAM2B,WAAW,GAAGtV,WAAW,CAC5BkO,CAAC,IAAK;AAEL,IAAA,MAAMqH,WAAW,GAAGrH,CAAC,CAACE,aAAa,IAAIF,CAAC,CAACE,aAAa,CAAClX,SAAS,CAACiX,QAAQ,CAAC,eAAe,CAAC,CAAA;AAC1F,IAAA,IAAIoH,WAAW,EAAE,OAAA;AACjB,IAAA,IAAIrB,YAAY,EAAE;AAChBH,MAAAA,YAAY,CAACvkB,OAAO,CAAC2lB,aAAa,CAACrP,mBAAmB,CAAC,CAAA;MACvDqO,eAAe,CAAC,KAAK,CAAC,CAAA;AACxB,KAAA;IAEAT,cAAc,CAACxF,CAAC,CAAC,CAAA;AAEnB,GAAC,EAAE,CAAEgG,YAAY,EAAER,cAAc,CACnC,CAAC,CAAA;AAED,EAAA,OAAOzG,IAAA,CAAA,KAAA,EAAA;AAAK1U,IAAAA,KAAK,EAAC,yBAAyB;IAAA5J,QAAA,EAAA,CACzC2J,GAAA,CAACuU,KAAK,EAAA;AACJC,MAAAA,OAAO,EAAGM,KAAO;AACjBzX,MAAAA,KAAK,EAAGA,KAAO;AACfoX,MAAAA,eAAe,EAAG0G,oBAAsB;AACxC5Z,MAAAA,QAAQ,EAAGA,QAAAA;AAAU,KAAE,CAAC,EAC1BvB,GAAA,CAAC2a,YAAY,EAAA;AACXC,MAAAA,GAAG,EAAG5a,GAAA,CAACkd,YAAY,IAAE,CAAG;AACxBne,MAAAA,QAAQ,EAAGA,QAAU;AACrBC,MAAAA,QAAQ,EAAGA,QAAU;AACrB8b,MAAAA,OAAO,EAAGY,aAAe;AACzBX,MAAAA,QAAQ,EAAGU,YAAc;AAAAplB,MAAAA,QAAA,EACzB2J,GAAA,CAAA,KAAA,EAAA;AAAKC,QAAAA,KAAK,EAAC,gBAAgB;AAACU,QAAAA,KAAK,EAAG;AAAEwc,UAAAA,KAAK,EAAE,MAAA;SAAU;AAAA9mB,QAAAA,QAAA,EACrD2J,GAAA,CAAA,OAAA,EAAA;AAAOkF,UAAAA,GAAG,EAAGuW,YAAc;AACzBnjB,UAAAA,IAAI,EAAC,MAAM;AACXiH,UAAAA,EAAE,EAAGuV,KAAO;AACZ7U,UAAAA,KAAK,EAAC,WAAW;AACjBlB,UAAAA,QAAQ,EAAGA,QAAU;AACrBsN,UAAAA,QAAQ,EAAGrN,QAAU;UACrBoe,WAAW,EAAG/C,2BAA2B,EAAI;AAC7CgD,UAAAA,YAAY,EAAC,KAAK;AAClBxd,UAAAA,OAAO,EAAGkd,YAAc;AACxBjd,UAAAA,MAAM,EAAGkd,WAAa;AACtBM,UAAAA,SAAS,EAAGV,cAAgB;AAC5BW,UAAAA,WAAW,EAAGA,MAAM,CAACxP,iBAAiB,CAACC,MAAM,IAAI,CAAChP,QAAQ,IAAI+O,iBAAiB,CAACE,IAAI,EAAI;AACxFuP,UAAAA,OAAO,EAAGA,MAAM3B,eAAe,CAAC,IAAI,CAAG;UACvC,YAAU,EAAA,IAAA;UACV,kBAAmBjc,EAAAA,KAAK,CAAC,kBAAkB,CAAA;SAAK,CAAA;OAC/C,CAAA;AAAC,KACM,CAAC,CAAA;AAAA,GACZ,CAAC,CAAA;AAER;;AC1MA,IAAI8Z,OAAK,EAAE+D,QAAM,CAAC;AAClB,SAAS9D,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,QAAQ,GAAG,SAAS,QAAQ,CAAC,KAAK,EAAE;AACxC,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,MAAM;AAChB,IAAI,OAAO,EAAE,WAAW;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,CAAC,EAAE,gDAAgD;AACvD,GAAG,CAAC,CAAC,EAAE+D,QAAM,KAAKA,QAAM,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACpE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,8HAA8H;AACrI,IAAI,QAAQ,EAAE,SAAS;AACvB,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,gBAAe,QAAQ;;AChBvB,MAAMC,oBAAoB,GAAIlkB,KAAK,IAAKA,KAAK,CAAA;AAC7C,MAAMmkB,IAAI,GAAGA,MAAM,EAAE,CAAA;AAEd,SAASC,YAAYA,CAAChe,KAAK,EAAE;EAElC,MAAM;AACJmM,IAAAA,eAAe,GAAGtC,MAAM;AACxBhM,IAAAA,MAAM,GAAG,EAAE;AACXogB,IAAAA,QAAQ,GAAGH,oBAAoB;AAC/BI,IAAAA,eAAe,GAAGH,IAAI;AACtBlS,IAAAA,MAAM,GAAG,GAAG;AACZsS,IAAAA,gBAAgB,GAAG,YAAY;AAC/BC,IAAAA,iBAAiB,GAAG,CAAA;AACtB,GAAC,GAAGpe,KAAK,CAAA;EAET,MAAM,CAAEqe,YAAY,EAAEC,eAAe,CAAE,GAAGvH,QAAQ,CAAC,KAAK,CAAC,CAAA;EACzD,MAAM,CAAEwH,iBAAiB,EAAEC,oBAAoB,CAAE,GAAGzH,QAAQ,CAACqH,iBAAiB,CAAC,CAAA;EAC/E,MAAM,CAAEK,eAAe,EAAEC,kBAAkB,CAAE,GAAG3H,QAAQ,CAAC,KAAK,CAAC,CAAA;AAC/D,EAAA,MAAM4H,iBAAiB,GAAGpZ,MAAM,EAAE,CAAA;AAClC,EAAA,MAAMqZ,cAAc,GAAGrZ,MAAM,EAAE,CAAA;EAE/B,MAAMsZ,WAAW,GAAGlb,OAAO,CAAC,MAAM9F,MAAM,CAAC1H,MAAM,GAAG0H,MAAM,CAAC0gB,iBAAiB,CAAC,GAAG,IAAI,EAAE,CAAEA,iBAAiB,EAAE1gB,MAAM,CAAE,CAAC,CAAA;AAElH,EAAA,MAAMihB,uBAAuB,GAAGhX,WAAW,CAAEiX,KAAK,IAAK;IACrDP,oBAAoB,CAACrlB,CAAC,IAAI6V,IAAI,CAACgQ,GAAG,CAAChQ,IAAI,CAACiQ,GAAG,CAAC,CAAC,EAAE9lB,CAAC,GAAG4lB,KAAK,CAAC,EAAElhB,MAAM,CAAC1H,MAAM,GAAG,CAAC,CAAC,CAAC,CAAA;AAChF,GAAC,EAAE,CAAE0H,MAAM,CAAC1H,MAAM,CAAE,CAAC,CAAA;AAErByU,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI2T,iBAAiB,KAAK,CAAC,EAAE,OAAA;AAE7B,IAAA,IAAI,CAACA,iBAAiB,IAAI,CAAC1gB,MAAM,CAAC1H,MAAM,EAAE;MACxCqoB,oBAAoB,CAAC,CAAC,CAAC,CAAA;AACzB,KAAC,MACI,IAAID,iBAAiB,IAAI1gB,MAAM,CAAC1H,MAAM,EAAE;AAC3CqoB,MAAAA,oBAAoB,CAAC3gB,MAAM,CAAC1H,MAAM,GAAG,CAAC,CAAC,CAAA;AACzC,KAAA;GACD,EAAE,CAAEooB,iBAAiB,EAAE1gB,MAAM,CAAC1H,MAAM,CAAE,CAAC,CAAA;EAExC8V,gBAAgB,CAAC,SAAS,EAAE,MAAM;IAChC,IAAIpO,MAAM,CAAC1H,MAAM,EAAE;MACjB2oB,uBAAuB,CAAC,CAAC,CAAC,CAAC,CAAA;MAC3BR,eAAe,CAAC,KAAK,CAAC,CAAA;AACxB,KAAA;GACD,EAAEnS,eAAe,CAAC,CAAA;EAEnBF,gBAAgB,CAAC,WAAW,EAAE,MAAM;IAClC,IAAIpO,MAAM,CAAC1H,MAAM,EAAE;MACjB2oB,uBAAuB,CAAC,CAAC,CAAC,CAAA;MAC1BR,eAAe,CAAC,KAAK,CAAC,CAAA;AACxB,KAAA;GACD,EAAEnS,eAAe,CAAC,CAAA;EAEnBF,gBAAgB,CAAC,OAAO,EAAE,MAAM;AAC9B,IAAA,IAAI4S,WAAW,EAAE;MACfX,eAAe,CAACW,WAAW,CAAC,CAAA;AAC9B,KAAA;GACD,EAAE1S,eAAe,CAAC,CAAA;AAEnBvB,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,MAAMsU,iBAAiB,GAAGP,iBAAiB,CAACrnB,OAAO,CAACb,QAAQ,CAAA;AAC5D,IAAA,IAAIyoB,iBAAiB,CAAC/oB,MAAM,IAAI,CAACkoB,YAAY,EAAE;AAC7C,MAAA,MAAMc,YAAY,GAAGD,iBAAiB,CAACX,iBAAiB,CAAC,CAAA;AACzDY,MAAAA,YAAY,IAAIA,YAAY,CAACC,cAAc,CAAC;AAAEC,QAAAA,KAAK,EAAE,SAAS;AAAEC,QAAAA,MAAM,EAAE,SAAA;AAAU,OAAC,CAAC,CAAA;AACtF,KAAA;AACF,GAAC,EAAE,CAAEf,iBAAiB,EAAEF,YAAY,CAAE,CAAC,CAAA;AAEvCzT,EAAAA,SAAS,CAAC,MAAM;IACd8T,kBAAkB,CAAC,IAAI,CAAC,CAAA;GACzB,EAAE,EAAE,CAAC,CAAA;AAEN,EAAA,MAAMa,0BAA0B,GAAGA,CAACC,KAAK,EAAEC,UAAU,KAAK;IAExD,MAAMC,eAAe,GAAG,CAACd,cAAc,CAACtnB,OAAO,IAAIsnB,cAAc,CAACtnB,OAAO,CAAC6B,CAAC,KAAKqmB,KAAK,CAACG,OAAO,IAAIf,cAAc,CAACtnB,OAAO,CAACsoB,CAAC,KAAKJ,KAAK,CAACK,OAAO,CAAA;AAE3I,IAAA,IAAIH,eAAe,EAAE;MACnBd,cAAc,CAACtnB,OAAO,GAAG;QAAE6B,CAAC,EAAEqmB,KAAK,CAACG,OAAO;QAAEC,CAAC,EAAEJ,KAAK,CAACK,OAAAA;OAAS,CAAA;MAC/DvB,eAAe,CAAC,IAAI,CAAC,CAAA;MACrBE,oBAAoB,CAACiB,UAAU,CAAC,CAAA;AAClC,KAAA;GAED,CAAA;AAED,EAAA,OAAO1K,IAAA,CAAA,KAAA,EAAA;AACLzP,IAAAA,GAAG,EAAGqZ,iBAAmB;IACzBmB,QAAQ,EAAG,CAAC,CAAG;AACfzf,IAAAA,KAAK,EAAC,kBAAkB;AACxBsd,IAAAA,WAAW,EAAI3H,CAAC,IAAKA,CAAC,CAACkH,cAAc,EAAI;AACzCnc,IAAAA,KAAK,EAAG;AAAEgf,MAAAA,SAAS,EAAElU,MAAM;AAAEmU,MAAAA,cAAc,EAAEvB,eAAe,GAAG,QAAQ,GAAG,MAAA;KAAU;AAAAhoB,IAAAA,QAAA,EAElFoH,CAAAA,MAAM,CAAC1H,MAAM,GAAG,CAAC,IAAI0H,MAAM,CAAC/F,GAAG,CAAC,CAAC0b,CAAC,EAAE/b,CAAC,KAAK;AACxC,MAAA,OACE2I,GAAA,CAAA,KAAA,EAAA;AACEC,QAAAA,KAAK,EAAGhB,UAAU,CAAC,uBAAuB,EAAE;UAAE,SAAS,EAAEkf,iBAAiB,KAAK9mB,CAAAA;AAAE,SAAC,CAAG;AACrFwoB,QAAAA,WAAW,EAAG5B,YAAY,GAAGtgB,SAAS,GAAIiY,CAAC,IAAKuJ,0BAA0B,CAACvJ,CAAC,EAAEve,CAAC,CAAG;QAClFyoB,YAAY,EAAG7B,YAAY,GAAG,MAAMG,oBAAoB,CAAC/mB,CAAC,CAAC,GAAGsG,SAAW;AACzE4f,QAAAA,WAAW,EAAI3H,CAAC,IAAKkI,eAAe,CAAC1K,CAAC,CAAG;QAAA/c,QAAA,EACxCwnB,QAAQ,CAACzK,CAAC,CAAA;AAAC,OACT,CAAC,CAAA;AAEV,KAAC,CAAC,EAGF,CAAC3V,MAAM,CAAC1H,MAAM,IAAIiK,GAAA,CAAA,KAAA,EAAA;AAAKC,MAAAA,KAAK,EAAC,wBAAwB;AAAA5J,MAAAA,QAAA,EAAG0nB,gBAAAA;AAAgB,KAAO,CAAC,CAAA;AAAA,GAE/E,CAAC,CAAA;AACR;;ACpGO,SAASgC,UAAUA,CAACngB,KAAK,EAAE;EAEhC,MAAM;IACJvC,KAAK;IACL8d,oBAAoB;IACpBC,cAAc;IACdC,eAAe;IACfvG,KAAK;IACLvT,QAAQ;IACRxC,QAAQ;IACRC,QAAQ;AACRuP,IAAAA,MAAM,GAAG,KAAK;IACdyR,YAAY;IACZrO,IAAI;AACJsO,IAAAA,OAAAA;AACF,GAAC,GAAGrgB,KAAK,CAAA;AAET,EAAA,MAAMsgB,gBAAgB,GAAG3c,OAAO,CAAC,MAAM;AAErC,IAAA,MAAM4c,gBAAgB,GAAG,CAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAE,CAAA;AAEjD,IAAA,IAAIA,gBAAgB,CAAClrB,QAAQ,CAAC+qB,YAAY,CAAC,EAAE;AAC3C,MAAA,OAAOA,YAAY,CAAA;AACrB,KAAA;AAEA,IAAA,OAAO,EAAE,CAAA;AAEX,GAAC,EAAE,CAAEA,YAAY,CAAE,CAAC,CAAA;AAEpB,EAAA,MAAMI,YAAY,GAAGjb,MAAM,EAAE,CAAA;EAC7B,MAAM,CAAEkb,cAAc,EAAEC,iBAAiB,CAAE,GAAG3J,QAAQ,CAAC,KAAK,CAAC,CAAA;AAC7D,EAAA,MAAM4J,WAAW,GAAGhd,OAAO,CAAC,MAAM2c,gBAAgB,KAAK,CAAC,EAAE,CAAEA,gBAAgB,CAAE,CAAC,CAAA;EAE/E,MAAM,CAAEM,QAAQ,EAAEC,WAAW,CAAE,GAAG9J,QAAQ,CAAC,EAAE,CAAC,CAAA;;AAE9C;AACAnM,EAAAA,SAAS,CAAC,MAAM;IACd,IAAImH,IAAI,KAAK,IAAI,EAAE;MACjB8O,WAAW,CAAC,EAAE,CAAC,CAAA;AACf,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,MAAMC,oBAAoB,GAAG/O,IAAI,GAAIA,IAAI,GAAGuO,gBAAiB,CAAA;AAC7DO,IAAAA,WAAW,CAACnS,UAAU,CAACC,MAAM,EAAEmS,oBAAoB,CAAC,CAAC,CAAA;IAErD,IAAIA,oBAAoB,IAAI/O,IAAI,EAAE;MAChCsO,OAAO,CAACS,oBAAoB,CAAC,CAAA;AAC/B,KAAA;GAED,EAAE,CAAE/O,IAAI,EAAEsO,OAAO,EAAE1R,MAAM,EAAE2R,gBAAgB,CAAE,CAAC,CAAA;AAE/C,EAAA,MAAMS,oBAAoB,GAAGjZ,WAAW,CAAEkZ,WAAW,IAAK;AAExD,IAAA,MAAMC,aAAa,GAAGD,WAAW,IAAIJ,QAAQ,CAAA;;AAE7C;IACA,IAAI,CAACK,aAAa,EAAE;MAClBZ,OAAO,CAAC,IAAI,CAAC,CAAA;AACb,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,MAAMzR,OAAO,GAAGQ,cAAc,CAAC6R,aAAa,CAAC,CAAA;;AAE7C;AACA,IAAA,IAAI,CAACpR,QAAQ,CAACjB,OAAO,CAAC,EAAE;MACtBiS,WAAW,CAAC,EAAE,CAAC,CAAA;MACfR,OAAO,CAAC,IAAI,CAAC,CAAA;AACb,MAAA,OAAA;AACF,KAAA;;AAEA;AACA,IAAA,MAAMa,gBAAgB,GAAGtS,OAAO,GAAIA,OAAO,GAAG0R,gBAAiB,CAAA;;AAE/D;AACAO,IAAAA,WAAW,CAACnS,UAAU,CAACC,MAAM,EAAEuS,gBAAgB,CAAC,CAAC,CAAA;IACjDb,OAAO,CAACa,gBAAgB,CAAC,CAAA;GAE1B,EAAE,CAAEN,QAAQ,EAAEN,gBAAgB,EAAE3R,MAAM,EAAE0R,OAAO,CAAE,CAAC,CAAA;AAEnD,EAAA,MAAMc,WAAW,GAAGxd,OAAO,CAAC,MAAM;AAEhC,IAAA,MAAMyd,YAAY,GAAG,EAAE,GAAG,EAAE,CAAA;IAC5B,MAAMC,aAAa,GAAGrS,IAAI,CAACC,KAAK,CAACmS,YAAY,GAAGd,gBAAgB,CAAC,CAAA;IACjE,OAAO,CAAE,GAAGjqB,KAAK,CAACgrB,aAAa,CAAC,CAACnrB,IAAI,EAAE,CAAE,CAAC4B,GAAG,CAACwpB,aAAa,IAAI5S,UAAU,CAACC,MAAM,EAAE2S,aAAa,GAAGhB,gBAAgB,CAAC,CAAC,CAAA;AAEtH,GAAC,EAAE,CAAEA,gBAAgB,EAAE3R,MAAM,CAAE,CAAC,CAAA;AAEhC,EAAA,MAAMyP,iBAAiB,GAAGza,OAAO,CAAC,MAAM;AAEtC;AACA,IAAA,IAAI,CAACwd,WAAW,IAAI,CAACb,gBAAgB,EAAE,OAAO,IAAI,CAAA;;AAElD;AACA,IAAA,IAAIvO,IAAI,EAAE,OAAOA,IAAI,GAAGuO,gBAAgB,CAAA;AAExC,IAAA,MAAMiB,SAAS,GAAGnS,cAAc,CAACwR,QAAQ,CAAC,CAAA;;AAE1C;AACA,IAAA,IAAIW,SAAS,EAAE;AACb,MAAA,MAAMC,gBAAgB,GAAGD,SAAS,GAAGA,SAAS,GAAGjB,gBAAgB,CAAA;MACjE,OAAOkB,gBAAgB,GAAGlB,gBAAgB,CAAA;AAC5C,KAAA;;AAEA;IACA,OAAOtR,IAAI,CAACC,KAAK,CAACkS,WAAW,CAAChrB,MAAM,GAAG,CAAC,CAAC,CAAA;GAE1C,EAAE,CAAEyqB,QAAQ,EAAE7O,IAAI,EAAEuO,gBAAgB,EAAEa,WAAW,CAAE,CAAC,CAAA;EAErD,MAAMnE,cAAc,GAAIhH,CAAC,IAAK;IAC5B,QAAQA,CAAC,CAACjU,GAAG;AACb,MAAA,KAAK,SAAS;QACZiU,CAAC,CAACkH,cAAc,EAAE,CAAA;AAClB,QAAA,MAAA;AACF,MAAA,KAAK,WAAW;AACdyD,QAAAA,WAAW,IAAID,iBAAiB,CAAC,IAAI,CAAC,CAAA;QACtC1K,CAAC,CAACkH,cAAc,EAAE,CAAA;AAClB,QAAA,MAAA;AACF,MAAA,KAAK,QAAQ;AACXyD,QAAAA,WAAW,IAAID,iBAAiB,CAAC,KAAK,CAAC,CAAA;AACvC,QAAA,MAAA;AACF,MAAA,KAAK,OAAO;AACV,QAAA,CAACD,cAAc,IAAIM,oBAAoB,EAAE,CAAA;AACzC,QAAA,MAAA;AACF,KAAA;GACD,CAAA;EAED,MAAM3D,WAAW,GAAIpH,CAAC,IAAK;IACzB0K,iBAAiB,CAAC,KAAK,CAAC,CAAA;AACxBK,IAAAA,oBAAoB,EAAE,CAAA;IACtBvF,cAAc,CAACxF,CAAC,CAAC,CAAA;GAClB,CAAA;EAED,MAAMmH,YAAY,GAAInH,CAAC,IAAK;IAC1ByF,eAAe,CAACzF,CAAC,CAAC,CAAA;AAClB,IAAA,CAAC5W,QAAQ,IAAIuhB,WAAW,IAAID,iBAAiB,CAAC,IAAI,CAAC,CAAA;GACpD,CAAA;EAED,MAAMe,uBAAuB,GAAI7nB,KAAK,IAAK;IACzC8mB,iBAAiB,CAAC,KAAK,CAAC,CAAA;IACxBK,oBAAoB,CAACnnB,KAAK,CAAC,CAAA;GAC5B,CAAA;AAED,EAAA,OAAOmb,IAAA,CAAA,KAAA,EAAA;AAAK1U,IAAAA,KAAK,EAAC,yBAAyB;IAAA5J,QAAA,EAAA,CACzC2J,GAAA,CAACuU,KAAK,EAAA;AACJC,MAAAA,OAAO,EAAGM,KAAO;AACjBzX,MAAAA,KAAK,EAAGA,KAAO;AACfoX,MAAAA,eAAe,EAAG0G,oBAAsB;AACxC5Z,MAAAA,QAAQ,EAAGA,QAAAA;AAAU,KAAE,CAAC,EAC1BvB,GAAA,CAAC2a,YAAY,EAAA;AACXC,MAAAA,GAAG,EAAG5a,GAAA,CAACshB,SAAS,IAAE,CAAG;AACrBvG,MAAAA,QAAQ,EAAGqF,YAAc;AACzBrhB,MAAAA,QAAQ,EAAGA,QAAU;AACrBC,MAAAA,QAAQ,EAAGA,QAAU;AAAA3I,MAAAA,QAAA,EACrBse,IAAA,CAAA,KAAA,EAAA;AAAK1U,QAAAA,KAAK,EAAC,sCAAsC;AAAA5J,QAAAA,QAAA,GAC/C2J,GAAA,CAAA,OAAA,EAAA;AAAOkF,UAAAA,GAAG,EAAGkb,YAAc;AACzB9nB,UAAAA,IAAI,EAAC,MAAM;AACXiH,UAAAA,EAAE,EAAGuV,KAAO;AACZ7U,UAAAA,KAAK,EAAC,WAAW;AACjBzG,UAAAA,KAAK,EAAGgnB,QAAU;AAClBzhB,UAAAA,QAAQ,EAAGA,QAAU;AACrBsN,UAAAA,QAAQ,EAAGrN,QAAU;AACrBoe,UAAAA,WAAW,EAAG7O,MAAM,GAAG,OAAO,GAAG,UAAY;AAC7C8O,UAAAA,YAAY,EAAC,KAAA;;AAEb;AAAA;UACAG,OAAO,EAAI5H,CAAC,IAAK;AAAE6K,YAAAA,WAAW,CAAC7K,CAAC,CAACZ,MAAM,CAACxb,KAAK,CAAC,CAAA;AAAE+mB,YAAAA,WAAW,IAAID,iBAAiB,CAAC,KAAK,CAAC,CAAA;WAAK;AAC5FxgB,UAAAA,MAAM,EAAGkd,WAAa;AACtBnd,UAAAA,OAAO,EAAGkd,YAAc;UACxB7G,OAAO,EAAGA,MAAM,CAAClX,QAAQ,IAAIuhB,WAAW,IAAID,iBAAiB,CAAC,IAAI,CAAG;AACrEhD,UAAAA,SAAS,EAAGV,cAAgB;UAC5B,YAAU,EAAA,IAAA;UACV,kBAAmBhd,EAAAA,KAAK,CAAC,kBAAkB,CAAA;AAAG,SAAE,CAAC,EAEjDygB,cAAc,IAAIrgB,GAAA,CAAC4d,YAAY,EAAA;AAC/BngB,UAAAA,MAAM,EAAGsjB,WAAa;AACtBtV,UAAAA,MAAM,EAAG,GAAK;AACdqS,UAAAA,eAAe,EAAGuD,uBAAyB;UAC3CtV,eAAe,EAAGqU,YAAY,CAAClpB,OAAS;AACxC8mB,UAAAA,iBAAiB,EAAGA,iBAAAA;AAAmB,SAAE,CAAC,CAAA;OAEzC,CAAA;AAAC,KACM,CAAC,CAAA;AAAA,GACZ,CAAC,CAAA;AACR;;AC7KA,MAAM1lB,MAAI,GAAG,UAAU,CAAA;AAEhB,SAASipB,QAAQA,CAAC3hB,KAAK,EAAE;EAC9B,MAAM;IACJb,QAAQ;AACRD,IAAAA,MAAM,GAAG,EAAE;IACXgW,KAAK;IACLhV,MAAM;IACND,OAAO;IACPtC,KAAK;IACLsW,QAAQ;IACR7U,QAAQ;AACRxF,IAAAA,KAAK,GAAG,EAAA;AACV,GAAC,GAAGoG,KAAK,CAAA;EAET,MAAM;IACJwU,WAAW;IACX7U,EAAE;IACFiiB,SAAS;IACTC,SAAS;IACT1M,QAAQ,GAAG,EAAE;IACbjC,OAAO;IACPvE,MAAM;IACN+M,mBAAmB;IACnB0E,YAAY;AACZnQ,IAAAA,qBAAAA;AACF,GAAC,GAAGtS,KAAK,CAAA;EAET,MAAM;AAAEgE,IAAAA,QAAAA;AAAS,GAAC,GAAGwT,QAAQ,CAAA;EAC7B,MAAM;AAAEvV,IAAAA,MAAAA;AAAO,GAAC,GAAG6B,UAAU,CAACF,WAAW,CAAC,CAAA;AAC1C,EAAA,MAAMugB,gBAAgB,GAAGvc,MAAM,EAAE,CAAA;EAEjC,MAAM,CAAEwc,QAAQ,EAAEC,WAAW,CAAE,GAAGjL,QAAQ,CAACrE,eAAe,EAAE,CAAC,CAAA;EAC7D,MAAM,CAAEuP,qBAAqB,EAAEC,wBAAwB,CAAE,GAAGnL,QAAQ,CAAC,IAAI,CAAC,CAAA;EAE1E,MAAMoL,aAAa,GAAGxe,OAAO,CAAC,MAAMuP,OAAO,KAAKlX,iBAAiB,CAACC,IAAI,IAAIiX,OAAO,KAAKlX,iBAAiB,CAACG,QAAQ,EAAE,CAAE+W,OAAO,CAAE,CAAC,CAAA;EAC9H,MAAMkP,aAAa,GAAGze,OAAO,CAAC,MAAMuP,OAAO,KAAKlX,iBAAiB,CAACE,IAAI,IAAIgX,OAAO,KAAKlX,iBAAiB,CAACG,QAAQ,EAAE,CAAE+W,OAAO,CAAE,CAAC,CAAA;AAE9H,EAAA,MAAMsI,cAAc,GAAG1T,WAAW,CAAEkO,CAAC,IAAK;AACxC,IAAA,IAAIA,CAAC,CAACE,aAAa,IAAI4L,gBAAgB,CAACxqB,OAAO,CAAC2e,QAAQ,CAACD,CAAC,CAACE,aAAa,CAAC,EAAE;AACzE,MAAA,OAAA;AACF,KAAA;IAEAhW,MAAM,IAAIA,MAAM,EAAE,CAAA;AACpB,GAAC,EAAE,CAAEA,MAAM,CAAE,CAAC,CAAA;AAEd,EAAA,MAAMub,eAAe,GAAG3T,WAAW,CAAEkO,CAAC,IAAK;AACzC,IAAA,IAAIA,CAAC,CAACE,aAAa,IAAI4L,gBAAgB,CAACxqB,OAAO,CAAC2e,QAAQ,CAACD,CAAC,CAACE,aAAa,CAAC,EAAE;AACzE,MAAA,OAAA;AACF,KAAA;IAEAjW,OAAO,IAAIA,OAAO,EAAE,CAAA;AACtB,GAAC,EAAE,CAAEA,OAAO,CAAE,CAAC,CAAA;AAEf2K,EAAAA,SAAS,CAAC,MAAM;IAEd,IAAI;MAAEsG,IAAI;AAAEa,MAAAA,IAAAA;KAAM,GAAGW,eAAe,EAAE,CAAA;AAEtC,IAAA,QAAQQ,OAAO;MACf,KAAKlX,iBAAiB,CAACC,IAAI;AAAE,QAAA;UAC3BiV,IAAI,GAAG,IAAIN,IAAI,CAACA,IAAI,CAACpV,KAAK,CAAC5B,KAAK,CAAC,CAAC,CAAA;AAClC,UAAA,MAAA;AACF,SAAA;MACA,KAAKoC,iBAAiB,CAACE,IAAI;AAAE,QAAA;AAC3B6V,UAAAA,IAAI,GAAGzB,YAAY,CAAC1W,KAAK,CAAC,CAAA;AAC1B,UAAA,MAAA;AACF,SAAA;MACA,KAAKoC,iBAAiB,CAACG,QAAQ;AAAE,QAAA;UAC/B+U,IAAI,GAAG,IAAIN,IAAI,CAACA,IAAI,CAACpV,KAAK,CAAC5B,KAAK,CAAC,CAAC,CAAA;UAClCmY,IAAI,GAAGY,WAAW,CAACzB,IAAI,CAAC,GAAG,EAAE,GAAGA,IAAI,CAACmB,QAAQ,EAAE,GAAGnB,IAAI,CAACmR,UAAU,EAAE,GAAG,IAAI,CAAA;AAC1E,UAAA,MAAA;AACF,SAAA;AAAC,KAAA;AAEDL,IAAAA,WAAW,CAAC;MAAE9Q,IAAI;AAAEa,MAAAA,IAAAA;AAAK,KAAC,CAAC,CAAA;AAE7B,GAAC,EAAE,CAAEmB,OAAO,EAAEtZ,KAAK,CAAE,CAAC,CAAA;AAEtB,EAAA,MAAM0oB,kBAAkB,GAAGxa,WAAW,CAAC,CAAC;IAAEoJ,IAAI;AAAEa,IAAAA,IAAAA;AAAK,GAAC,KAAK;IAEzD,IAAIwQ,gBAAgB,GAAG,IAAI,CAAA;IAE3B,IAAIrP,OAAO,KAAKlX,iBAAiB,CAACC,IAAI,IAAI0W,WAAW,CAACzB,IAAI,CAAC,EAAE;AAC3DqR,MAAAA,gBAAgB,GAAGtR,aAAa,CAACC,IAAI,CAAC,CAAA;AACxC,KAAC,MACI,IAAIgC,OAAO,KAAKlX,iBAAiB,CAACE,IAAI,IAAI0W,WAAW,CAACb,IAAI,CAAC,EAAE;AAChEwQ,MAAAA,gBAAgB,GAAGvS,aAAa,CAAC+B,IAAI,EAAE,IAAInB,IAAI,EAAE,CAACC,iBAAiB,EAAE,EAAEZ,qBAAqB,CAAC,CAAA;AAC/F,KAAC,MACI,IAAIiD,OAAO,KAAKlX,iBAAiB,CAACG,QAAQ,IAAIwW,WAAW,CAACzB,IAAI,CAAC,IAAI0B,WAAW,CAACb,IAAI,CAAC,EAAE;MACzFwQ,gBAAgB,GAAGzQ,iBAAiB,CAACZ,IAAI,EAAEa,IAAI,EAAE9B,qBAAqB,CAAC,CAAA;AACzE,KAAA;IAEA,IAAIrW,KAAK,KAAK2oB,gBAAgB,EAAE;AAC9B,MAAA,OAAA;AACF,KAAA;AAEAtO,IAAAA,QAAQ,CAAC;AAAEra,MAAAA,KAAK,EAAE2oB,gBAAgB;AAAE5kB,MAAAA,KAAAA;AAAM,KAAC,CAAC,CAAA;AAE9C,GAAC,EAAE,CAAE/D,KAAK,EAAE+D,KAAK,EAAEsW,QAAQ,EAAEf,OAAO,EAAEjD,qBAAqB,CAAE,CAAC,CAAA;AAE9DrF,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAIqX,qBAAqB,EAAE;MACzB,IAAIA,qBAAqB,CAACO,WAAW,EAAE;QACrCF,kBAAkB,CAACP,QAAQ,CAAC,CAAA;AAC9B,OAAC,MACI;AACH,QAAA,MAAMU,WAAW,GAAG;AAAE,UAAA,GAAGV,QAAQ;UAAE,GAAGE,qBAAAA;SAAuB,CAAA;QAC7DD,WAAW,CAACS,WAAW,CAAC,CAAA;QACxBH,kBAAkB,CAACG,WAAW,CAAC,CAAA;AACjC,OAAA;MACAP,wBAAwB,CAAC,IAAI,CAAC,CAAA;AAChC,KAAA;GACD,EAAE,CAAEI,kBAAkB,EAAEP,QAAQ,EAAEE,qBAAqB,CAAE,CAAC,CAAA;AAE3DrX,EAAAA,SAAS,CAAC,MAAM;AACdsX,IAAAA,wBAAwB,CAAC;AAAEM,MAAAA,WAAW,EAAE,IAAA;AAAK,KAAC,CAAC,CAAA;AACjD,GAAC,EAAE,CAAEvS,qBAAqB,CAAE,CAAC,CAAA;AAE7B,EAAA,MAAMyS,SAAS,GAAG/e,OAAO,CAAC,MAAM;IAC9B,IAAIhC,QAAQ,IAAIuR,OAAO,KAAKlX,iBAAiB,CAACG,QAAQ,EAAE,OAAO+C,MAAM,CAAA;AACrE,IAAA,MAAMyjB,iBAAiB,GAAIhQ,WAAW,CAACoP,QAAQ,CAAC7Q,IAAI,CAAC,IAAI,CAAC0B,WAAW,CAACmP,QAAQ,CAAChQ,IAAI,CAAC,IAAM,CAACY,WAAW,CAACoP,QAAQ,CAAC7Q,IAAI,CAAC,IAAI0B,WAAW,CAACmP,QAAQ,CAAChQ,IAAI,CAAE,CAAA;IACpJ,OAAO4Q,iBAAiB,GAAG,CAAE,yCAAyC,EAAE,GAAGzjB,MAAM,CAAE,GAAGA,MAAM,CAAA;GAC7F,EAAE,CAAEyC,QAAQ,EAAEuR,OAAO,EAAE6O,QAAQ,EAAE7iB,MAAM,CAAE,CAAC,CAAA;AAE3C,EAAA,MAAM0c,OAAO,GAAG9T,WAAW,CAAEoJ,IAAI,IAAK;AACpCgR,IAAAA,wBAAwB,CAAEU,IAAI,IAAMA,IAAI,GAAG;AAAE,MAAA,GAAGA,IAAI;AAAE1R,MAAAA,IAAAA;AAAK,KAAC,GAAG;AAAEA,MAAAA,IAAAA;AAAK,KAAE,CAAC,CAAA;GAC1E,EAAE,EAAE,CAAC,CAAA;AAEN,EAAA,MAAMmP,OAAO,GAAGvY,WAAW,CAAEiK,IAAI,IAAK;AACpCmQ,IAAAA,wBAAwB,CAAEU,IAAI,IAAMA,IAAI,GAAG;AAAE,MAAA,GAAGA,IAAI;AAAE7Q,MAAAA,IAAAA;AAAK,KAAC,GAAG;AAAEA,MAAAA,IAAAA;AAAK,KAAE,CAAC,CAAA;GAC1E,EAAE,EAAE,CAAC,CAAA;AAEN,EAAA,MAAMwD,cAAc,GAAGmN,SAAS,CAACvsB,MAAM,KAAK,CAAC,GAAG4H,SAAS,GAAI,GAAE2B,QAAQ,CAACC,EAAE,EAAEC,MAAM,CAAE,CAAe,cAAA,CAAA,CAAA;EACnG,MAAM0V,aAAa,GAAI,CAAE5V,EAAAA,QAAQ,CAACC,EAAE,EAAEC,MAAM,CAAE,CAAa,YAAA,CAAA,CAAA;AAE3D,EAAA,MAAMijB,eAAe,GAAG;AACtBplB,IAAAA,KAAK,EAAEmkB,SAAS;IAChBrG,oBAAoB,EAAE,CAACsG,SAAS;IAChCrG,cAAc;IACdC,eAAe;IACfvG,KAAK,EAAG,CAAEA,EAAAA,KAAM,CAAM,KAAA,CAAA;IACtBvT,QAAQ;IACRxC,QAAQ;IACRuc,mBAAmB;IACnBxK,IAAI,EAAE6Q,QAAQ,CAAC7Q,IAAI;IACnB9R,QAAQ;IACRwc,OAAO;IACP,kBAAkB,EAAE,CAAEtG,aAAa,EAAEC,cAAc,CAAE,CAAC/N,IAAI,CAAC,GAAG,CAAA;GAC/D,CAAA;AAED,EAAA,MAAMsb,eAAe,GAAG;AACtBrlB,IAAAA,KAAK,EAAEokB,SAAS;IAChBtG,oBAAoB,EAAE,CAACqG,SAAS;IAChCpG,cAAc;IACdC,eAAe;IACfvG,KAAK,EAAG,CAAEA,EAAAA,KAAM,CAAM,KAAA,CAAA;IACtBvT,QAAQ;IACRxC,QAAQ;IACRC,QAAQ;IACRuP,MAAM;IACNyR,YAAY;IACZrO,IAAI,EAAEgQ,QAAQ,CAAChQ,IAAI;IACnBsO,OAAO;IACP,kBAAkB,EAAE,CAAE/K,aAAa,EAAEC,cAAc,CAAE,CAAC/N,IAAI,CAAC,GAAG,CAAA;GAC/D,CAAA;AAED,EAAA,OAAOuN,IAAA,CAAA,KAAA,EAAA;AAAK1U,IAAAA,KAAK,EAAGpB,gBAAgB,CAACvG,MAAI,EAAE;AAAEwG,MAAAA,MAAM,EAAEwjB,SAAS;MAAEvjB,QAAQ;AAAEC,MAAAA,QAAAA;AAAS,KAAC,CAAG;AAAA3I,IAAAA,QAAA,GACrFse,IAAA,CAAA,KAAA,EAAA;AAAK1U,MAAAA,KAAK,EAAGhB,UAAU,CAAC,oBAAoB,CAAG;AAACiG,MAAAA,GAAG,EAAGwc,gBAAkB;AAAArrB,MAAAA,QAAA,EACpE0rB,CAAAA,aAAa,IAAI/hB,GAAA,CAACkb,UAAU,EAAA;QAAA,GAAMuH,eAAAA;AAAe,OAAI,CAAC,EACtDT,aAAa,IAAID,aAAa,IAAI/hB,GAAA,CAAA,KAAA,EAAA;AAAKC,QAAAA,KAAK,EAAC,wBAAA;AAAwB,OAAE,CAAC,EACxE+hB,aAAa,IAAIhiB,GAAA,CAAC+f,UAAU,EAAA;QAAA,GAAM2C,eAAAA;AAAe,OAAI,CAAC,CAAA;AAAA,KACrD,CAAC,EACN1iB,GAAA,CAACmU,WAAW,EAAA;AAAC5U,MAAAA,EAAE,EAAG2V,aAAe;AAACd,MAAAA,WAAW,EAAGA,WAAAA;AAAa,KAAE,CAAC,EAChEpU,GAAA,CAACsU,MAAM,EAAA;AAACxV,MAAAA,MAAM,EAAGwjB,SAAW;AAAC/iB,MAAAA,EAAE,EAAG4V,cAAAA;AAAgB,KAAE,CAAC,CAAA;AAAA,GAClD,CAAC,CAAA;AACR,CAAA;AAEAoM,QAAQ,CAACrhB,MAAM,GAAG;QAChB5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,IAAI;AACX9C,EAAAA,KAAK,EAAE,aAAa;AACpB+C,EAAAA,KAAK,EAAE,aAAa;AACpBgV,EAAAA,UAAU,EAAE,IAAI;AAChBC,EAAAA,aAAa,EAAExC,2BAA2B;AAC1CxS,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,KAAK;IACxB,MAAMyP,QAAQ,GAAG,EAAE,CAAA;IACnBoe,GAAG,CAACpe,QAAQ,EAAEjI,qBAAqB,EAAEV,iBAAiB,CAACC,IAAI,CAAC,CAAA;AAC5D8mB,IAAAA,GAAG,CAACpe,QAAQ,EAAEhI,eAAe,EAAE,OAAO,CAAC,CAAA;IAEvC,OAAO;AAAE,MAAA,GAAGgI,QAAQ;MAAE,GAAGzP,OAAAA;KAAS,CAAA;AACpC,GAAA;AACF,CAAC;;AC1MM,SAAS8tB,KAAKA,CAAChjB,KAAK,EAAE;EAE3B,MAAM;IAAErC,KAAK;AAAEuX,IAAAA,KAAAA;AAAM,GAAC,GAAGlV,KAAK,CAAA;EAC9B,MAAM;IAAEvC,KAAK;IAAE/E,IAAI;AAAEuqB,IAAAA,WAAAA;AAAY,GAAC,GAAGtlB,KAAK,CAAA;EAC1C,MAAM;AAAEiD,IAAAA,KAAAA;AAAM,GAAC,GAAGa,UAAU,CAACf,iBAAiB,CAAC,CAAA;AAE/C,EAAA,MAAMmZ,SAAS,GAAG;AAAE,IAAA,GAAG7Z,KAAK;AAAEY,IAAAA,KAAAA;GAAO,CAAA;AAErC,EAAA,OACEmU,IAAA,CAAA,KAAA,EAAA;IAAKmO,SAAS,EAAG7jB,UAAU,CAACJ,gBAAgB,CAACvG,IAAI,CAAC,EAAE,0BAA0B,EAAG;AAAE,MAAA,cAAc,EAAGuqB,WAAAA;AAAY,KAAC,CAAG;AAACE,IAAAA,IAAI,EAAC,OAAO;AAAC,IAAA,iBAAA,EAAkBjO,KAAO;IAAAze,QAAA,EAAA,CACzJ2J,GAAA,CAACuU,KAAK,EAAA;AACJhV,MAAAA,EAAE,EAAGuV,KAAO;AACZzX,MAAAA,KAAK,EAAGA,KAAAA;AAAO,KAAE,CAAC,EACpB2C,GAAA,CAAC8X,gBAAgB,EAAA;MAAA,GAAM2B,SAAAA;AAAS,KAAI,CAAC,CAAA;AAAA,GAClC,CAAC,CAAA;AAEV,CAAA;AAEAmJ,KAAK,CAAC1iB,MAAM,GAAG;AACb5H,EAAAA,IAAI,EAAE,OAAO;AACb0qB,EAAAA,MAAM,EAAE,IAAI;AACZ3lB,EAAAA,KAAK,EAAE,SAAS;AAChB+C,EAAAA,KAAK,EAAE,WAAW;AAClBC,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,MAAM;AACzBgO,IAAAA,UAAU,EAAE,EAAE;AACd+f,IAAAA,WAAW,EAAE,IAAI;IACjB,GAAG/tB,OAAAA;GACJ,CAAA;AACH,CAAC;;ACzBD,MAAMwD,MAAI,GAAG,QAAQ,CAAA;AAErB,MAAM2qB,cAAc,GAAG,GAAG,CAAA;AAGnB,SAASC,MAAMA,CAACtjB,KAAK,EAAE;EAC5B,MAAM;IACJrC,KAAK;IACLwB,QAAQ;IACRC,QAAQ;AACR8V,IAAAA,KAAAA;AACF,GAAC,GAAGlV,KAAK,CAAA;EAET,MAAM;AACJ6L,IAAAA,MAAM,GAAGwX,cAAc;IACvB5lB,KAAK;IACL8lB,GAAG;AACHlc,IAAAA,QAAQ,GAAG,EAAC;AACd,GAAC,GAAG1J,KAAK,CAAA;AAET,EAAA,MAAM6lB,YAAY,GAAG9V,+BAA+B,CAAC6V,GAAG,EAAE;AAAEtoB,IAAAA,KAAK,EAAE,IAAA;AAAK,GAAC,CAAC,CAAA;AAE1E,EAAA,MAAMwoB,OAAO,GAAG9f,OAAO,CAAC,MAAMkQ,oBAAoB,CAAC2P,YAAY,CAAC,EAAE,CAAEA,YAAY,CAAE,CAAC,CAAA;AAEnF,EAAA,MAAM1O,cAAc,GAAGpH,+BAA+B,CAACjQ,KAAK,EAAE;AAAExC,IAAAA,KAAK,EAAE,IAAA;AAAK,GAAC,CAAC,CAAA;EAE9E,MAAM,CAAEsM,OAAO,EAAEE,KAAK,CAAE,GAAGL,wBAAwB,CAACC,QAAQ,CAAC,CAAA;EAC7D,MAAM,CAAEqc,aAAa,EAAEC,gBAAgB,CAAE,GAAG5M,QAAQ,CAAC,CAAC,CAAC,CAAA;;AAEvD;AACAnM,EAAAA,SAAS,CAAC,MAAM;AACd+Y,IAAAA,gBAAgB,CAACC,KAAK,IAAIA,KAAK,GAAG,CAAC,CAAC,CAAA;AACtC,GAAC,EAAE,CAAErc,OAAO,EAAEE,KAAK,CAAE,CAAC,CAAA;AAEtB,EAAA,OAAOsN,IAAA,CAAA,KAAA,EAAA;AAAK1U,IAAAA,KAAK,EAAGpB,gBAAgB,CAACvG,MAAI,EAAE;MAAEyG,QAAQ;AAAEC,MAAAA,QAAAA;AAAS,KAAC,CAAG;IAAA3I,QAAA,EAAA,CAClE2J,GAAA,CAACuU,KAAK,EAAA;AAACC,MAAAA,OAAO,EAAGM,KAAO;AAACzX,MAAAA,KAAK,EAAGqX,cAAAA;AAAgB,KAAE,CAAC,EAElD,CAAC0O,YAAY,IAAIpjB,GAAA,CAACyjB,iBAAiB,EAAA;AAACC,MAAAA,IAAI,EAAC,qCAAA;AAAuB,KAAE,CAAC,EAGnEN,YAAY,IAAIC,OAAO,IACrBrjB,GAAA,CAAA,QAAA,EAAA;AACEuT,MAAAA,GAAG,EAAG8P,OAAS;AACfM,MAAAA,KAAK,EAAGjP,cAAgB;AACxBjJ,MAAAA,MAAM,EAAGA,MAAQ;AACjBxL,MAAAA,KAAK,EAAC,YAAY;AAClBV,MAAAA,EAAE,EAAGuV,KAAO;AACZ3N,MAAAA,OAAO,EAAGA,OAAS;AAIZE,MAAAA,KAAAA;AAAK,KAAA,EAHN,SAAS,GAAGic,aAInB,CAAC,EAGJF,YAAY,IAAI,CAACC,OAAO,IAAIrjB,GAAA,CAACyjB,iBAAiB,EAAA;AAACC,MAAAA,IAAI,EAAC,sCAAA;AAAsC,KAAE,CAAC,CAAA;AAAA,GAE5F,CAAC,CAAA;AACR,CAAA;AAEA,SAASD,iBAAiBA,CAAC7jB,KAAK,EAAE;EAChC,MAAM;AAAE8jB,IAAAA,IAAI,GAAG,QAAA;AAAS,GAAC,GAAG9jB,KAAK,CAAA;AAEjC,EAAA,OAAOI,GAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAC,wBAAwB;AAAA5J,IAAAA,QAAA,EACxC2J,GAAA,CAAA,GAAA,EAAA;AAAGC,MAAAA,KAAK,EAAC,6BAA6B;AAAA5J,MAAAA,QAAA,EAAGqtB,IAAAA;KAAS,CAAA;AAAC,GAChD,CAAC,CAAA;AACR,CAAA;AAEAR,MAAM,CAAChjB,MAAM,GAAG;QACd5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,KAAK;AACZ9C,EAAAA,KAAK,EAAE,QAAQ;AACf+C,EAAAA,KAAK,EAAE,WAAW;AAClBC,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,MAAM;AACzBmS,IAAAA,QAAQ,EAAE;AACR2c,MAAAA,YAAY,EAAE,IAAA;KACf;IACD,GAAG9uB,OAAAA;GACJ,CAAA;AACH,CAAC;;ACzFD,IAAI4kB,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,SAAS,GAAG,SAAS,SAAS,CAAC,KAAK,EAAE;AAC1C,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,cAAc;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,yGAAyG;AAChH,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,iBAAe,SAAS;;ACdxB,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,WAAW,GAAG,SAAS,WAAW,CAAC,KAAK,EAAE;AAC9C,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,cAAc;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,CAAC,EAAE,gIAAgI;AACvI,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,mBAAe,WAAW;;ACb1B,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,YAAY,GAAG,SAAS,YAAY,CAAC,KAAK,EAAE;AAChD,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,MAAM;AAChB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,swBAAswB;AAC7wB,IAAI,QAAQ,EAAE,SAAS;AACvB,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,oBAAe,YAAY;;AChB3B,IAAIA,OAAK,EAAE+D,QAAM,EAAE,MAAM,CAAC;AAC1B,SAAS9D,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,WAAW,GAAG,SAAS,WAAW,CAAC,KAAK,EAAE;AAC9C,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,cAAc;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,8UAA8U;AACrV,GAAG,CAAC,CAAC,EAAE+D,QAAM,KAAKA,QAAM,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACpE,IAAI,CAAC,EAAE,wEAAwE;AAC/E,GAAG,CAAC,CAAC,EAAE,MAAM,KAAK,MAAM,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACpE,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,wJAAwJ;AAC/J,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,mBAAe,WAAW;;ACnB1B,IAAI/D,OAAK,EAAE+D,QAAM,CAAC;AAClB,SAAS9D,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,UAAU,GAAG,SAAS,UAAU,CAAC,KAAK,EAAE;AAC5C,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,cAAc;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,oJAAoJ;AAC3J,GAAG,CAAC,CAAC,EAAE+D,QAAM,KAAKA,QAAM,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACpE,IAAI,CAAC,EAAE,6EAA6E;AACpF,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,kBAAe,UAAU;;AChBzB,IAAI,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC;AAC1B,SAAS9D,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,OAAO,GAAG,SAAS,OAAO,CAAC,KAAK,EAAE;AACtC,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,GAAG,EAAE,KAAK,CAAC,EAAE,KAAK,KAAK,KAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,CAAC;AACb,IAAI,CAAC,EAAE,EAAE;AACT,IAAI,CAAC,EAAE,EAAE;AACT,IAAI,EAAE,EAAE,CAAC;AACT,GAAG,CAAC,CAAC,EAAE,MAAM,KAAK,MAAM,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACpE,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,CAAC;AACb,IAAI,CAAC,EAAE,EAAE;AACT,IAAI,CAAC,EAAE,EAAE;AACT,IAAI,EAAE,EAAE,CAAC;AACT,GAAG,CAAC,CAAC,EAAE,MAAM,KAAK,MAAM,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACpE,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,CAAC;AACb,IAAI,CAAC,EAAE,EAAE;AACT,IAAI,CAAC,EAAE,EAAE;AACT,IAAI,EAAE,EAAE,CAAC;AACT,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,eAAe,OAAO;;AC5BtB,IAAID,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,QAAQ,GAAG,SAAS,QAAQ,CAAC,KAAK,EAAE;AACxC,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,MAAM;AAChB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,MAAM;AAChB,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,ygCAAygC;AAChhC,IAAI,QAAQ,EAAE,SAAS;AACvB,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,gBAAe,QAAQ;;AChBvB,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,SAAS,GAAG,SAAS,SAAS,CAAC,KAAK,EAAE;AAC1C,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,cAAc;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,oMAAoM;AAC3M,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,iBAAe,SAAS;;ACdxB,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,QAAQ,GAAG,SAAS,QAAQ,CAAC,KAAK,EAAE;AACxC,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,cAAc;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,CAAC,EAAE,sKAAsK;AAC7K,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,gBAAe,QAAQ;;ACbvB,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,SAAS,GAAG,SAAS,SAAS,CAAC,KAAK,EAAE;AAC1C,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,cAAc;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,0KAA0K;AACjL,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,iBAAe,SAAS;;ACdxB,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,YAAY,GAAG,SAAS,YAAY,CAAC,KAAK,EAAE;AAChD,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,MAAM;AAChB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,CAAC,EAAE,yOAAyO;AAChP,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,oBAAe,YAAY;;ACd3B,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,SAAS,GAAG,SAAS,SAAS,CAAC,KAAK,EAAE;AAC1C,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,MAAM;AAChB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,CAAC,EAAE,sPAAsP;AAC7P,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,iBAAe,SAAS;;ACdxB,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,cAAc,GAAG,SAAS,cAAc,CAAC,KAAK,EAAE;AACpD,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,MAAM;AAChB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,woEAAwoE;AAC/oE,IAAI,QAAQ,EAAE,SAAS;AACvB,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,sBAAe,cAAc;;AChB7B,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,OAAO,GAAG,SAAS,OAAO,CAAC,KAAK,EAAE;AACtC,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,cAAc;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,CAAC,EAAE,0/BAA0/B;AACjgC,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,eAAe,OAAO;;ACbtB,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,OAAO,GAAG,SAAS,OAAO,CAAC,KAAK,EAAE;AACtC,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,MAAM;AAChB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,goBAAgoB;AACvoB,IAAI,QAAQ,EAAE,SAAS;AACvB,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,eAAe,OAAO;;AChBtB,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,kBAAkB,GAAG,SAAS,kBAAkB,CAAC,KAAK,EAAE;AAC5D,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,MAAM;AAChB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,03BAA03B;AACj4B,IAAI,QAAQ,EAAE,SAAS;AACvB,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,0BAAe,kBAAkB;;AChBjC,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,YAAY,GAAG,SAAS,YAAY,CAAC,KAAK,EAAE;AAChD,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,cAAc;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,sKAAsK;AAC7K,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,oBAAe,YAAY;;ACd3B,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,WAAW,GAAG,SAAS,WAAW,CAAC,KAAK,EAAE;AAC9C,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,cAAc;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,+QAA+Q;AACtR,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,mBAAe,WAAW;;ACd1B,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,SAAS,GAAG,SAAS,SAAS,CAAC,KAAK,EAAE;AAC1C,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,MAAM;AAChB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,s5BAAs5B;AAC75B,IAAI,QAAQ,EAAE,SAAS;AACvB,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,iBAAe,SAAS;;AChBxB,IAAIA,OAAK,EAAE+D,QAAM,CAAC;AAClB,SAAS9D,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,QAAQ,GAAG,SAAS,QAAQ,CAAC,KAAK,EAAE;AACxC,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,cAAc;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,kIAAkI;AACzI,IAAI,QAAQ,EAAE,SAAS;AACvB,GAAG,CAAC,CAAC,EAAE+D,QAAM,KAAKA,QAAM,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACpE,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,0UAA0U;AACjV,IAAI,QAAQ,EAAE,SAAS;AACvB,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,gBAAe,QAAQ;;ACnBvB,IAAI/D,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,QAAQ,GAAG,SAAS,QAAQ,CAAC,KAAK,EAAE;AACxC,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,IAAI,EAAE,MAAM;AAChB,IAAI,OAAO,EAAE,WAAW;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,CAAC,EAAE,2YAA2Y;AAClZ,IAAI,QAAQ,EAAE,SAAS;AACvB,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,gBAAe,QAAQ;;ACQVmK,MAAAA,WAAW,GAAIvrB,IAAI,IAAK;EACnC,OAAO;AACLwrB,IAAAA,MAAM,EAAEC,UAAU;AAClBC,IAAAA,QAAQ,EAAEC,YAAY;AACtBC,IAAAA,SAAS,EAAEC,aAAa;AACxB9kB,IAAAA,OAAO,EAAE+kB,SAAW;AACpBC,IAAAA,QAAQ,EAAEC,YAAY;AACtBlkB,IAAAA,KAAK,EAAEmkB,SAAS;AAChBC,IAAAA,MAAM,EAAEC,UAAU;AAClBC,IAAAA,KAAK,EAAEC,SAAS;AAChBC,IAAAA,MAAM,EAAEC,UAAU;AAClBjrB,IAAAA,UAAU,EAAEkrB,mBAAmB;AAC/BC,IAAAA,KAAK,EAAEC,SAAS;AAChBC,IAAAA,MAAM,EAAEC,UAAU;AAClBC,IAAAA,SAAS,EAAEC,aAAa;AACxBC,IAAAA,MAAM,EAAEC,UAAU;AAClBC,IAAAA,WAAW,EAAEC,eAAe;AAC5BC,IAAAA,OAAO,EAAEC,WAAW;AACpBhC,IAAAA,IAAI,EAAEiC,QAAQ;AACdtf,IAAAA,IAAI,EAAEuf,QAAQ;AACdC,IAAAA,SAAS,EAAEC,aAAa;AACxBC,IAAAA,QAAQ,EAAEC,YAAY;AACtBC,IAAAA,KAAK,EAAEC,SAAS;AAChBC,IAAAA,OAAO,EAAEC,QAAAA;GACV,CAAC9tB,IAAI,CAAC,CAAA;AACT;;AClCA,MAAMA,MAAI,GAAG,OAAO,CAAA;AAGb,SAAS+tB,KAAKA,CAACzmB,KAAK,EAAE;EAC3B,MAAM;AACJrC,IAAAA,KAAAA;AACF,GAAC,GAAGqC,KAAK,CAAA;EAET,MAAM;IACJ0mB,GAAG;IACH/mB,EAAE;AACF/B,IAAAA,MAAAA;AACF,GAAC,GAAGD,KAAK,CAAA;AAET,EAAA,MAAMgpB,IAAI,GAAG1C,WAAW,CAACtmB,KAAK,CAACjF,IAAI,CAAC,CAAA;AAEpC,EAAA,MAAMkuB,oBAAoB,GAAGlZ,+BAA+B,CAAC9P,MAAM,EAAE;AAAE3C,IAAAA,KAAK,EAAE,IAAA;AAAK,GAAC,CAAC,CAAA;AAErF,EAAA,MAAM4rB,UAAU,GAAGljB,OAAO,CAAC,MAAM+P,mBAAmB,CAACkT,oBAAoB,CAAC,EAAE,CAAEA,oBAAoB,CAAE,CAAC,CAAA;AAErG,EAAA,MAAME,OAAO,GAAGpZ,+BAA+B,CAACgZ,GAAG,EAAE;AAAEzrB,IAAAA,KAAK,EAAE,IAAA;AAAK,GAAC,CAAC,CAAA;EAErE,MAAM;AAAE2E,IAAAA,MAAAA;AAAO,GAAC,GAAG6B,UAAU,CAACF,WAAW,CAAC,CAAA;AAE1C,EAAA,OAAOwT,IAAA,CAAA,KAAA,EAAA;AAAK1U,IAAAA,KAAK,EAAGpB,gBAAgB,CAACvG,MAAI,CAAG;IAAAjC,QAAA,EAAA,CAExCowB,UAAU,IAAIzmB,GAAA,CAAA,KAAA,EAAA;AAAKC,MAAAA,KAAK,EAAC,qBAAqB;AAAA5J,MAAAA,QAAA,EAC5C2J,GAAA,CAAA,KAAA,EAAA;AACEsmB,QAAAA,GAAG,EAAGI,OAAS;AACfnT,QAAAA,GAAG,EAAGkT,UAAY;AAClBxmB,QAAAA,KAAK,EAAC,WAAW;AACjBV,QAAAA,EAAE,EAAGD,QAAQ,CAACC,EAAE,EAAEC,MAAM,CAAA;OAAK,CAAA;AAAC,KAC7B,CAAC,EAGN,CAACinB,UAAU,IAAIzmB,GAAA,CAAA,KAAA,EAAA;AAAKC,MAAAA,KAAK,EAAC,uBAAuB;AAAA5J,MAAAA,QAAA,EAC/C2J,GAAA,CAAA,MAAA,EAAA;AAAMC,QAAAA,KAAK,EAAC,6BAA6B;QAAA5J,QAAA,EACvC2J,GAAA,CAACumB,IAAI,EAAA;AAACD,UAAAA,GAAG,EAAC,8BAA8B;AAACnJ,UAAAA,KAAK,EAAC,IAAI;AAAC1R,UAAAA,MAAM,EAAC,IAAI;AAACkb,UAAAA,OAAO,EAAC,WAAA;SAAa,CAAA;OACjF,CAAA;AAAC,KACJ,CAAC,CAAA;AAAA,GAEL,CAAC,CAAA;AACR,CAAA;AAEAN,KAAK,CAACnmB,MAAM,GAAG;QACb5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,KAAK;AACZ9C,EAAAA,KAAK,EAAE,SAAS;AAChB+C,EAAAA,KAAK,EAAE,cAAc;AACrBC,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,MAAM;IACzB,GAAGA,OAAAA;GACJ,CAAA;AACH,CAAC;;AC9DM,SAAS8xB,qBAAqBA,CAAChnB,KAAK,EAAE;EAE3C,MAAM;IACJgb,GAAG;AACHC,IAAAA,IAAAA;AACF,GAAC,GAAGjb,KAAK,CAAA;AAET,EAAA,MAAMinB,YAAY,GAAGvZ,+BAA+B,CAACsN,GAAG,EAAE;AAAE/f,IAAAA,KAAK,EAAE,IAAA;AAAK,GAAC,CAAC,CAAA;AAC1E,EAAA,MAAMisB,aAAa,GAAGxZ,+BAA+B,CAACuN,IAAI,EAAE;AAAEhgB,IAAAA,KAAK,EAAE,IAAA;AAAK,GAAC,CAAC,CAAA;EAE5E,OAAOmF,GAAA,CAAC2a,YAAY,EAAA;AAAA,IAAA,GAAM/a,KAAK;AAAGgb,IAAAA,GAAG,EAAGiM,YAAc;AAAChM,IAAAA,IAAI,EAAGiM,aAAAA;AAAe,GAAE,CAAC,CAAA;AAElF;;AChBA,IAAIpN,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,YAAY,GAAG,SAAS,YAAY,CAAC,KAAK,EAAE;AAChD,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,MAAM,EAAE,CAAC;AACb,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,MAAM,EAAE,cAAc;AAC1B,IAAI,WAAW,EAAE,GAAG;AACpB,IAAI,CAAC,EAAE,0DAA0D;AACjE,IAAI,QAAQ,EAAE,SAAS;AACvB,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,oBAAe,YAAY;;ACjB3B,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,UAAU,GAAG,SAAS,UAAU,CAAC,KAAK,EAAE;AAC5C,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,MAAM,EAAE,CAAC;AACb,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,MAAM,EAAE,cAAc;AAC1B,IAAI,WAAW,EAAE,GAAG;AACpB,IAAI,CAAC,EAAE,0DAA0D;AACjE,IAAI,QAAQ,EAAE,SAAS;AACvB,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,kBAAe,UAAU;;ACflB,SAASqN,aAAaA,CAACnC,MAAM,EAAE;AACpC,EAAA,MAAMoC,GAAG,GAAGC,GAAG,CAACrC,MAAM,CAAC,CAAA;AACvB,EAAA,IAAIoC,GAAG,CAACvU,QAAQ,EAAE,KAAKuU,GAAG,CAACE,OAAO,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAA;AAC/C,EAAA,OAAOF,GAAG,CAACE,OAAO,EAAE,CAACxlB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC3L,MAAM,IAAI,CAAC,CAAA;AAChD,CAAA;AAEO,SAASoxB,aAAaA,CAAC3tB,KAAK,EAAE;EACnC,OAAO,CAAC,OAAOA,KAAK,KAAK,QAAQ,IAAI,OAAOA,KAAK,KAAK,QAAQ,KAAKA,KAAK,KAAK,EAAE,IAAI,CAACoI,KAAK,CAACwlB,MAAM,CAAC5tB,KAAK,CAAC,CAAC,CAAA;AAC1G,CAAA;AAEO,SAAS6tB,yBAAyBA,CAAC1lB,GAAG,EAAE2lB,aAAa,EAAEC,UAAU,EAAEC,cAAc,EAAEC,aAAa,EAAE;EAEvG,IAAIH,aAAa,KAAK,KAAK,EAAE;AAC3B,IAAA,OAAO,KAAK,CAAA;AACd,GAAA;;AAEA;EACAA,aAAa,GAAGA,aAAa,CAAC5W,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAA;AAC/C,EAAA,MAAMgX,UAAU,GAAG,CAACJ,aAAa,CAACryB,QAAQ,CAAC,GAAG,CAAC,KAAK0M,GAAG,KAAK,GAAG,IAAIA,GAAG,KAAK,GAAG,CAAC,CAAA;AAC/E,EAAA,MAAMgmB,YAAY,GAAG,CAACL,aAAa,CAACryB,QAAQ,CAAC,GAAG,CAAC,IAAI0M,GAAG,KAAK,GAAG,IAAI4lB,UAAU,KAAK,CAAC,CAAA;AAEpF,EAAA,MAAMK,iBAAiB,GAAG,UAAU,CAACvtB,IAAI,CAACsH,GAAG,CAAC,CAAA;AAC9C,EAAA,MAAMkmB,QAAQ,GAAGP,aAAa,KAAK3pB,SAAS,GAAG,CAAC,CAAC,GAAG2pB,aAAa,CAACre,OAAO,CAAC,GAAG,CAAC,CAAA;;AAE9E;AACA,EAAA,MAAM6e,qBAAqB,GAAG,OAAOL,aAAc,KAAK,QAAQ,IAC3DD,cAAc,KAAK,CAAC,IACpBK,QAAQ,KAAK,CAAC,CAAC,IACfP,aAAa,CAACryB,QAAQ,CAAC,GAAG,CAAC,IAC3BqyB,aAAa,CAAC5lB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC3L,MAAM,IAAI0xB,aAAa,IACnDF,UAAU,GAAGM,QAAQ,CAAA;EAE1B,MAAME,qBAAqB,GAAGH,iBAAiB,IAAMH,aAAa,KAAK,CAAC,IAAKC,UAAW,IAAIC,YAAY,CAAA;EAExG,OAAOI,qBAAqB,IAAI,CAACD,qBAAqB,CAAA;AAExD,CAAA;AAEO,SAASE,qBAAqBA,CAACxuB,KAAK,EAAE;EAC3C,OAAOA,KAAK,KAAKmE,SAAS,IAAInE,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,EAAE,CAAA;AAC9D;;ACnBA,MAAMlB,MAAI,GAAG,QAAQ,CAAA;AAEd,SAAS2vB,WAAWA,CAACroB,KAAK,EAAE;EACjC,MAAM;IACJb,QAAQ;AACRD,IAAAA,MAAM,GAAG,EAAE;IACXgW,KAAK;IACLhV,MAAM;IACND,OAAO;IACPtC,KAAK;IACL/D,KAAK;AACLwF,IAAAA,QAAAA;AACF,GAAC,GAAGY,KAAK,CAAA;EAET,MAAM;IACJwU,WAAW;IACX/W,KAAK;IACL6qB,UAAU,GAAG,EAAE;IACfnT,QAAQ,GAAG,EAAE;IACb0S,aAAa;AACbU,IAAAA,SAAS,EAAEC,cAAAA;AACb,GAAC,GAAG7qB,KAAK,CAAA;EAET,MAAM;IACJ8qB,aAAa;AACbC,IAAAA,aAAAA;AACF,GAAC,GAAGJ,UAAU,CAAA;EAEd,MAAM;AAAE3mB,IAAAA,QAAAA;AAAS,GAAC,GAAGwT,QAAQ,CAAA;AAE7B,EAAA,MAAMgG,QAAQ,GAAG5V,MAAM,EAAE,CAAA;EAEzB,MAAM,CAAEojB,WAAW,EAAEC,cAAc,CAAE,GAAG7R,QAAQ,CAACnd,KAAK,CAAC,CAAA;EACvD,MAAM,CAAEivB,YAAY,EAAEC,eAAe,CAAE,GAAG/R,QAAQ,CAACnd,KAAK,CAAC,CAAA;EAEzD,MAAM+M,QAAQ,GAAGmB,WAAW,CAAElO,KAAK,IAAKyuB,WAAW,CAAC/nB,MAAM,CAACmV,aAAa,CAAC;IAAE7b,KAAK;AAAE2F,IAAAA,SAAS,EAAE5B,KAAAA;AAAM,GAAC,CAAC,EAAE,CAAEA,KAAK,CAAE,CAAC,CAAA;EAEjH,MAAM,CAAEorB,iBAAiB,EAAEC,aAAa,CAAE,GAAGpc,gBAAgB,CAAC5M,KAAK,CAACiU,QAAQ,CAAC,CAAA;AAE7E,EAAA,MAAMgV,mBAAmB,GAAGvc,WAAW,CAAC9S,KAAK,CAAC,CAAA;EAE9C,IAAIqvB,mBAAmB,KAAKN,WAAW,EAAE;AACvCI,IAAAA,iBAAiB,CAAC;MAAEprB,KAAK;AAAE/D,MAAAA,KAAK,EAAE+uB,WAAAA;AAAY,KAAC,CAAC,CAAA;AAClD,GAAA;EAEA,MAAMvL,WAAW,GAAGA,MAAM;IACxB4L,aAAa,IAAIA,aAAa,EAAE,CAAA;IAChC9oB,MAAM,IAAIA,MAAM,EAAE,CAAA;GACnB,CAAA;EAED,MAAMid,YAAY,GAAGA,MAAM;IACzBld,OAAO,IAAIA,OAAO,EAAE,CAAA;GACrB,CAAA;;AAED;AACA,EAAA,MAAMipB,QAAQ,GAAGphB,WAAW,CAAEqhB,WAAW,IAAK;AAE5C,IAAA,IAAIf,qBAAqB,CAACe,WAAW,CAAC,EAAE;MACtCL,eAAe,CAAC,EAAE,CAAC,CAAA;MACnBF,cAAc,CAAC,IAAI,CAAC,CAAA;AACpB,MAAA,OAAA;AACF,KAAA;;AAEA;IACAO,WAAW,GAAGA,WAAW,CAACC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAA;IAE9C,IAAID,WAAW,KAAK,GAAG,EAAE;MACvBL,eAAe,CAAC,GAAG,CAAC,CAAA;AACpB,MAAA,OAAA;AACF,KAAA;;AAEA;AACA,IAAA,IAAI9mB,KAAK,CAACwlB,MAAM,CAAC2B,WAAW,CAAC,CAAC,EAAE;MAC9BL,eAAe,CAAC,KAAK,CAAC,CAAA;MACtBF,cAAc,CAAC,IAAI,CAAC,CAAA;AACpB,MAAA,OAAA;AACF,KAAA;IAEAE,eAAe,CAACK,WAAW,CAAC,CAAA;AAC5BP,IAAAA,cAAc,CAACjiB,QAAQ,CAACwiB,WAAW,CAAC,CAAC,CAAA;AAEvC,GAAC,EAAE,CAAExiB,QAAQ,CAAE,CAAC,CAAA;;AAEhB;AACA,EAAA,MAAM+gB,aAAa,GAAGhb,WAAW,CAAC9S,KAAK,CAAC,CAAA;AACxC,EAAA,MAAMyvB,iBAAiB,GAAG3B,aAAa,IAAI9tB,KAAK,CAAA;EAChD,MAAM0vB,qBAAqB,GAAG3iB,QAAQ,CAAC/M,KAAK,CAAC,KAAK+M,QAAQ,CAACgiB,WAAW,CAAC,CAAA;AAEvE,EAAA,IAAIU,iBAAiB,IAAI,CAACC,qBAAqB,EAAE;IAC/CJ,QAAQ,CAACtvB,KAAK,IAAIA,KAAK,CAACiZ,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAA;AAC3C,GAAA;;AAEA;AACA,EAAA,MAAM0W,eAAe,GAAG5lB,OAAO,CAAC,MAAM;AAEpC,IAAA,IAAI6kB,cAAc,EAAE,OAAOnB,GAAG,CAACmB,cAAc,CAAC,CAAA;IAC9C,IAAIX,aAAa,EAAE,OAAOR,GAAG,CAAE,CAAKQ,GAAAA,EAAAA,aAAc,EAAC,CAAC,CAAA;IACpD,OAAOR,GAAG,CAAC,GAAG,CAAC,CAAA;AAEjB,GAAC,EAAE,CAAEQ,aAAa,EAAEW,cAAc,CAAE,CAAC,CAAA;EAErC,MAAMD,SAAS,GAAGA,MAAM;AACtB,IAAA,IAAInpB,QAAQ,EAAE;AACZ,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,MAAMoqB,IAAI,GAAGjC,aAAa,CAACoB,WAAW,CAAC,GAAGtB,GAAG,CAACsB,WAAW,CAAC,GAAGtB,GAAG,CAAC,CAAC,CAAC,CAAA;AACnE,IAAA,MAAMoC,gBAAgB,GAAGD,IAAI,CAACE,KAAK,CAACF,IAAI,CAACG,GAAG,CAACJ,eAAe,CAAC,CAAC,CAAA;;AAE9D;IACAL,QAAQ,CAACO,gBAAgB,CAACG,IAAI,CAACL,eAAe,CAAC,CAACjC,OAAO,EAAE,CAAC,CAAA;GAC3D,CAAA;EAED,MAAMuC,SAAS,GAAGA,MAAM;AACtB,IAAA,IAAIzqB,QAAQ,EAAE;AACZ,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,MAAMoqB,IAAI,GAAGjC,aAAa,CAACoB,WAAW,CAAC,GAAGtB,GAAG,CAACsB,WAAW,CAAC,GAAGtB,GAAG,CAAC,CAAC,CAAC,CAAA;AACnE,IAAA,MAAMxvB,MAAM,GAAG2xB,IAAI,CAACG,GAAG,CAACJ,eAAe,CAAC,CAAA;IAExC,IAAI1xB,MAAM,CAACiyB,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;AAEvB;MACAZ,QAAQ,CAACM,IAAI,CAACE,KAAK,CAACH,eAAe,CAAC,CAACjC,OAAO,EAAE,CAAC,CAAA;AACjD,KAAC,MACI;AAEH;AACA,MAAA,MAAMmC,gBAAgB,GAAGD,IAAI,CAACE,KAAK,CAACF,IAAI,CAACG,GAAG,CAACJ,eAAe,CAAC,CAAC,CAAA;AAC9DL,MAAAA,QAAQ,CAACO,gBAAgB,CAACnC,OAAO,EAAE,CAAC,CAAA;AACtC,KAAA;GACD,CAAA;EAED,MAAM5J,SAAS,GAAI1H,CAAC,IAAK;AAEvB;AACA,IAAA,IAAI6S,YAAY,KAAK,KAAK,KAAK7S,CAAC,CAAClI,IAAI,KAAK,WAAW,IAAIkI,CAAC,CAAClI,IAAI,KAAK,QAAQ,CAAC,EAAE;MAC7Eob,QAAQ,CAAC,EAAE,CAAC,CAAA;MACZlT,CAAC,CAACkH,cAAc,EAAE,CAAA;AAClB,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,IAAIlH,CAAC,CAAClI,IAAI,KAAK,SAAS,EAAE;AACxBya,MAAAA,SAAS,EAAE,CAAA;MACXvS,CAAC,CAACkH,cAAc,EAAE,CAAA;AAClB,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,IAAIlH,CAAC,CAAClI,IAAI,KAAK,WAAW,EAAE;AAC1B+b,MAAAA,SAAS,EAAE,CAAA;MACX7T,CAAC,CAACkH,cAAc,EAAE,CAAA;AAClB,MAAA,OAAA;AACF,KAAA;GAED,CAAA;;AAED;EACA,MAAM6M,UAAU,GAAI/T,CAAC,IAAK;AACxB,IAAA,MAAM2R,UAAU,GAAGxM,QAAQ,CAAC7jB,OAAO,CAAC0yB,cAAc,CAAA;AAClD,IAAA,MAAMpC,cAAc,GAAGzM,QAAQ,CAAC7jB,OAAO,CAAC0yB,cAAc,GAAG7O,QAAQ,CAAC7jB,OAAO,CAAC2yB,YAAY,CAAA;AACtF,IAAA,MAAMvC,aAAa,GAAGvM,QAAQ,CAAC7jB,OAAO,CAACsC,KAAK,CAAA;AAE5C,IAAA,IAAI,CAAC6tB,yBAAyB,CAACzR,CAAC,CAACjU,GAAG,EAAE2lB,aAAa,EAAEC,UAAU,EAAEC,cAAc,EAAEC,aAAa,CAAC,EAAE;MAC/F7R,CAAC,CAACkH,cAAc,EAAE,CAAA;AACpB,KAAA;GACD,CAAA;AAED,EAAA,MAAM5H,aAAa,GAAI,CAAEJ,EAAAA,KAAM,CAAa,YAAA,CAAA,CAAA;AAC5C,EAAA,MAAMK,cAAc,GAAI,CAAEL,EAAAA,KAAM,CAAe,cAAA,CAAA,CAAA;AAE/C,EAAA,OAAOH,IAAA,CAAA,KAAA,EAAA;AAAK1U,IAAAA,KAAK,EAAGpB,gBAAgB,CAACvG,MAAI,EAAE;MAAEwG,MAAM;MAAEC,QAAQ;AAAEC,MAAAA,QAAAA;AAAS,KAAC,CAAG;IAAA3I,QAAA,EAAA,CAC1E2J,GAAA,CAACuU,KAAK,EAAA;AACJC,MAAAA,OAAO,EAAGM,KAAO;AACjBzX,MAAAA,KAAK,EAAGA,KAAO;AACfkE,MAAAA,QAAQ,EAAGA,QAAAA;AAAU,KAAE,CAAC,EAC1BvB,GAAA,CAAC4mB,qBAAqB,EAAA;AAAC7nB,MAAAA,QAAQ,EAAGA,QAAU;AAACC,MAAAA,QAAQ,EAAGA,QAAU;AAAC4b,MAAAA,GAAG,EAAGyN,aAAe;AAACxN,MAAAA,IAAI,EAAGyN,aAAe;AAAAjyB,MAAAA,QAAA,EAC7Gse,IAAA,CAAA,KAAA,EAAA;AAAK1U,QAAAA,KAAK,EAAGhB,UAAU,CAAC,oBAAoB,EAAE;AAAE,UAAA,cAAc,EAAEF,QAAQ;AAAE,UAAA,cAAc,EAAEC,QAAAA;AAAS,SAAC,EAAE;UAAE,WAAW,EAAEF,MAAM,CAAC/I,MAAAA;AAAO,SAAC,CAAG;AAAAM,QAAAA,QAAA,GACrI2J,GAAA,CAAA,OAAA,EAAA;AACEkF,UAAAA,GAAG,EAAG6V,QAAU;AAChB9a,UAAAA,KAAK,EAAC,WAAW;AACjBlB,UAAAA,QAAQ,EAAGA,QAAU;AACrBsN,UAAAA,QAAQ,EAAGrN,QAAU;AACrBO,UAAAA,EAAE,EAAGuV,KAAO;AACZwI,UAAAA,SAAS,EAAGA,SAAW;AACvBqM,UAAAA,UAAU,EAAGA,UAAY;AACzB7pB,UAAAA,MAAM,EAAGkd,WAAa;AACtBnd,UAAAA,OAAO,EAAGkd,YAAAA;;AAEV;AAAA;AACAS,UAAAA,OAAO,EAAI5H,CAAC,IAAKkT,QAAQ,CAAClT,CAAC,CAACZ,MAAM,CAACxb,KAAK,EAAE,IAAI,CAAG;UACjDswB,OAAO,EAAIlU,CAAC,IAAK6S,YAAY,KAAK,KAAK,IAAI7S,CAAC,CAACkH,cAAc,EAAI;AAC/DxkB,UAAAA,IAAI,EAAC,MAAM;AACX+kB,UAAAA,YAAY,EAAC,KAAK;AAClB0M,UAAAA,IAAI,EAAGZ,eAAiB;AACxB3vB,UAAAA,KAAK,EAAGivB,YAAc;UACtB,kBAAmB,EAAA,CAAEvT,aAAa,EAAEC,cAAc,CAAE,CAAC/N,IAAI,CAAC,GAAG,CAAG;AAChE7F,UAAAA,QAAQ,EAAGA,QAAU;UACrB,cAAezC,EAAAA,MAAM,CAAC/I,MAAM,GAAG,CAAA;SAAK,CAAC,EACvC4e,IAAA,CAAA,KAAA,EAAA;AAAK1U,UAAAA,KAAK,EAAGhB,UAAU,CAAC,4BAA4B,EAAE;AAAE,YAAA,cAAc,EAAEF,QAAQ;AAAE,YAAA,cAAc,EAAEC,QAAAA;AAAS,WAAC,CAAG;AAAA3I,UAAAA,QAAA,GAE7G2J,GAAA,CAAA,QAAA,EAAA;AACE1H,YAAAA,IAAI,EAAC,QAAQ;AACb2H,YAAAA,KAAK,EAAC,qBAAqB;AAC3B,YAAA,YAAA,EAAW,WAAW;AACtBiW,YAAAA,OAAO,EAAGA,MAAMiS,SAAS,EAAI;YAC7BzI,QAAQ,EAAG,CAAC,CAAG;AAAArpB,YAAAA,QAAA,EAAC2J,GAAA,CAACgqB,WAAW,EAAE,EAAA,CAAA;WAAS,CAAC,EAC1ChqB,GAAA,CAAA,KAAA,EAAA;AAAKC,YAAAA,KAAK,EAAC,4BAAA;WAA8B,CAAC,EAC1CD,GAAA,CAAA,QAAA,EAAA;AACE1H,YAAAA,IAAI,EAAC,QAAQ;AACb2H,YAAAA,KAAK,EAAC,uBAAuB;AAC7B,YAAA,YAAA,EAAW,WAAW;AACtBiW,YAAAA,OAAO,EAAGA,MAAMuT,SAAS,EAAI;YAC7B/J,QAAQ,EAAG,CAAC,CAAG;AAAArpB,YAAAA,QAAA,EAAC2J,GAAA,CAACiqB,aAAa,EAAE,EAAA,CAAA;AAAC,WAAQ,CAAC,CAAA;AAAA,SACzC,CAAC,CAAA;OACH,CAAA;AAAC,KACe,CAAC,EACxBjqB,GAAA,CAACmU,WAAW,EAAA;AAAC5U,MAAAA,EAAE,EAAG2V,aAAe;AAACd,MAAAA,WAAW,EAAGA,WAAAA;AAAa,KAAE,CAAC,EAChEpU,GAAA,CAACsU,MAAM,EAAA;AAAC/U,MAAAA,EAAE,EAAG4V,cAAgB;AAACrW,MAAAA,MAAM,EAAGA,MAAAA;AAAQ,KAAE,CAAC,CAAA;AAAA,GAC/C,CAAC,CAAA;AACR,CAAA;AAEAmpB,WAAW,CAAC/nB,MAAM,GAAG;QACnB5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,IAAI;AACX9C,EAAAA,KAAK,EAAE,OAAO;AACd+C,EAAAA,KAAK,EAAE,aAAa;AACpBgV,EAAAA,UAAU,EAAE,IAAI;AAChBC,EAAAA,aAAa,EAAEA,CAAC;IAAE7b,KAAK;AAAE2F,IAAAA,SAAAA;AAAU,GAAC,KAAK;AAEvC;AACA,IAAA,IAAI6oB,qBAAqB,CAACxuB,KAAK,CAAC,IAAI,CAAC2tB,aAAa,CAAC3tB,KAAK,CAAC,EAAE,OAAO,IAAI,CAAA;;AAEtE;AACA,IAAA,OAAO2F,SAAS,CAAC+qB,iBAAiB,GAAG1wB,KAAK,CAACiZ,QAAQ,EAAE,GAAG2U,MAAM,CAAC5tB,KAAK,CAAC,CAAA;GACtE;AACD6G,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,MAAM;IACzB,GAAGA,OAAAA;GACJ,CAAA;AACH,CAAC;;ACpPD,MAAMwD,MAAI,GAAG,OAAO,CAAA;AAGb,SAAS6xB,KAAKA,CAACvqB,KAAK,EAAE;EAC3B,MAAM;IACJb,QAAQ;AACRD,IAAAA,MAAM,GAAG,EAAE;IACXgW,KAAK;IACLhV,MAAM;IACND,OAAO;IACPtC,KAAK;IACLyB,QAAQ;AACRxF,IAAAA,KAAAA;AACF,GAAC,GAAGoG,KAAK,CAAA;EAET,MAAM;IACJwU,WAAW;IACX/W,KAAK;AACL0X,IAAAA,QAAQ,GAAG,EAAC;AACd,GAAC,GAAGxX,KAAK,CAAA;AAET,EAAA,MAAMgY,WAAW,GAAGpQ,MAAM,EAAE,CAAA;EAE5B,MAAM;AAAE5D,IAAAA,QAAAA;AAAS,GAAC,GAAGwT,QAAQ,CAAA;EAE7B,MAAMlB,QAAQ,GAAIT,CAAC,IAAK;IACtBxT,KAAK,CAACiU,QAAQ,CAAC;MACbtW,KAAK;AACL/D,MAAAA,KAAK,EAAE4Z,CAAAA;AACT,KAAC,CAAC,CAAA;GACH,CAAA;EAED,MAAMgX,WAAW,GAAIxU,CAAC,IAAK;IACzB,IAAIL,WAAW,CAACre,OAAO,CAAC2e,QAAQ,CAACD,CAAC,CAACE,aAAa,CAAC,EAAE;AACjD,MAAA,OAAA;AACF,KAAA;IAEAhW,MAAM,IAAIA,MAAM,EAAE,CAAA;GACnB,CAAA;EAED,MAAMuqB,YAAY,GAAIzU,CAAC,IAAK;IAC1B,IAAIL,WAAW,CAACre,OAAO,CAAC2e,QAAQ,CAACD,CAAC,CAACE,aAAa,CAAC,EAAE;AACjD,MAAA,OAAA;AACF,KAAA;IAEAjW,OAAO,IAAIA,OAAO,EAAE,CAAA;GACrB,CAAA;EAED,MAAM;IACJsG,SAAS;AACTrR,IAAAA,OAAAA;AACF,GAAC,GAAG2Q,eAAe,CAAClI,KAAK,CAAC,CAAA;AAE1BqW,EAAAA,2BAA2B,CAAC;IAC1BrW,KAAK;IACL4I,SAAS;IACTrR,OAAO;IACP0E,KAAK;IACLqa,QAAQ,EAAEjU,KAAK,CAACiU,QAAAA;AAClB,GAAC,CAAC,CAAA;AAEF,EAAA,MAAMqB,aAAa,GAAI,CAAEJ,EAAAA,KAAM,CAAa,YAAA,CAAA,CAAA;AAC5C,EAAA,MAAMK,cAAc,GAAI,CAAEL,EAAAA,KAAM,CAAe,cAAA,CAAA,CAAA;AAE/C,EAAA,OAAOH,IAAA,CAAA,KAAA,EAAA;AAAK1U,IAAAA,KAAK,EAAGpB,gBAAgB,CAACvG,MAAI,EAAE;MAAEwG,MAAM;MAAEC,QAAQ;AAAEC,MAAAA,QAAAA;AAAS,KAAC,CAAG;AAACkG,IAAAA,GAAG,EAAGqQ,WAAa;IAAAlf,QAAA,EAAA,CAC9F2J,GAAA,CAACuU,KAAK,EAAA;AACJlX,MAAAA,KAAK,EAAGA,KAAO;AACfkE,MAAAA,QAAQ,EAAGA,QAAAA;AAAU,KAAE,CAAC,EAExB4E,SAAS,IAAId,WAAW,CAACE,MAAM,IAAIzQ,OAAO,CAAC4C,GAAG,CAAC,CAAC8M,MAAM,EAAE3N,KAAK,KAAK;AAEhE,MAAA,MAAMmf,SAAS,GAAI,CAAA,EAAElB,KAAM,CAAA,CAAA,EAAGje,KAAM,CAAC,CAAA,CAAA;MACrC,MAAMof,SAAS,GAAG7Q,OAAO,CAACZ,MAAM,CAAChL,KAAK,EAAEA,KAAK,CAAC,CAAA;MAE9C,OACEwG,GAAA,CAACuU,KAAK,EAAA;AACJC,QAAAA,OAAO,EAAGwB,SAAW;QAErB3Y,KAAK,EAAGmH,MAAM,CAACnH,KAAO;QACtB4C,KAAK,EAAGhB,UAAU,CAAC;AAAE,UAAA,aAAa,EAAEgX,SAAAA;AAAU,SAAC,CAAG;AAClD1U,QAAAA,QAAQ,EAAG,KAAO;AAAAlL,QAAAA,QAAA,EAClB2J,GAAA,CAAA,OAAA,EAAA;AACEiV,UAAAA,OAAO,EAAGgB,SAAW;AACrBhW,UAAAA,KAAK,EAAC,WAAW;AACjBlB,UAAAA,QAAQ,EAAGA,QAAU;AACrBsN,UAAAA,QAAQ,EAAGrN,QAAU;AACrBO,UAAAA,EAAE,EAAGyW,SAAW;AAChB1d,UAAAA,IAAI,EAAC,OAAO;UACZ4d,OAAO,EAAGA,MAAMrC,QAAQ,CAACrP,MAAM,CAAChL,KAAK,CAAG;AACxCsG,UAAAA,MAAM,EAAGsqB,WAAa;AACtBvqB,UAAAA,OAAO,EAAGwqB,YAAc;UACxB,kBAAmB,EAAA,CAAEnV,aAAa,EAAEC,cAAc,CAAE,CAAC/N,IAAI,CAAC,GAAG,CAAG;AAChE7F,UAAAA,QAAQ,EAAGA,QAAU;UACrB,cAAezC,EAAAA,MAAM,CAAC/I,MAAM,GAAG,CAAA;SAAK,CAAA;AAAC,OAAA,EAhBjCc,KAiBD,CAAC,CAAA;AAEZ,KAAC,CAAC,EAEJmJ,GAAA,CAACmU,WAAW,EAAA;AAAC5U,MAAAA,EAAE,EAAG2V,aAAe;AAACd,MAAAA,WAAW,EAAGA,WAAAA;AAAa,KAAE,CAAC,EAChEpU,GAAA,CAACsU,MAAM,EAAA;AAAC/U,MAAAA,EAAE,EAAG4V,cAAgB;AAACrW,MAAAA,MAAM,EAAGA,MAAAA;AAAQ,KAAE,CAAC,CAAA;AAAA,GAC/C,CAAC,CAAA;AACR,CAAA;AAEAqrB,KAAK,CAACjqB,MAAM,GAAG;QACb5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,IAAI;AACX9C,EAAAA,KAAK,EAAE,kBAAkB;AACzB+C,EAAAA,KAAK,EAAE,WAAW;AAClBgV,EAAAA,UAAU,EAAE,IAAI;AAChBC,EAAAA,aAAa,EAAEnC,yBAAyB;AACxC7S,EAAAA,MAAM,EAAEiE,kBAAAA;AACV,CAAC;;ACjID,IAAIoV,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,QAAQ,GAAG,SAAS,QAAQ,CAAC,KAAK,EAAE;AACxC,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,MAAM,EAAE,CAAC;AACb,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,QAAQ,EAAE,SAAS;AACvB,IAAI,MAAM,EAAE,cAAc;AAC1B,IAAI,WAAW,EAAE,GAAG;AACpB,IAAI,CAAC,EAAE,6GAA6G;AACpH,IAAI,QAAQ,EAAE,SAAS;AACvB,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,gBAAe,QAAQ;;ACLhB,SAAS4Q,gBAAgBA,CAAC1qB,KAAK,EAAE;EACtC,MAAM;IACJkV,KAAK;IACL/V,QAAQ;IACRD,MAAM;IACNgB,MAAM;IACND,OAAO;IACPtC,KAAK;IACLyB,QAAQ;AACRxF,IAAAA,KAAAA;AACF,GAAC,GAAGoG,KAAK,CAAA;EAET,MAAM,CAAElJ,MAAM,EAAE6zB,SAAS,CAAE,GAAG5T,QAAQ,CAAC,EAAE,CAAC,CAAA;EAC1C,MAAM,CAAE6T,kBAAkB,EAAEC,qBAAqB,CAAE,GAAG9T,QAAQ,CAAC,KAAK,CAAC,CAAA;EACrE,MAAM,CAAE+T,cAAc,EAAEC,iBAAiB,CAAE,GAAGhU,QAAQ,CAAC,IAAI,CAAC,CAAA;EAC5D,MAAM,CAAEiU,cAAc,EAAEC,gBAAgB,CAAE,GAAGlU,QAAQ,CAAC,KAAK,CAAC,CAAA;AAC5D,EAAA,MAAMmU,YAAY,GAAG3lB,MAAM,EAAE,CAAA;AAC7B,EAAA,MAAM9L,QAAQ,GAAG+H,UAAU,CAAC,UAAU,CAAC,CAAA;EAEvC,MAAM;IACJ+E,SAAS;AACTrR,IAAAA,OAAAA;AACF,GAAC,GAAG2Q,eAAe,CAAClI,KAAK,CAAC,CAAA;AAE1BqW,EAAAA,2BAA2B,CAAC;IAC1BrW,KAAK;IACL4I,SAAS;IACTrR,OAAO;IACP0E,KAAK;IACLqa,QAAQ,EAAEjU,KAAK,CAACiU,QAAAA;AAClB,GAAC,CAAC,CAAA;AAEF,EAAA,MAAMkX,mBAAmB,GAAGzjB,sBAAsB,CAACxS,OAAO,CAAC,CAAA;AAE3D,EAAA,MAAMuI,KAAK,GAAGkG,OAAO,CAAC,MAAM/J,KAAK,IAAIuxB,mBAAmB,CAACvxB,KAAK,CAAC,EAAE,CAAEA,KAAK,EAAEuxB,mBAAmB,CAAE,CAAC,CAAA;;AAEhG;AACAvgB,EAAAA,SAAS,CAAC,MAAM;AAAE+f,IAAAA,SAAS,CAACltB,KAAK,IAAI,EAAE,CAAC,CAAA;AAAE,GAAC,EAAE,CAAEA,KAAK,CAAE,CAAC,CAAA;AAEvD,EAAA,MAAM2tB,eAAe,GAAGznB,OAAO,CAAC,MAAM;AAEpC,IAAA,IAAI4C,SAAS,KAAKd,WAAW,CAACE,MAAM,EAAE;AACpC,MAAA,OAAO,EAAE,CAAA;AACX,KAAA;AAEA,IAAA,IAAI,CAAC7O,MAAM,IAAI,CAACg0B,cAAc,EAAE;AAC9B,MAAA,OAAO51B,OAAO,CAAA;AAChB,KAAA;AAEA,IAAA,OAAOA,OAAO,CAAC4B,MAAM,CAAE0N,CAAC,IAAKA,CAAC,CAAC/G,KAAK,IAAI+G,CAAC,CAAC5K,KAAK,IAAK4K,CAAC,CAAC/G,KAAK,CAAC8R,WAAW,EAAE,CAACla,QAAQ,CAACyB,MAAM,CAACyY,WAAW,EAAE,CAAE,CAAC,CAAA;GAE3G,EAAE,CAAEzY,MAAM,EAAEyP,SAAS,EAAErR,OAAO,EAAE41B,cAAc,CAAE,CAAC,CAAA;AAElD,EAAA,MAAM5B,QAAQ,GAAGphB,WAAW,CAAElD,MAAM,IAAK;IACvC+lB,SAAS,CAAC/lB,MAAM,IAAIA,MAAM,CAACnH,KAAK,IAAI,EAAE,CAAC,CAAA;IACvCuC,KAAK,CAACiU,QAAQ,CAAC;AAAEra,MAAAA,KAAK,EAAEgL,MAAM,IAAIA,MAAM,CAAChL,KAAK,IAAI,IAAI;AAAE+D,MAAAA,KAAAA;AAAM,KAAC,CAAC,CAAA;AAClE,GAAC,EAAE,CAAEA,KAAK,EAAEqC,KAAK,CAAE,CAAC,CAAA;AAEpB,EAAA,MAAMqrB,YAAY,GAAG1nB,OAAO,CAAC,MAAM;IACjC,MAAM2nB,EAAE,GAAG,EAAE,CAAA;AACbA,IAAAA,EAAE,CAACC,cAAc,GAAG,CAACpsB,QAAQ,IAAI,CAACC,QAAQ,IAAImH,SAAS,KAAKd,WAAW,CAACE,MAAM,CAAA;AAC9E2lB,IAAAA,EAAE,CAACE,YAAY,GAAGF,EAAE,CAACC,cAAc,IAAI3xB,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAKmE,SAAS,CAAA;AAC5EutB,IAAAA,EAAE,CAACG,eAAe,GAAG,CAACtsB,QAAQ,IAAI,CAACC,QAAQ,IAAIwrB,kBAAkB,IAAI,CAACI,cAAc,CAAA;AACpF,IAAA,OAAOM,EAAE,CAAA;AACX,GAAC,EAAE,CAAEnsB,QAAQ,EAAEyrB,kBAAkB,EAAEI,cAAc,EAAEzkB,SAAS,EAAEnH,QAAQ,EAAExF,KAAK,CAAE,CAAC,CAAA;AAEhF,EAAA,MAAM8xB,gBAAgB,GAAG5jB,WAAW,CAAEkO,CAAC,IAAK;IAC1CiV,gBAAgB,CAAC,KAAK,CAAC,CAAA;IACvBJ,qBAAqB,CAAC,CAACD,kBAAkB,CAAC,CAAA;AAE1C,IAAA,MAAMe,SAAS,GAAGT,YAAY,CAAC5zB,OAAO,CAAA;IACtCszB,kBAAkB,GAAGe,SAAS,CAACC,IAAI,EAAE,GAAGD,SAAS,CAACld,KAAK,EAAE,CAAA;IAEzDuH,CAAC,CAACkH,cAAc,EAAE,CAAA;AAEpB,GAAC,EAAE,CAAE0N,kBAAkB,CAAE,CAAC,CAAA;EAE1B,MAAMiB,aAAa,GAAGA,CAAC;AAAEzW,IAAAA,MAAAA;AAAO,GAAC,KAAK;IACpC6V,gBAAgB,CAAC,KAAK,CAAC,CAAA;IACvBJ,qBAAqB,CAAC,IAAI,CAAC,CAAA;IAC3BE,iBAAiB,CAAC,IAAI,CAAC,CAAA;AACvBJ,IAAAA,SAAS,CAACvV,MAAM,CAACxb,KAAK,IAAI,EAAE,CAAC,CAAA;AAC7BH,IAAAA,QAAQ,CAACY,IAAI,CAAC,kBAAkB,EAAE;AAAEkF,MAAAA,SAAS,EAAE5B,KAAK;AAAE/D,MAAAA,KAAK,EAAEwb,MAAM,CAACxb,KAAK,IAAI,EAAA;AAAG,KAAC,CAAC,CAAA;GACnF,CAAA;AAED,EAAA,MAAMojB,cAAc,GAAGlV,WAAW,CAAEgkB,YAAY,IAAK;IAEnD,QAAQA,YAAY,CAAC/pB,GAAG;AACxB,MAAA,KAAK,SAAS;QACZ+pB,YAAY,CAAC5O,cAAc,EAAE,CAAA;AAC7B,QAAA,MAAA;AACF,MAAA,KAAK,WAAW;AAAE,QAAA;UAChB,IAAI,CAAC0N,kBAAkB,EAAE;YACvBC,qBAAqB,CAAC,IAAI,CAAC,CAAA;YAC3BE,iBAAiB,CAAC,KAAK,CAAC,CAAA;AAC1B,WAAA;UAEAe,YAAY,CAAC5O,cAAc,EAAE,CAAA;AAC7B,UAAA,MAAA;AACF,SAAA;AACA,MAAA,KAAK,QAAQ;QACX+N,gBAAgB,CAAC,IAAI,CAAC,CAAA;AACtB,QAAA,MAAA;AACF,MAAA,KAAK,OAAO;AACV,QAAA,IAAID,cAAc,EAAE;UAClBC,gBAAgB,CAAC,KAAK,CAAC,CAAA;AACzB,SAAA;AACA,QAAA,MAAA;AACF,KAAA;AACF,GAAC,EAAE,CAAEL,kBAAkB,EAAEI,cAAc,CAAE,CAAC,CAAA;AAE1C,EAAA,MAAMe,gBAAgB,GAAGjkB,WAAW,CAAC,MAAM;IACzCmjB,gBAAgB,CAAC,KAAK,CAAC,CAAA;IACvBJ,qBAAqB,CAAC,IAAI,CAAC,CAAA;IAC3BE,iBAAiB,CAAC,KAAK,CAAC,CAAA;GACzB,EAAE,EAAE,CAAC,CAAA;AAEN,EAAA,MAAM5N,YAAY,GAAGrV,WAAW,CAAC,MAAM;IACrCmjB,gBAAgB,CAAC,KAAK,CAAC,CAAA;IACvBJ,qBAAqB,CAAC,IAAI,CAAC,CAAA;IAC3B5qB,OAAO,IAAIA,OAAO,EAAE,CAAA;AACtB,GAAC,EAAE,CAAEA,OAAO,CAAE,CAAC,CAAA;AAEf,EAAA,MAAMmd,WAAW,GAAGtV,WAAW,CAAC,MAAM;IACpC+iB,qBAAqB,CAAC,KAAK,CAAC,CAAA;AAC5BF,IAAAA,SAAS,CAACltB,KAAK,IAAI,EAAE,CAAC,CAAA;IACtByC,MAAM,IAAIA,MAAM,EAAE,CAAA;AACpB,GAAC,EAAE,CAAEA,MAAM,EAAEzC,KAAK,CAAE,CAAC,CAAA;EAErB,OAAOsX,IAAA,CAAAiE,QAAA,EAAA;AAAAviB,IAAAA,QAAA,GACLse,IAAA,CAAA,KAAA,EAAA;AACE1U,MAAAA,KAAK,EAAGhB,UAAU,CAAC,iBAAiB,EAAE;AAAE,QAAA,UAAU,EAAEF,QAAQ;AAAE,QAAA,UAAU,EAAEC,QAAAA;AAAS,OAAC,EAAE;QAAE,WAAW,EAAEF,MAAM,CAAC/I,MAAAA;AAAO,OAAC,CAAG;AAAAM,MAAAA,QAAA,GACvH2J,GAAA,CAAA,OAAA,EAAA;AACEjB,QAAAA,QAAQ,EAAGA,QAAU;AACrBsN,QAAAA,QAAQ,EAAGrN,QAAU;AACrBiB,QAAAA,KAAK,EAAC,WAAW;AACjBiF,QAAAA,GAAG,EAAG4lB,YAAc;AACpBvrB,QAAAA,EAAE,EAAGuV,KAAO;AACZjB,QAAAA,QAAQ,EAAG4X,aAAe;AAC1BnzB,QAAAA,IAAI,EAAC,MAAM;AACXkB,QAAAA,KAAK,EAAG9C,MAAQ;AAChB0mB,QAAAA,WAAW,EAAG,QAAU;AACxBC,QAAAA,YAAY,EAAC,KAAK;AAClBC,QAAAA,SAAS,EAAGV,cAAgB;AAC5BW,QAAAA,WAAW,EAAGoO,gBAAkB;AAChC9rB,QAAAA,OAAO,EAAGkd,YAAc;AACxBjd,QAAAA,MAAM,EAAGkd,WAAa;QACtB,kBAAmBpd,EAAAA,KAAK,CAAC,kBAAkB,CAAA;AAAG,OAAE,CAAC,EACjDqrB,YAAY,CAACG,YAAY,IAAIzW,IAAA,CAAA,MAAA,EAAA;AAAM1U,QAAAA,KAAK,EAAC,kBAAkB;QAACsd,WAAW,EAAI3H,CAAC,IAAK;UAAEkT,QAAQ,CAAC,IAAI,CAAC,CAAA;UAAElT,CAAC,CAACkH,cAAc,EAAE,CAAA;SAAK;AAAAzmB,QAAAA,QAAA,GAAC2J,GAAA,CAAC4rB,SAAS,EAAA,EAAE,CAAC,EAAC,GAAA,CAAA;OAAM,CAAC,EAClJ5rB,GAAA,CAAA,MAAA,EAAA;AAAMC,QAAAA,KAAK,EAAC,kBAAkB;AAACsd,QAAAA,WAAW,EAAI3H,CAAC,IAAK0V,gBAAgB,CAAC1V,CAAC,CAAG;AAAAvf,QAAAA,QAAA,EAAG40B,YAAY,CAACI,eAAe,GAAGrrB,GAAA,CAACgqB,WAAW,EAAA,EAAE,CAAC,GAAGhqB,GAAA,CAACiqB,aAAa,EAAE,EAAA,CAAA;AAAC,OAAQ,CAAC,CAAA;KACpJ,CAAC,EACNjqB,GAAA,CAAA,KAAA,EAAA;AAAKC,MAAAA,KAAK,EAAC,mBAAmB;AAAA5J,MAAAA,QAAA,EAC1B40B,YAAY,CAACI,eAAe,IAAIrrB,GAAA,CAAC4d,YAAY,EAAA;AAC7CngB,QAAAA,MAAM,EAAGutB,eAAiB;AAC1BnN,QAAAA,QAAQ,EAAIzZ,CAAC,IAAKA,CAAC,CAAC/G,KAAO;QAC3BygB,eAAe,EAAI1Z,CAAC,IAAK;UAAE0kB,QAAQ,CAAC1kB,CAAC,CAAC,CAAA;UAAEqmB,qBAAqB,CAAC,KAAK,CAAC,CAAA;SAAK;QACzE1e,eAAe,EAAG+e,YAAY,CAAC5zB,OAAAA;OAAW,CAAA;AAAC,KAC1C,CAAC,CAAA;AAAA,GACN,CAAC,CAAA;AACL;;AC/JO,SAAS20B,YAAYA,CAACjsB,KAAK,EAAE;EAClC,MAAM;IACJkV,KAAK;IACL/V,QAAQ;IACRD,MAAM;IACNgB,MAAM;IACND,OAAO;IACPtC,KAAK;IACLyB,QAAQ;AACRxF,IAAAA,KAAAA;AACF,GAAC,GAAGoG,KAAK,CAAA;EAET,MAAM,CAAE4qB,kBAAkB,EAAEC,qBAAqB,CAAE,GAAG9T,QAAQ,CAAC,KAAK,CAAC,CAAA;AACrE,EAAA,MAAMmV,SAAS,GAAG3mB,MAAM,EAAE,CAAA;AAC1B,EAAA,MAAM4V,QAAQ,GAAG5V,MAAM,EAAE,CAAA;EAEzB,MAAM;IACJgB,SAAS;AACTrR,IAAAA,OAAAA;AACF,GAAC,GAAG2Q,eAAe,CAAClI,KAAK,CAAC,CAAA;AAE1BqW,EAAAA,2BAA2B,CAAC;IAC1BrW,KAAK;IACL4I,SAAS;IACTrR,OAAO;IACP0E,KAAK;IACLqa,QAAQ,EAAEjU,KAAK,CAACiU,QAAAA;AAClB,GAAC,CAAC,CAAA;AAEF,EAAA,MAAMkX,mBAAmB,GAAGzjB,sBAAsB,CAACxS,OAAO,CAAC,CAAA;AAE3D,EAAA,MAAMi3B,UAAU,GAAGxoB,OAAO,CAAC,MAAM/J,KAAK,IAAIuxB,mBAAmB,CAACvxB,KAAK,CAAC,EAAE,CAAEA,KAAK,EAAEuxB,mBAAmB,CAAE,CAAC,CAAA;AAErG,EAAA,MAAMjC,QAAQ,GAAGphB,WAAW,CAAElD,MAAM,IAAK;IACvC5E,KAAK,CAACiU,QAAQ,CAAC;AAAEra,MAAAA,KAAK,EAAEgL,MAAM,IAAIA,MAAM,CAAChL,KAAK,IAAI,IAAI;AAAE+D,MAAAA,KAAAA;AAAM,KAAC,CAAC,CAAA;AAClE,GAAC,EAAE,CAAEA,KAAK,EAAEqC,KAAK,CAAE,CAAC,CAAA;AAEpB,EAAA,MAAMqrB,YAAY,GAAG1nB,OAAO,CAAC,MAAM;IACjC,MAAM2nB,EAAE,GAAG,EAAE,CAAA;AACbA,IAAAA,EAAE,CAACC,cAAc,GAAG,CAACpsB,QAAQ,IAAI,CAACC,QAAQ,IAAImH,SAAS,KAAKd,WAAW,CAACE,MAAM,CAAA;AAC9E2lB,IAAAA,EAAE,CAACE,YAAY,GAAGF,EAAE,CAACC,cAAc,IAAI3xB,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAKmE,SAAS,CAAA;IAC5EutB,EAAE,CAACG,eAAe,GAAG,CAACtsB,QAAQ,IAAI,CAACC,QAAQ,IAAIwrB,kBAAkB,CAAA;AACjE,IAAA,OAAOU,EAAE,CAAA;AACX,GAAC,EAAE,CAAEnsB,QAAQ,EAAEyrB,kBAAkB,EAAErkB,SAAS,EAAEnH,QAAQ,EAAExF,KAAK,CAAE,CAAC,CAAA;AAEhE,EAAA,MAAM+jB,WAAW,GAAG7V,WAAW,CAAEkO,CAAC,IAAK;AAErC,IAAA,MAAMoW,KAAK,GAAGjR,QAAQ,CAAC7jB,OAAO,CAAA;AAE9B,IAAA,IAAI6H,QAAQ,IAAI,CAACitB,KAAK,EAAE;AACtB,MAAA,OAAA;AACF,KAAA;IAEAvB,qBAAqB,CAAC,CAACD,kBAAkB,CAAC,CAAA;AAE1C,IAAA,IAAIA,kBAAkB,EAAE;MACtBwB,KAAK,CAACR,IAAI,EAAE,CAAA;AACd,KAAC,MAAM;MACLQ,KAAK,CAAC3d,KAAK,EAAE,CAAA;AACf,KAAA;IAEAuH,CAAC,CAACkH,cAAc,EAAE,CAAA;AACpB,GAAC,EAAE,CAAE/d,QAAQ,EAAEyrB,kBAAkB,CAAE,CAAC,CAAA;EAEpC,MAAMxM,iBAAiB,GAAGza,OAAO,CAAC,MAAM/J,KAAK,IAAIyyB,SAAS,CAACn3B,OAAO,EAAGsP,CAAC,IAAKA,CAAC,CAAC5K,KAAK,KAAKA,KAAK,CAAC,IAAI,CAAC,EAAE,CAAE1E,OAAO,EAAE0E,KAAK,CAAE,CAAC,CAAA;AAEvH,EAAA,MAAMujB,YAAY,GAAGrV,WAAW,CAAC,MAAM;IACrC,IAAI,CAAC1I,QAAQ,EAAE;MACbyrB,qBAAqB,CAAC,IAAI,CAAC,CAAA;MAC3B5qB,OAAO,IAAIA,OAAO,EAAE,CAAA;AACtB,KAAA;AACF,GAAC,EAAE,CAAEA,OAAO,EAAEb,QAAQ,CAAE,CAAC,CAAA;AAEzB,EAAA,MAAMge,WAAW,GAAGtV,WAAW,CAAC,MAAM;IACpC,IAAI,CAAC1I,QAAQ,EAAE;MACbyrB,qBAAqB,CAAC,KAAK,CAAC,CAAA;MAC5B3qB,MAAM,IAAIA,MAAM,EAAE,CAAA;AACpB,KAAA;AACF,GAAC,EAAE,CAAEA,MAAM,EAAEd,QAAQ,CAAE,CAAC,CAAA;EAExB,OAAO2V,IAAA,CAAAiE,QAAA,EAAA;AAAAviB,IAAAA,QAAA,GACLse,IAAA,CAAA,KAAA,EAAA;AAAKzP,MAAAA,GAAG,EAAG4mB,SAAW;AACpB7rB,MAAAA,KAAK,EAAGhB,UAAU,CAAC,iBAAiB,EAAE;QAAEF,QAAQ;AAAEC,QAAAA,QAAAA;AAAS,OAAC,EAAE;QAAE,WAAW,EAAEF,MAAM,CAAC/I,MAAAA;AAAO,OAAC,CAAG;AAC/F8J,MAAAA,OAAO,EAAGkd,YAAc;AACxBjd,MAAAA,MAAM,EAAGkd,WAAa;AACtBO,MAAAA,WAAW,EAAGA,WAAa;AAAAlnB,MAAAA,QAAA,GAC3B2J,GAAA,CAAA,KAAA,EAAA;AAAKC,QAAAA,KAAK,EAAGhB,UAAU,CAAC,oBAAoB,EAAE;AAAE,UAAA,wBAAwB,EAAG,CAACzF,KAAAA;AAAM,SAAC,CAAG;QAAC+F,EAAE,EAAI,CAAEuV,EAAAA,KAAM,CAAW,QAAA,CAAA;QAAAze,QAAA,EAAG01B,UAAU,IAAI,OAAA;AAAO,OAAO,CAAC,EAC9I,CAAChtB,QAAQ,IAAIiB,GAAA,CAAA,OAAA,EAAA;AACbkF,QAAAA,GAAG,EAAG6V,QAAU;AAChBxb,QAAAA,EAAE,EAAGuV,KAAO;AACZ7U,QAAAA,KAAK,EAAC,yBAAyB;AAC/BzG,QAAAA,KAAK,EAAGuyB,UAAY;AACpBlsB,QAAAA,OAAO,EAAGkd,YAAc;AACxBjd,QAAAA,MAAM,EAAGkd,WAAa;QACtB,kBAAmBpd,EAAAA,KAAK,CAAC,kBAAkB,CAAA;AAAG,OAAE,CAAC,EAEjDqrB,YAAY,CAACG,YAAY,IAAIprB,GAAA,CAAA,MAAA,EAAA;AAAMC,QAAAA,KAAK,EAAC,kBAAkB;QAACsd,WAAW,EAAI3H,CAAC,IAAK;UAAEkT,QAAQ,CAAC,IAAI,CAAC,CAAA;UAAElT,CAAC,CAACsW,eAAe,EAAE,CAAA;SAAK;AAAA71B,QAAAA,QAAA,EAAC2J,GAAA,CAAC4rB,SAAS,EAAE,EAAA,CAAA;OAAO,CAAC,EAClJ5rB,GAAA,CAAA,MAAA,EAAA;AAAMC,QAAAA,KAAK,EAAC,kBAAkB;AAAA5J,QAAAA,QAAA,EAAG40B,YAAY,CAACI,eAAe,GAAGrrB,GAAA,CAACgqB,WAAW,EAAA,EAAE,CAAC,GAAGhqB,GAAA,CAACiqB,aAAa,EAAE,EAAA,CAAA;AAAC,OAAQ,CAAC,CAAA;KACzG,CAAC,EACNjqB,GAAA,CAAA,KAAA,EAAA;AAAKC,MAAAA,KAAK,EAAC,mBAAmB;AAAA5J,MAAAA,QAAA,EAC3B40B,YAAY,CAACI,eAAe,IAAIrrB,GAAA,CAAC4d,YAAY,EAAA;AAC5CngB,QAAAA,MAAM,EAAG3I,OAAS;AAClB+oB,QAAAA,QAAQ,EAAIzZ,CAAC,IAAKA,CAAC,CAAC/G,KAAO;AAC3B2gB,QAAAA,iBAAiB,EAAGA,iBAAmB;QACvCF,eAAe,EAAI1Z,CAAC,IAAK;UAAE0kB,QAAQ,CAAC1kB,CAAC,CAAC,CAAA;UAAEqmB,qBAAqB,CAAC,KAAK,CAAC,CAAA;SAAK;QACzE1e,eAAe,EAAG+f,SAAS,CAAC50B,OAAAA;OAAW,CAAA;AAAC,KACvC,CAAC,CAAA;AAAA,GACN,CAAC,CAAA;AACL;;AC9GA,MAAMoB,MAAI,GAAG,QAAQ,CAAA;AAEd,SAAS6zB,MAAMA,CAACvsB,KAAK,EAAE;EAC5B,MAAM;IACJb,QAAQ;AACRD,IAAAA,MAAM,GAAG,EAAE;IACXgW,KAAK;IACLhV,MAAM;IACND,OAAO;IACPtC,KAAK;IACLsW,QAAQ;IACR7U,QAAQ;AACRxF,IAAAA,KAAAA;AACF,GAAC,GAAGoG,KAAK,CAAA;EAET,MAAM;IACJwU,WAAW;IACX/W,KAAK;AACL+uB,IAAAA,UAAU,GAAG,KAAK;AAClBrX,IAAAA,QAAQ,GAAG,EAAC;AACd,GAAC,GAAGxX,KAAK,CAAA;EAET,MAAM;AAAEgE,IAAAA,QAAAA;AAAS,GAAC,GAAGwT,QAAQ,CAAA;AAE7B,EAAA,MAAMG,aAAa,GAAI,CAAEJ,EAAAA,KAAM,CAAa,YAAA,CAAA,CAAA;AAC5C,EAAA,MAAMK,cAAc,GAAI,CAAEL,EAAAA,KAAM,CAAe,cAAA,CAAA,CAAA;AAE/C,EAAA,MAAMuX,WAAW,GAAG;IAClBvX,KAAK;IACL/V,QAAQ;IACRD,MAAM;IACNgB,MAAM;IACND,OAAO;IACPtC,KAAK;IACL/D,KAAK;IACLqa,QAAQ;IACR7U,QAAQ;IACRuC,QAAQ;AACR,IAAA,cAAc,EAAEzC,MAAM,CAAC/I,MAAM,GAAG,CAAC;IACjC,kBAAkB,EAAE,CAAEmf,aAAa,EAAEC,cAAc,CAAE,CAAC/N,IAAI,CAAC,GAAG,CAAA;GAC/D,CAAA;AAED,EAAA,OAAOuN,IAAA,CAAA,KAAA,EAAA;AACL1U,IAAAA,KAAK,EAAGpB,gBAAgB,CAACvG,MAAI,EAAE;MAAEwG,MAAM;MAAEC,QAAQ;AAAEC,MAAAA,QAAAA;AAAS,KAAC,CAAG;IAChEse,SAAS,EACN8B,KAAK,IAAK;AACT,MAAA,IAAIA,KAAK,CAACzd,GAAG,KAAK,OAAO,EAAE;QACzByd,KAAK,CAACtC,cAAc,EAAE,CAAA;QACtBsC,KAAK,CAAC8M,eAAe,EAAE,CAAA;AACzB,OAAA;KAEH;IAAA71B,QAAA,EAAA,CAED2J,GAAA,CAACuU,KAAK,EAAA;AACJC,MAAAA,OAAO,EAAGM,KAAO;AACjBzX,MAAAA,KAAK,EAAGA,KAAO;AACfkE,MAAAA,QAAQ,EAAGA,QAAAA;AAAU,KAAE,CAAC,EACxB6qB,UAAU,GAAGpsB,GAAA,CAACsqB,gBAAgB,EAAA;MAAA,GAAM+B,WAAAA;AAAW,KAAI,CAAC,GAAGrsB,GAAA,CAAC6rB,YAAY,EAAA;MAAA,GAAMQ,WAAAA;AAAW,KAAI,CAAC,EAC5FrsB,GAAA,CAACmU,WAAW,EAAA;AAAC5U,MAAAA,EAAE,EAAG2V,aAAe;AAACd,MAAAA,WAAW,EAAGA,WAAAA;AAAa,KAAE,CAAC,EAChEpU,GAAA,CAACsU,MAAM,EAAA;AAAC/U,MAAAA,EAAE,EAAG4V,cAAgB;AAACrW,MAAAA,MAAM,EAAGA,MAAAA;AAAQ,KAAE,CAAC,CAAA;AAAA,GAC/C,CAAC,CAAA;AACR,CAAA;AAEAqtB,MAAM,CAACjsB,MAAM,GAAG;QACd5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,IAAI;AACX9C,EAAAA,KAAK,EAAE,qBAAqB;AAC5B+C,EAAAA,KAAK,EAAE,WAAW;AAClBgV,EAAAA,UAAU,EAAE,IAAI;AAChBC,EAAAA,aAAa,EAAEnC,yBAAyB;AACxC7S,EAAAA,MAAM,EAAEiE,kBAAAA;AACV,CAAC;;AC/ED,MAAMhM,MAAI,GAAG,WAAW,CAAA;AAEjB,SAASg0B,SAASA,GAAG;AAE1B,EAAA,OACEtsB,GAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAGpB,gBAAgB,CAACvG,MAAI,CAAG;IAAAjC,QAAA,EACnC2J,GAAA,CAAK,IAAA,EAAA,EAAA,CAAA;AAAC,GACH,CAAC,CAAA;AAEV,CAAA;AAEAssB,SAAS,CAACpsB,MAAM,GAAG;QACjB5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,KAAK;AACZ9C,EAAAA,KAAK,EAAE,WAAW;AAClB+C,EAAAA,KAAK,EAAE,cAAc;AACrBC,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,MAAM;IACzB,GAAGA,OAAAA;GACJ,CAAA;AACH,CAAC;;ACnBD,MAAMwD,MAAI,GAAG,QAAQ,CAAA;AAEd,SAASi0B,MAAMA,CAAC3sB,KAAK,EAAE;EAC5B,MAAM;AAAErC,IAAAA,KAAAA;AAAM,GAAC,GAAGqC,KAAK,CAAA;EACvB,MAAM;AAAE6L,IAAAA,MAAM,GAAG,EAAA;AAAG,GAAC,GAAGlO,KAAK,CAAA;AAE7B,EAAA,OACEyC,GAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAGpB,gBAAgB,CAACvG,MAAI,CAAG;AAACqI,IAAAA,KAAK,EAAG;AAAE8K,MAAAA,MAAM,EAAEA,MAAAA;AAAO,KAAA;AAAG,GAAE,CAAC,CAAA;AAEzE,CAAA;AAEA8gB,MAAM,CAACrsB,MAAM,GAAG;QACd5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,KAAK;AACZ9C,EAAAA,KAAK,EAAE,QAAQ;AACf+C,EAAAA,KAAK,EAAE,cAAc;AACrBC,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,MAAM;AACzB2W,IAAAA,MAAM,EAAE,EAAE;IACV,GAAG3W,OAAAA;GACJ,CAAA;AACH,CAAC;;ACdM,SAAS03B,WAAWA,CAAC5sB,KAAK,EAAE;EAEjC,MAAM;IAAErC,KAAK;IAAEuX,KAAK;AAAE9V,IAAAA,QAAAA;AAAS,GAAC,GAAGY,KAAK,CAAA;EACxC,MAAM;IAAEvC,KAAK;IAAE/E,IAAI;AAAEuqB,IAAAA,WAAAA;AAAY,GAAC,GAAGtlB,KAAK,CAAA;EAE1C,MAAM;AACJiD,IAAAA,KAAAA;AACF,GAAC,GAAGa,UAAU,CAACf,iBAAiB,CAAC,CAAA;AAEjC,EAAA,MAAMmZ,SAAS,GAAG;AAAE,IAAA,GAAG7Z,KAAK;AAAEY,IAAAA,KAAAA;GAAO,CAAA;AAErC,EAAA,OACEmU,IAAA,CAAA,KAAA,EAAA;AACEmO,IAAAA,SAAS,EACP7jB,UAAU,CACRJ,gBAAgB,CAACvG,IAAI,EAAE;AAAE0G,MAAAA,QAAAA;KAAU,CAAC,EACpC,0BAA0B,EAC1B;AACE,MAAA,cAAc,EAAG6jB,WAAAA;AACnB,KACF,CACD;AACDE,IAAAA,IAAI,EAAC,OAAO;AACZ,IAAA,iBAAA,EAAkBjO,KAAO;IAAAze,QAAA,EAAA,CAEzB2J,GAAA,CAACuU,KAAK,EAAA;AACJhV,MAAAA,EAAE,EAAGuV,KAAO;AACZzX,MAAAA,KAAK,EAAGA,KAAAA;AAAO,KAAE,CAAC,EACpB2C,GAAA,CAAC8X,gBAAgB,EAAA;MAAA,GAAM2B,SAAAA;AAAS,KAAI,CAAC,CAAA;AAAA,GAClC,CAAC,CAAA;AAEV,CAAA;AAEA+S,WAAW,CAACtsB,MAAM,GAAG;AACnB5H,EAAAA,IAAI,EAAE,aAAa;AACnB0qB,EAAAA,MAAM,EAAE,IAAI;AACZyJ,EAAAA,UAAU,EAAE,IAAI;AAChBpvB,EAAAA,KAAK,EAAE,kBAAkB;AACzB+C,EAAAA,KAAK,EAAE,WAAW;AAClBC,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,MAAM;AACzBgO,IAAAA,UAAU,EAAE,EAAE;AACd+f,IAAAA,WAAW,EAAE,IAAI;AACjB7K,IAAAA,WAAW,EAAE,IAAI;AACjB0U,IAAAA,cAAc,EAAE,IAAI;AACpBC,IAAAA,kBAAkB,EAAE,CAAC;IACrB,GAAG73B,OAAAA;GACJ,CAAA;AACH,CAAC;;ACnDM,SAAS83B,QAAQA,CAAChtB,KAAK,EAAE;EAE9B,MAAM;IACJkjB,SAAS;IACTzlB,KAAK;AACLwvB,IAAAA,MAAAA;AACF,GAAC,GAAGjtB,KAAK,CAAA;AAET,EAAA,MAAM0d,SAAS,GAAG5V,WAAW,CAAC0X,KAAK,IAAI;AACrC,IAAA,IAAIA,KAAK,CAACzd,GAAG,KAAK,OAAO,EAAE;MACzByd,KAAK,CAACtC,cAAc,EAAE,CAAA;MACtBsC,KAAK,CAAC8M,eAAe,EAAE,CAAA;AACvBW,MAAAA,MAAM,EAAE,CAAA;AACV,KAAA;AACF,GAAC,EAAE,CAAEA,MAAM,CAAE,CAAC,CAAA;AAGd,EAAA,OACE7sB,GAAA,CAAA,GAAA,EAAA;AACE8sB,IAAAA,IAAI,EAAC,GAAG;AACR7sB,IAAAA,KAAK,EAAGhB,UAAU,CAAC,eAAe,EAAE6jB,SAAS,CAAG;AAChDxF,IAAAA,SAAS,EAAGA,SAAW;AAAAjnB,IAAAA,QAAA,EACtBgH,KAAAA;AAAK,GAAK,CAAC,CAAA;AAElB;;ACJA,MAAM/E,MAAI,GAAG,SAAS,CAAA;AAEf,SAASy0B,OAAOA,CAACntB,KAAK,EAAE;EAC7B,MAAM;IACJb,QAAQ;AACRD,IAAAA,MAAM,GAAG,EAAE;IACXe,OAAO;IACPiV,KAAK;IACLhV,MAAM;IACNvC,KAAK;IACLyB,QAAQ;AACRxF,IAAAA,KAAAA;AACF,GAAC,GAAGoG,KAAK,CAAA;EAET,MAAM;IACJwU,WAAW;IACX/W,KAAK;AACL0X,IAAAA,QAAQ,GAAG,EAAC;AACd,GAAC,GAAGxX,KAAK,CAAA;EAET,MAAM;AAAEgE,IAAAA,QAAAA;AAAS,GAAC,GAAGwT,QAAQ,CAAA;EAE7B,MAAM,CAAEre,MAAM,EAAE6zB,SAAS,CAAE,GAAG5T,QAAQ,CAAC,EAAE,CAAC,CAAA;EAC1C,MAAM,CAAE6T,kBAAkB,EAAEC,qBAAqB,CAAE,GAAG9T,QAAQ,CAAC,KAAK,CAAC,CAAA;EACrE,MAAM,CAAEiU,cAAc,EAAEC,gBAAgB,CAAE,GAAGlU,QAAQ,CAAC,KAAK,CAAC,CAAA;AAC5D,EAAA,MAAM+E,aAAa,GAAGvW,MAAM,EAAE,CAAA;AAC9B,EAAA,MAAM4V,QAAQ,GAAG5V,MAAM,EAAE,CAAA;AACzB,EAAA,MAAM9L,QAAQ,GAAG+H,UAAU,CAAC,UAAU,CAAC,CAAA;EAEvC,MAAM;IACJ+E,SAAS;AACTrR,IAAAA,OAAAA;AACF,GAAC,GAAG2Q,eAAe,CAAClI,KAAK,CAAC,CAAA;;AAE1B;AACA,EAAA,MAAME,MAAM,GAAGwH,qBAAqB,CAACzL,KAAK,IAAI,EAAE,CAAC,CAAA;AAEjDwa,EAAAA,0BAA0B,CAAC;IACzBzW,KAAK;IACL4I,SAAS;IACTrR,OAAO;IACP2I,MAAM;IACNoW,QAAQ,EAAEjU,KAAK,CAACiU,QAAAA;AAClB,GAAC,CAAC,CAAA;AAEF,EAAA,MAAMkX,mBAAmB,GAAGzjB,sBAAsB,CAACxS,OAAO,CAAC,CAAA;EAE3D,MAAMk4B,cAAc,GAAGzpB,OAAO,CAAC,MAAMzO,OAAO,CAACiB,MAAM,GAAG0H,MAAM,CAAC1H,MAAM,EAAE,CAAEjB,OAAO,CAACiB,MAAM,EAAE0H,MAAM,CAAC1H,MAAM,CAAE,CAAC,CAAA;AAEvG,EAAA,MAAMi1B,eAAe,GAAGznB,OAAO,CAAC,MAAM;AACpC,IAAA,IAAI4C,SAAS,KAAKd,WAAW,CAACE,MAAM,EAAE;AACpC,MAAA,OAAO,EAAE,CAAA;AACX,KAAA;IAEA,MAAM0nB,qBAAqB,GAAIzoB,MAAM,IAAK;AACxC,MAAA,MAAM0oB,aAAa,GAAG1oB,MAAM,CAACnH,KAAK,CAAC8R,WAAW,EAAE,CAACla,QAAQ,CAACyB,MAAM,CAACyY,WAAW,EAAE,CAAC,CAAA;MAC/E,OAAO+d,aAAa,IAAI,CAACna,aAAa,CAACvO,MAAM,CAAChL,KAAK,EAAEiE,MAAM,CAAC,CAAA;KAC7D,CAAA;AAED,IAAA,OAAO3I,OAAO,CAAC4B,MAAM,CAACu2B,qBAAqB,CAAC,CAAA;GAC7C,EAAE,CAAEv2B,MAAM,EAAE5B,OAAO,EAAE2I,MAAM,EAAE0I,SAAS,CAAE,CAAC,CAAA;EAG1C,MAAMgnB,WAAW,GAAI3zB,KAAK,IAAK;IAE7B+wB,SAAS,CAAC,EAAE,CAAC,CAAA;;AAEb;IACA,IAAI9sB,MAAM,CAAC2vB,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK5zB,KAAK,EAAE;AAC3B,MAAA,OAAA;AACF,KAAA;IAEAoG,KAAK,CAACiU,QAAQ,CAAC;AAAEra,MAAAA,KAAK,EAAE,CAAE,GAAGiE,MAAM,EAAEjE,KAAK,CAAE;AAAE+D,MAAAA,KAAAA;AAAM,KAAC,CAAC,CAAA;GACvD,CAAA;EAED,MAAM8vB,aAAa,GAAI7zB,KAAK,IAAK;AAC/B,IAAA,MAAMkc,SAAS,GAAGjY,MAAM,CAAC/G,MAAM,CAAE0c,CAAC,IAAK,CAAChO,OAAO,CAACgO,CAAC,EAAE5Z,KAAK,CAAC,CAAC,CAAA;IAC1DoG,KAAK,CAACiU,QAAQ,CAAC;AAAEra,MAAAA,KAAK,EAAEkc,SAAS;AAAEnY,MAAAA,KAAAA;AAAM,KAAC,CAAC,CAAA;GAC5C,CAAA;EAED,MAAMkuB,aAAa,GAAGA,CAAC;AAAEzW,IAAAA,MAAAA;AAAO,GAAC,KAAK;IACpC6V,gBAAgB,CAAC,KAAK,CAAC,CAAA;AACvBN,IAAAA,SAAS,CAACvV,MAAM,CAACxb,KAAK,IAAI,EAAE,CAAC,CAAA;AAC7BH,IAAAA,QAAQ,CAACY,IAAI,CAAC,kBAAkB,EAAE;AAAEkF,MAAAA,SAAS,EAAE5B,KAAK;AAAE/D,MAAAA,KAAK,EAAEwb,MAAM,CAACxb,KAAK,IAAI,EAAA;AAAG,KAAC,CAAC,CAAA;GACnF,CAAA;EAED,MAAMojB,cAAc,GAAIhH,CAAC,IAAK;IAE5B,QAAQA,CAAC,CAACjU,GAAG;AACb,MAAA,KAAK,SAAS,CAAA;AACd,MAAA,KAAK,WAAW;AAEd;QACAiU,CAAC,CAACkH,cAAc,EAAE,CAAA;AAClB,QAAA,MAAA;AACF,MAAA,KAAK,WAAW;AACd,QAAA,IAAI,CAACpmB,MAAM,IAAI+G,MAAM,CAAC1H,MAAM,EAAE;UAC5Bs3B,aAAa,CAAC5vB,MAAM,CAACA,MAAM,CAAC1H,MAAM,GAAG,CAAC,CAAC,CAAC,CAAA;AAC1C,SAAA;AACA,QAAA,MAAA;AACF,MAAA,KAAK,QAAQ;QACX80B,gBAAgB,CAAC,IAAI,CAAC,CAAA;AACtB,QAAA,MAAA;AACF,MAAA,KAAK,OAAO;AACV,QAAA,IAAID,cAAc,EAAE;UAClBC,gBAAgB,CAAC,KAAK,CAAC,CAAA;AACzB,SAAA;AACA,QAAA,MAAA;AACF,KAAA;GACD,CAAA;EAED,MAAMyC,aAAa,GAAI1X,CAAC,IAAK;IAC3B,IAAI8F,aAAa,CAACxkB,OAAO,CAAC2e,QAAQ,CAACD,CAAC,CAACE,aAAa,CAAC,EAAE,OAAA;IACrDhW,MAAM,IAAIA,MAAM,EAAE,CAAA;GACnB,CAAA;EAED,MAAMytB,cAAc,GAAI3X,CAAC,IAAK;IAC5B,IAAI8F,aAAa,CAACxkB,OAAO,CAAC2e,QAAQ,CAACD,CAAC,CAACE,aAAa,CAAC,EAAE,OAAA;IACrDjW,OAAO,IAAIA,OAAO,EAAE,CAAA;GACrB,CAAA;EAED,MAAMmd,WAAW,GAAIpH,CAAC,IAAK;IACzB,IAAI,CAAC5W,QAAQ,EAAE;MACbyrB,qBAAqB,CAAC,KAAK,CAAC,CAAA;MAC5BF,SAAS,CAAC,EAAE,CAAC,CAAA;AACf,KAAA;IACA+C,aAAa,CAAC1X,CAAC,CAAC,CAAA;GACjB,CAAA;EAED,MAAMmH,YAAY,GAAInH,CAAC,IAAK;IAC1B,IAAI,CAAC5W,QAAQ,EAAE;MACbyrB,qBAAqB,CAAC,IAAI,CAAC,CAAA;AAC7B,KAAA;IACA8C,cAAc,CAAC3X,CAAC,CAAC,CAAA;GAClB,CAAA;AAED,EAAA,MAAM4X,gBAAgB,GAAGA,CAACpO,KAAK,EAAE5lB,KAAK,KAAK;IACzC,MAAM;AAAEwb,MAAAA,MAAAA;AAAO,KAAC,GAAGoK,KAAK,CAAA;IAExBiO,aAAa,CAAC7zB,KAAK,CAAC,CAAA;;AAEpB;IACA,MAAMi0B,OAAO,GAAGzY,MAAM,CAAC0Y,OAAO,CAAC,kBAAkB,CAAC,CAACC,WAAW,CAAA;IAC9D,IAAI,CAACF,OAAO,EAAE;AACZ1S,MAAAA,QAAQ,CAAC7jB,OAAO,CAACmX,KAAK,EAAE,CAAA;AAC1B,KAAA;GACD,CAAA;EAED,MAAMuf,cAAc,GAAGA,MAAM;AAC3B7S,IAAAA,QAAQ,CAAC7jB,OAAO,CAACmX,KAAK,EAAE,CAAA;GACzB,CAAA;AAED,EAAA,MAAMwf,qBAAqB,GAAGtqB,OAAO,CAAC,MAAM,CAACxE,QAAQ,IAAIoH,SAAS,KAAKd,WAAW,CAACE,MAAM,IAAIilB,kBAAkB,IAAI,CAACI,cAAc,EAAE,CAAE7rB,QAAQ,EAAEyrB,kBAAkB,EAAEI,cAAc,EAAEzkB,SAAS,CAAE,CAAC,CAAA;AAEhM,EAAA,MAAM+O,aAAa,GAAI,CAAEJ,EAAAA,KAAM,CAAa,YAAA,CAAA,CAAA;AAC5C,EAAA,MAAMK,cAAc,GAAI,CAAEL,EAAAA,KAAM,CAAe,cAAA,CAAA,CAAA;AAE/C,EAAA,OAAOH,IAAA,CAAA,KAAA,EAAA;AACLzP,IAAAA,GAAG,EAAGwW,aAAe;AACrBzb,IAAAA,KAAK,EAAGpB,gBAAgB,CAACvG,MAAI,EAAE;MAAEwG,MAAM;MAAEC,QAAQ;AAAEC,MAAAA,QAAAA;AAAS,KAAC,CAAG;IAChEse,SAAS,EACN8B,KAAK,IAAK;AACT,MAAA,IAAIA,KAAK,CAACzd,GAAG,KAAK,OAAO,EAAE;QACzByd,KAAK,CAAC8M,eAAe,EAAE,CAAA;QACvB9M,KAAK,CAACtC,cAAc,EAAE,CAAA;AACxB,OAAA;KAEH;IAAAzmB,QAAA,EAAA,CAED2J,GAAA,CAACuU,KAAK,EAAA;AACJlX,MAAAA,KAAK,EAAGA,KAAO;AACfkE,MAAAA,QAAQ,EAAGA,QAAU;AACrBiT,MAAAA,OAAO,EAAGM,KAAAA;AAAO,KAAE,CAAC,EACnB,CAAC/V,QAAQ,IAAI,CAACC,QAAQ,IAAI,CAAC,CAACvB,MAAM,CAAC1H,MAAM,IAAKiK,GAAA,CAAC4sB,QAAQ,EAAA;AAAC9J,MAAAA,SAAS,EAAC,uBAAuB;AAACzlB,MAAAA,KAAK,EAAC,gBAAgB;AAACwvB,MAAAA,MAAM,EAAGe,cAAAA;KAAkB,CAAC,EAChJjZ,IAAA,CAAA,KAAA,EAAA;AAAK1U,MAAAA,KAAK,EAAGhB,UAAU,CAAC,aAAa,EAAE;AAAE,QAAA,cAAc,EAAEF,QAAQ;AAAE,QAAA,cAAc,EAAEC,QAAAA;AAAS,OAAC,CAAG;AAAA3I,MAAAA,QAAA,GAC5F8P,SAAS,KAAKd,WAAW,CAACE,MAAM,IAChCvF,GAAA,CAAA,KAAA,EAAA;AAAKC,QAAAA,KAAK,EAAC,kBAAkB;AAAA5J,QAAAA,QAAA,EAEzBoH,MAAM,CAAC/F,GAAG,CAAE0b,CAAC,IAAK;AAChB,UAAA,OACEuB,IAAA,CAAA,KAAA,EAAA;AAAK1U,YAAAA,KAAK,EAAGhB,UAAU,CAAC,iBAAiB,EAAE;AAAE,cAAA,cAAc,EAAEF,QAAQ;AAAE,cAAA,cAAc,EAAEC,QAAAA;AAAS,aAAC,CAAG;AAACue,YAAAA,WAAW,EAAI3H,CAAC,IAAKA,CAAC,CAACkH,cAAc,EAAI;AAAAzmB,YAAAA,QAAA,GAC5I2J,GAAA,CAAA,MAAA,EAAA;AAAMC,cAAAA,KAAK,EAAC,uBAAuB;cAAA5J,QAAA,EAC/B00B,mBAAmB,CAAC3X,CAAC,CAAA;aACnB,CAAC,EACJ,CAACrU,QAAQ,IAAI,CAACC,QAAQ,IAAKgB,GAAA,CAAA,QAAA,EAAA;AAC5B1H,cAAAA,IAAI,EAAC,QAAQ;AACbqrB,cAAAA,KAAK,EAAC,YAAY;AAClB1jB,cAAAA,KAAK,EAAC,wBAAwB;AAC9BJ,cAAAA,OAAO,EAAG0tB,cAAgB;AAC1BztB,cAAAA,MAAM,EAAGwtB,aAAe;cACxBpX,OAAO,EAAIkJ,KAAK,IAAKoO,gBAAgB,CAACpO,KAAK,EAAEhM,CAAC,CAAG;AAAA/c,cAAAA,QAAA,EAEjD2J,GAAA,CAAC4rB,SAAS,EAAE,EAAA,CAAA;AAAC,aACP,CAAC,CAAA;AAAA,WACN,CAAC,CAAA;SAET,CAAA;OAEA,CAAC,EAER5rB,GAAA,CAAA,OAAA,EAAA;AACEjB,QAAAA,QAAQ,EAAGA,QAAU;AACrBsN,QAAAA,QAAQ,EAAGrN,QAAU;AACrBiB,QAAAA,KAAK,EAAC,mBAAmB;AACzBiF,QAAAA,GAAG,EAAG6V,QAAU;AAChBxb,QAAAA,EAAE,EAAGuV,KAAO;AACZjB,QAAAA,QAAQ,EAAG4X,aAAe;AAC1BnzB,QAAAA,IAAI,EAAC,MAAM;AACXkB,QAAAA,KAAK,EAAG9C,MAAQ;AAChB0mB,QAAAA,WAAW,EAAIre,QAAQ,IAAIC,QAAQ,GAAIrB,SAAS,GAAG,QAAU;AAC7D0f,QAAAA,YAAY,EAAC,KAAK;AAClBC,QAAAA,SAAS,EAAGV,cAAgB;AAC5BW,QAAAA,WAAW,EAAGA,MAAMsN,gBAAgB,CAAC,KAAK,CAAG;AAC7ChrB,QAAAA,OAAO,EAAGkd,YAAc;AACxBjd,QAAAA,MAAM,EAAGkd,WAAa;QACtB,kBAAmB,EAAA,CAAE9H,aAAa,EAAEC,cAAc,CAAE,CAAC/N,IAAI,CAAC,GAAG,CAAG;AAChE7F,QAAAA,QAAQ,EAAGA,QAAU;QACrB,cAAezC,EAAAA,MAAM,CAAC/I,MAAM,GAAG,CAAA;AAAG,OAAE,CAAC,CAAA;KACpC,CAAC,EACNiK,GAAA,CAAA,KAAA,EAAA;AAAKC,MAAAA,KAAK,EAAC,oBAAoB;AAAA5J,MAAAA,QAAA,EAC3Bw3B,qBAAqB,IAAI7tB,GAAA,CAAC4d,YAAY,EAAA;AACtCngB,QAAAA,MAAM,EAAGutB,eAAiB;AAC1BnN,QAAAA,QAAQ,EAAIzZ,CAAC,IAAKA,CAAC,CAAC/G,KAAO;QAC3BygB,eAAe,EAAI1Z,CAAC,IAAK+oB,WAAW,CAAC/oB,CAAC,CAAC5K,KAAK,CAAG;AAC/CukB,QAAAA,gBAAgB,EAAGiP,cAAc,GAAG,YAAY,GAAG,qBAAuB;QAC1EjhB,eAAe,EAAGgP,QAAQ,CAAC7jB,OAAAA;OAAW,CAAA;AAAC,KACtC,CAAC,EACN8I,GAAA,CAACmU,WAAW,EAAA;AAAC5U,MAAAA,EAAE,EAAG2V,aAAe;AAACd,MAAAA,WAAW,EAAGA,WAAAA;AAAa,KAAE,CAAC,EAChEpU,GAAA,CAACsU,MAAM,EAAA;AAAC/U,MAAAA,EAAE,EAAG4V,cAAgB;AAACrW,MAAAA,MAAM,EAAGA,MAAAA;AAAQ,KAAE,CAAC,CAAA;AAAA,GAC/C,CAAC,CAAA;AACR,CAAA;AAEAiuB,OAAO,CAAC7sB,MAAM,GAAG;QACf5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,IAAI;AACX9C,EAAAA,KAAK,EAAE,eAAe;AACtB+C,EAAAA,KAAK,EAAE,WAAW;AAClBgV,EAAAA,UAAU,EAAE,EAAE;AACdC,EAAAA,aAAa,EAAEhC,wBAAwB;AACvChT,EAAAA,MAAM,EAAEiE,kBAAAA;AACV,CAAC;;ACxQD,MAAMwpB,cAAc,GAAG,CAAC;AAClBC,EAAAA,iBAAiB,GAAG,CAAC,CAAA;AAE3B,MAAMC,aAAa,GAAG,CACpB,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,MAAM,EACN,IAAI,EACJ,GAAG,EACH,GAAG,EACH,KAAK,EACL,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,IAAI,EACJ,YAAY,EACZ,KAAK,EACL,KAAK,EACL,MAAM,EACN,IAAI,EACJ,QAAQ,EACR,OAAO,EACP,OAAO,EACP,OAAO,EACP,IAAI,EACJ,IAAI,EACJ,IAAI,CACL,CAAA;AAED,MAAMC,kBAAkB,GAAG,CACzB,OAAO,EACP,KAAK,EACL,OAAO,EACP,MAAM,EACN,IAAI,EACJ,MAAM,EACN,KAAK,EACL,QAAQ,EACR,KAAK,CACN,CAAA;AAED,MAAMC,mBAAmB,GAAG,uFAAuF,CAAC;AACpH,MAAMC,uBAAuB,GAAG,6DAA6D,CAAC;;AAE9F,MAAMC,YAAY,GAAG1vB,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC,CAAA;;AAEnD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACO,SAAS0vB,YAAYA,CAAChoB,IAAI,EAAE;AAEjC,EAAA,MAAMioB,GAAG,GAAG,IAAIC,SAAS,EAAE,CAACC,eAAe,CACxC,CAAqCnoB,kCAAAA,EAAAA,IAAM,CAAC,CAAA,EAC7C,WACF,CAAC,CAAA;EAEDioB,GAAG,CAACG,SAAS,EAAE,CAAA;AAEf,EAAA,MAAMxb,OAAO,GAAGqb,GAAG,CAACjlB,IAAI,CAACqlB,UAAU,CAAA;AAEnC,EAAA,IAAIzb,OAAO,EAAE;IAEX0b,YAAY,sBAAuB1b,OAAQ,CAAC,CAAA;IAC5C,4BAA6BA,OAAO,CAAE2b,SAAAA;AAAS,MAAA;AAEjD,GAAC,MAAM;AAEL;AACA;AACA,IAAA,OAAO,EAAE,CAAA;AACX,GAAA;AACF,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASD,YAAYA,CAACl5B,IAAI,EAAE;AAE1B;AACA,EAAA,IAAIA,IAAI,CAACo5B,QAAQ,KAAKf,cAAc,EAAE;AACpC,IAAA,OAAA;AACF,GAAA;;AAEA;AACA,EAAA,IAAIr4B,IAAI,CAACo5B,QAAQ,KAAKd,iBAAiB,EAAE;AACvC,IAAA,OAAOt4B,IAAI,CAACq5B,MAAM,EAAE,CAAA;AACtB,GAAA;EAEA,MAAMC,KAAK,GAAGt5B,IAAI,CAACu5B,OAAO,CAAC7f,WAAW,EAAE,CAAA;;AAExC;AACA,EAAA,IAAI,CAAC6e,aAAa,CAAC/4B,QAAQ,CAAC85B,KAAK,CAAC,EAAE;AAClC,IAAA,OAAOt5B,IAAI,CAACq5B,MAAM,EAAE,CAAA;AACtB,GAAA;AAEA,EAAA,MAAMG,UAAU,GAAGx5B,IAAI,CAACw5B,UAAU,CAAA;;AAElC;EACA,KAAK,IAAI53B,CAAC,GAAG43B,UAAU,CAACl5B,MAAM,EAAEsB,CAAC,EAAE,GAAG;AACpC,IAAA,MAAM0G,SAAS,GAAGkxB,UAAU,CAAC53B,CAAC,CAAC,CAAA;AAE/B,IAAA,MAAM3B,IAAI,GAAGqI,SAAS,CAACrI,IAAI,CAAA;AAC3B,IAAA,MAAMw5B,MAAM,GAAGx5B,IAAI,CAACyZ,WAAW,EAAE,CAAA;;AAEjC;IACA,MAAM3V,KAAK,GAAGuE,SAAS,CAACvE,KAAK,CAACuP,IAAI,EAAE,CAAA;AAEpCtT,IAAAA,IAAI,CAAC05B,eAAe,CAACz5B,IAAI,CAAC,CAAA;IAE1B,MAAM8d,KAAK,GAAG4b,gBAAgB,CAACL,KAAK,EAAEG,MAAM,EAAE11B,KAAK,CAAC,CAAA;AAEpD,IAAA,IAAIga,KAAK,EAAE;AACT/d,MAAAA,IAAI,CAAC45B,YAAY,CAAC35B,IAAI,EAAE8D,KAAK,CAAC,CAAA;AAChC,KAAA;AAEF,GAAA;;AAEA;EACA,IAAIu1B,KAAK,KAAK,GAAG,IAAIt5B,IAAI,CAAC65B,YAAY,CAAC,QAAQ,CAAC,KAAK,QAAQ,IAAI75B,IAAI,CAAC65B,YAAY,CAAC,KAAK,CAAC,KAAK,UAAU,EAAE;AACxG75B,IAAAA,IAAI,CAAC45B,YAAY,CAAC,KAAK,EAAE,UAAU,CAAC,CAAA;AACtC,GAAA;EAEA,KAAK,IAAIh4B,CAAC,GAAG5B,IAAI,CAAC85B,UAAU,CAACx5B,MAAM,EAAEsB,CAAC,EAAE,GAAG;IACzCs3B,YAAY,sBAAuBl5B,IAAI,CAAC85B,UAAU,CAACl4B,CAAC,CAAE,CAAC,CAAA;AACzD,GAAA;AACF,CAAA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS+3B,gBAAgBA,CAACL,KAAK,EAAEG,MAAM,EAAE11B,KAAK,EAAE;AAE9C;AACA,EAAA,IAAI,CAACy0B,kBAAkB,CAACh5B,QAAQ,CAACi6B,MAAM,CAAC,EAAE;AACxC,IAAA,OAAO,KAAK,CAAA;AACd,GAAA;;AAEA;AACA,EAAA,IAAI,CAACA,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,MAAM,MAAM11B,KAAK,IAAIkF,QAAQ,IAAIlF,KAAK,IAAI40B,YAAY,CAAC,EAAE;AAC1F,IAAA,OAAO,KAAK,CAAA;AACd,GAAA;AAEA,EAAA,IAAIc,MAAM,KAAK,QAAQ,IAAI11B,KAAK,KAAK,QAAQ,EAAE;AAC7C,IAAA,OAAO,KAAK,CAAA;AACd,GAAA;;AAEA;AACA,EAAA,IAAI01B,MAAM,KAAK,MAAM,IAAI,CAAChB,mBAAmB,CAAC7zB,IAAI,CAACb,KAAK,CAACkX,OAAO,CAACyd,uBAAuB,EAAE,EAAE,CAAC,CAAC,EAAE;AAC9F,IAAA,OAAO,KAAK,CAAA;AACd,GAAA;AAEA,EAAA,OAAO,IAAI,CAAA;AACb;;ACtKA,MAAM71B,MAAI,GAAG,MAAM,CAAA;AAEZ,SAASk3B,IAAIA,CAAC5vB,KAAK,EAAE;AAE1B,EAAA,MAAM4W,IAAI,GAAGpV,UAAU,CAAC,MAAM,CAAC,CAAA;EAC/B,MAAM;AAAEquB,IAAAA,cAAAA;AAAe,GAAC,GAAGjZ,IAAI,CAAC7Q,SAAS,EAAE,CAACyG,UAAU,CAAA;EAEtD,MAAM;IAAE7O,KAAK;AAAEmyB,IAAAA,YAAAA;AAAa,GAAC,GAAG9vB,KAAK,CAAA;EAErC,MAAM;AAAE8jB,IAAAA,IAAI,GAAG,EAAE;AAAE5oB,IAAAA,MAAM,GAAG,KAAA;AAAM,GAAC,GAAGyC,KAAK,CAAA;AAE3C,EAAA,MAAMoyB,gBAAgB,GAAGvuB,UAAU,CAAC,kBAAkB,CAAC,CAAA;;AAEvD;AACA,EAAA,MAAMwuB,QAAQ,GAAGxiB,qBAAqB,CAACsW,IAAI,EAAE;AAAE7oB,IAAAA,KAAK,EAAE,IAAI;AAAEC,IAAAA,MAAAA;AAAO,GAAC,CAAC,CAAA;;AAErE;AACA,EAAA,MAAMuL,IAAI,GAAG9C,OAAO,CAAC,MAAMosB,gBAAgB,CAACE,MAAM,CAACD,QAAQ,CAAC,EAAE,CAAED,gBAAgB,EAAEC,QAAQ,CAAE,CAAC,CAAA;AAE7F,EAAA,MAAME,yBAAyB,GAAGpoB,WAAW,CAAEqoB,UAAU,IAAK;AAE5D,IAAA,MAAM1pB,IAAI,GAAGgoB,YAAY,CAAC0B,UAAU,CAAC,CAAA;AAErC,IAAA,MAAMC,OAAO,GAAGtxB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CAAA;IAC7CqxB,OAAO,CAACpB,SAAS,GAAGvoB,IAAI,CAAA;AAExB,IAAA,MAAM4pB,KAAK,GAAGD,OAAO,CAACloB,gBAAgB,CAAC,GAAG,CAAC,CAAA;AAE3CmoB,IAAAA,KAAK,CAACvwB,OAAO,CAACwwB,IAAI,IAAI;AAEpB,MAAA,IAAIR,YAAY,EAAE;AAChBQ,QAAAA,IAAI,CAACb,YAAY,CAAC,OAAO,EAAE,mBAAmB,CAAC,CAAA;AAC/Ca,QAAAA,IAAI,CAACb,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC,CAAA;AACrC,OAAA;AAEA,MAAA,IAAII,cAAc,EAAE;AAClBS,QAAAA,IAAI,CAACb,YAAY,CAAC,QAAQ,EAAEI,cAAc,CAAC,CAAA;AAC7C,OAAA;AAEF,KAAC,CAAC,CAAA;IAEF,OAAOO,OAAO,CAACpB,SAAS,CAAA;AAE1B,GAAC,EAAE,CAAEc,YAAY,EAAED,cAAc,CAAE,CAAC,CAAA;EAEpC,MAAMU,uBAAuB,GAAG/pB,uBAAuB,CAAC;IACtDC,IAAI;AACJC,IAAAA,SAAS,EAAEwpB,yBAAyB;AACpCvpB,IAAAA,QAAQ,EAAE,KAAK;AACfC,IAAAA,iBAAiB,EAAE,KAAA;AACrB,GAAC,CAAC,CAAA;AAEF,EAAA,OAAOxG,GAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAGpB,gBAAgB,CAACvG,MAAI,CAAG;AAAC63B,IAAAA,uBAAuB,EAAGA,uBAAAA;AAAyB,GAAM,CAAC,CAAA;AACzG,CAAA;AAEAX,IAAI,CAACtvB,MAAM,GAAG;QACZ5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,KAAK;AACZ9C,EAAAA,KAAK,EAAE,eAAe;AACtB+C,EAAAA,KAAK,EAAE,cAAc;AACrBC,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,MAAM;AACzB4uB,IAAAA,IAAI,EAAE,QAAQ;IACd,GAAG5uB,OAAAA;GACJ,CAAA;AACH,CAAC;;AC9DD,MAAMwD,MAAI,GAAG,MAAM,CAAA;AAEZ,SAAS83B,IAAIA,CAACxwB,KAAK,EAAE;AAE1B,EAAA,MAAM4W,IAAI,GAAGpV,UAAU,CAAC,MAAM,CAAC,CAAA;EAC/B,MAAM;AAAEquB,IAAAA,cAAAA;AAAe,GAAC,GAAGjZ,IAAI,CAAC7Q,SAAS,EAAE,CAACyG,UAAU,CAAA;EAEtD,MAAM;IAAE7O,KAAK;IAAEmyB,YAAY;AAAE5a,IAAAA,KAAAA;AAAM,GAAC,GAAGlV,KAAK,CAAA;EAE5C,MAAM;AAAEpE,IAAAA,OAAO,GAAG,EAAE;AAAEV,IAAAA,MAAM,GAAG,KAAA;AAAM,GAAC,GAAGyC,KAAK,CAAA;AAE9C,EAAA,MAAM8yB,UAAU,GAAI,CAAEvb,EAAAA,KAAM,CAAa,YAAA,CAAA,CAAA;;AAEzC;AACA,EAAA,MAAMzO,IAAI,GAAG+G,qBAAqB,CAAC5R,OAAO,EAAE;AAAEX,IAAAA,KAAK,EAAE,IAAI;IAAEC,MAAM;AAAEG,IAAAA,SAAS,EAAEyY,UAAAA;AAAW,GAAC,CAAC,CAAA;AAE3F,EAAA,MAAMpN,SAAS,GAAGoB,WAAW,CAAErB,IAAI,IAAK;AAEtC,IAAA,MAAM2pB,OAAO,GAAGtxB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CAAA;IAC7CqxB,OAAO,CAACpB,SAAS,GAAGvoB,IAAI,CAAA;;AAExB;;AAEA,IAAA,MAAM4pB,KAAK,GAAGD,OAAO,CAACloB,gBAAgB,CAAC,GAAG,CAAC,CAAA;AAE3CmoB,IAAAA,KAAK,CAACvwB,OAAO,CAACwwB,IAAI,IAAI;AAEpB,MAAA,IAAIR,YAAY,EAAE;AAChBQ,QAAAA,IAAI,CAACb,YAAY,CAAC,OAAO,EAAE,mBAAmB,CAAC,CAAA;AAC/Ca,QAAAA,IAAI,CAACb,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC,CAAA;AACrC,OAAA;AAEA,MAAA,IAAII,cAAc,EAAE;AAClBS,QAAAA,IAAI,CAACb,YAAY,CAAC,QAAQ,EAAEI,cAAc,CAAC,CAAA;AAC7C,OAAA;AAEF,KAAC,CAAC,CAAA;;AAEF;AACA9nB,IAAAA,aAAa,CAACqoB,OAAO,EAAG,CAAGK,CAAAA,EAAAA,UAAW,EAAC,CAAC,CAAA;IAExC,OAAOL,OAAO,CAACpB,SAAS,CAAA;GAEzB,EAAE,CAAEc,YAAY,EAAEW,UAAU,EAAEZ,cAAc,CAAE,CAAC,CAAA;EAEhD,MAAMU,uBAAuB,GAAG/pB,uBAAuB,CAAC;IACtDC,IAAI;IACJC,SAAS;AACTC,IAAAA,QAAQ,EAAE,IAAI;AACdC,IAAAA,iBAAiB,EAAE,KAAA;AACrB,GAAC,CAAC,CAAA;AAEF,EAAA,OAAOxG,GAAA,CAAA,KAAA,EAAA;IAAKC,KAAK,EAAGhB,UAAU,CAACJ,gBAAgB,CAACvG,MAAI,CAAC,EAAE+3B,UAAU,CAAG;AAACF,IAAAA,uBAAuB,EAAGA,uBAAAA;AAAyB,GAAM,CAAC,CAAA;AACjI,CAAA;AAEAC,IAAI,CAAClwB,MAAM,GAAG;QACZ5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,KAAK;AACZ9C,EAAAA,KAAK,EAAE,MAAM;AACb+C,EAAAA,KAAK,EAAE,cAAc;AACrBC,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,MAAM;AACzB0G,IAAAA,OAAO,EAAE,EAAE;IACX,GAAG1G,OAAAA;GACJ,CAAA;AACH,CAAC;;ACvED,MAAMwD,MAAI,GAAG,YAAY,CAAA;AAElB,SAASg4B,eAAeA,CAAC1wB,KAAK,EAAE;EACrC,MAAM;IACJrC,KAAK;IACLsW,QAAQ;AACRra,IAAAA,KAAAA;AACF,GAAC,GAAGoG,KAAK,CAAA;EAET,MAAM;IACJ2wB,SAAS;AACT32B,IAAAA,UAAAA;AACF,GAAC,GAAG2D,KAAK,CAAA;AAET,EAAA,MAAMizB,UAAU,GAAGzrB,uBAAuB,CAACnL,UAAU,CAAC,CAAA;AACtD,EAAA,MAAM62B,cAAc,GAAGxrB,qBAAqB,CAACurB,UAAU,CAAC,CAAA;AACxD,EAAA,MAAMn3B,QAAQ,GAAG+H,UAAU,CAAC,UAAU,CAAC,CAAA;AAEvC,EAAA,MAAMsvB,SAAS,GAAGhpB,WAAW,CAAC,MAAM;IAClCmM,QAAQ,IAAIA,QAAQ,CAAC;MAAEtW,KAAK;AAAE/D,MAAAA,KAAK,EAAEi3B,cAAAA;AAAe,KAAC,CAAC,CAAA;GACvD,EAAE,CAAElzB,KAAK,EAAEkzB,cAAc,EAAE5c,QAAQ,CAAE,CAAC,CAAA;AAEvCrJ,EAAAA,SAAS,CAAC,MAAM;AACd,IAAA,IAAI+lB,SAAS,KAAK,QAAQ,IAAIE,cAAc,KAAKj3B,KAAK,EAAE;AAAE,MAAA,OAAA;AAAQ,KAAA;AAClEk3B,IAAAA,SAAS,EAAE,CAAA;GACZ,EAAE,CAAEH,SAAS,EAAEE,cAAc,EAAEC,SAAS,EAAEl3B,KAAK,CAAE,CAAC,CAAA;AAEnDgR,EAAAA,SAAS,CAAC,MAAM;IACd,IAAI+lB,SAAS,KAAK,WAAW,EAAE;AAC7Bl3B,MAAAA,QAAQ,CAAC6d,EAAE,CAAC,WAAW,EAAEwZ,SAAS,CAAC,CAAA;MACnC,OAAO,MAAMr3B,QAAQ,CAAC8d,GAAG,CAAC,WAAW,EAAEuZ,SAAS,CAAC,CAAA;AACnD,KAAA;GACD,EAAE,CAAEH,SAAS,EAAEG,SAAS,EAAEr3B,QAAQ,CAAE,CAAC,CAAA;AAEtC,EAAA,OAAO,IAAI,CAAA;AACb,CAAA;AAEAi3B,eAAe,CAACpwB,MAAM,GAAG;QACvB5H,MAAI;AACJ+E,EAAAA,KAAK,EAAE,OAAO;AACd+C,EAAAA,KAAK,EAAE,aAAa;AACpBD,EAAAA,KAAK,EAAE,IAAI;AACXiV,EAAAA,UAAU,EAAE,IAAI;AAChByC,EAAAA,gBAAgB,EAAE,IAAI;AACtBxX,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,MAAM;AACzBy7B,IAAAA,SAAS,EAAE,QAAQ;IACnB,GAAGz7B,OAAAA;GACJ,CAAA;AACH,CAAC;;ACzCD,MAAMwD,MAAI,GAAG,WAAW,CAAA;AAEjB,SAASq4B,SAASA,CAAC/wB,KAAK,EAAE;EAC/B,MAAM;IACJb,QAAQ;AACRD,IAAAA,MAAM,GAAG,EAAE;IACXgW,KAAK;IACLhV,MAAM;IACND,OAAO;IACPtC,KAAK;IACLyB,QAAQ;AACRxF,IAAAA,KAAK,GAAG,EAAA;AACV,GAAC,GAAGoG,KAAK,CAAA;EAET,MAAM;IACJwU,WAAW;IACX/W,KAAK;IACL6qB,UAAU,GAAG,EAAE;AACfnT,IAAAA,QAAQ,GAAG,EAAC;AACd,GAAC,GAAGxX,KAAK,CAAA;EAET,MAAM;IACJ8qB,aAAa;AACbC,IAAAA,aAAAA;AACF,GAAC,GAAGJ,UAAU,CAAA;EAEd,MAAM;AAAE3mB,IAAAA,QAAAA;AAAS,GAAC,GAAGwT,QAAQ,CAAA;EAE7B,MAAM,CAAE0W,aAAa,EAAE7C,aAAa,CAAE,GAAGpc,gBAAgB,CAAC,CAAC;AAAEwI,IAAAA,MAAAA;AAAO,GAAC,KAAK;IACxEpV,KAAK,CAACiU,QAAQ,CAAC;MACbtW,KAAK;MACL/D,KAAK,EAAEwb,MAAM,CAACxb,KAAAA;AAChB,KAAC,CAAC,CAAA;AACJ,GAAC,CAAC,CAAA;EAEF,MAAMwjB,WAAW,GAAGA,MAAM;IACxB4L,aAAa,IAAIA,aAAa,EAAE,CAAA;IAChC9oB,MAAM,IAAIA,MAAM,EAAE,CAAA;GACnB,CAAA;EAED,MAAMid,YAAY,GAAGA,MAAM;IACzBld,OAAO,IAAIA,OAAO,EAAE,CAAA;GACrB,CAAA;AAED,EAAA,MAAMqV,aAAa,GAAI,CAAEJ,EAAAA,KAAM,CAAa,YAAA,CAAA,CAAA;AAC5C,EAAA,MAAMK,cAAc,GAAI,CAAEL,EAAAA,KAAM,CAAe,cAAA,CAAA,CAAA;AAE/C,EAAA,OAAOH,IAAA,CAAA,KAAA,EAAA;AAAK1U,IAAAA,KAAK,EAAGpB,gBAAgB,CAACvG,MAAI,EAAE;MAAEwG,MAAM;MAAEC,QAAQ;AAAEC,MAAAA,QAAAA;AAAS,KAAC,CAAG;IAAA3I,QAAA,EAAA,CAC1E2J,GAAA,CAACuU,KAAK,EAAA;AACJC,MAAAA,OAAO,EAAGM,KAAO;AACjBzX,MAAAA,KAAK,EAAGA,KAAO;AACfkE,MAAAA,QAAQ,EAAGA,QAAAA;AAAU,KAAE,CAAC,EAC1BvB,GAAA,CAAC4mB,qBAAqB,EAAA;AAAC7nB,MAAAA,QAAQ,EAAGA,QAAU;AAACC,MAAAA,QAAQ,EAAGA,QAAU;AAAC4b,MAAAA,GAAG,EAAGyN,aAAe;AAACxN,MAAAA,IAAI,EAAGyN,aAAe;AAAAjyB,MAAAA,QAAA,EAC7G2J,GAAA,CAAA,OAAA,EAAA;AACEC,QAAAA,KAAK,EAAC,WAAW;AACjBlB,QAAAA,QAAQ,EAAGA,QAAU;AACrBsN,QAAAA,QAAQ,EAAGrN,QAAU;AACrBO,QAAAA,EAAE,EAAGuV,KAAO;AACZ0I,QAAAA,OAAO,EAAGiO,aAAe;AACzB3rB,QAAAA,MAAM,EAAGkd,WAAa;AACtBnd,QAAAA,OAAO,EAAGkd,YAAc;AACxBzkB,QAAAA,IAAI,EAAC,MAAM;AACXkB,QAAAA,KAAK,EAAGA,KAAO;QACf,kBAAmB,EAAA,CAAE0b,aAAa,EAAEC,cAAc,CAAE,CAAC/N,IAAI,CAAC,GAAG,CAAG;AAChE7F,QAAAA,QAAQ,EAAGA,QAAU;QACrB,cAAezC,EAAAA,MAAM,CAAC/I,MAAM,GAAG,CAAA;OAAK,CAAA;AAAC,KAClB,CAAC,EACxBiK,GAAA,CAACmU,WAAW,EAAA;AAAC5U,MAAAA,EAAE,EAAG2V,aAAe;AAACd,MAAAA,WAAW,EAAGA,WAAAA;AAAa,KAAE,CAAC,EAChEpU,GAAA,CAACsU,MAAM,EAAA;AAAC/U,MAAAA,EAAE,EAAG4V,cAAgB;AAACrW,MAAAA,MAAM,EAAGA,MAAAA;AAAQ,KAAE,CAAC,CAAA;AAAA,GAC/C,CAAC,CAAA;AACR,CAAA;AAEA6xB,SAAS,CAACzwB,MAAM,GAAG;QACjB5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,IAAI;AACX9C,EAAAA,KAAK,EAAE,MAAM;AACb+C,EAAAA,KAAK,EAAE,aAAa;AACpBgV,EAAAA,UAAU,EAAE,EAAE;AACdC,EAAAA,aAAa,EAAEA,CAAC;AAAE7b,IAAAA,KAAAA;AAAM,GAAC,KAAK;AAC5B,IAAA,IAAIwM,OAAO,CAACxM,KAAK,CAAC,IAAIkL,QAAQ,CAAClL,KAAK,CAAC,IAAI6K,KAAK,CAAC7K,KAAK,CAAC,EAAE;AACrD,MAAA,OAAO,EAAE,CAAA;AACX,KAAA;;AAEA;AACA,IAAA,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;AAC7B,MAAA,OAAOA,KAAK,CAACkX,OAAO,CAAC,WAAW,EAAE,GAAG,CAAC,CAAA;AACxC,KAAA;IAEA,OAAOkgB,MAAM,CAACp3B,KAAK,CAAC,CAAA;GACrB;AACD6G,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,MAAM;IAAE,GAAGA,OAAAA;GAAS,CAAA;AAC3C,CAAC;;AC1FD,MAAMwD,MAAI,GAAG,UAAU,CAAA;AAEhB,SAASu4B,QAAQA,CAACjxB,KAAK,EAAE;EAC9B,MAAM;IACJb,QAAQ;AACRD,IAAAA,MAAM,GAAG,EAAE;IACXgW,KAAK;IACLhV,MAAM;IACND,OAAO;IACPtC,KAAK;IACLyB,QAAQ;AACRxF,IAAAA,KAAK,GAAG,EAAA;AACV,GAAC,GAAGoG,KAAK,CAAA;EAET,MAAM;IACJwU,WAAW;IACX/W,KAAK;AACL0X,IAAAA,QAAQ,GAAG,EAAC;AACd,GAAC,GAAGxX,KAAK,CAAA;EAET,MAAM;AAAEgE,IAAAA,QAAAA;AAAS,GAAC,GAAGwT,QAAQ,CAAA;AAC7B,EAAA,MAAM+b,WAAW,GAAG3rB,MAAM,EAAE,CAAA;EAE5B,MAAM,CAAE0O,QAAQ,EAAE+U,aAAa,CAAE,GAAGpc,gBAAgB,CAAC,CAAC;AAAEwI,IAAAA,MAAAA;AAAO,GAAC,KAAK;IACnEpV,KAAK,CAACiU,QAAQ,CAAC;MACbtW,KAAK;MACL/D,KAAK,EAAEwb,MAAM,CAACxb,KAAAA;AAChB,KAAC,CAAC,CAAA;AACJ,GAAC,CAAC,CAAA;EAEF,MAAMwjB,WAAW,GAAGA,MAAM;IACxB4L,aAAa,IAAIA,aAAa,EAAE,CAAA;IAChC9oB,MAAM,IAAIA,MAAM,EAAE,CAAA;GACnB,CAAA;EAED,MAAMid,YAAY,GAAGA,MAAM;IACzBld,OAAO,IAAIA,OAAO,EAAE,CAAA;GACrB,CAAA;EAED,MAAM4rB,aAAa,GAAIrM,KAAK,IAAK;AAC/BvL,IAAAA,QAAQ,CAAC;MAAEmB,MAAM,EAAEoK,KAAK,CAACpK,MAAAA;AAAO,KAAC,CAAC,CAAA;AAClC+b,IAAAA,gBAAgB,CAACD,WAAW,CAAC55B,OAAO,CAAC,CAAA;GACtC,CAAA;AAED85B,EAAAA,eAAe,CAAC,MAAM;AACpBD,IAAAA,gBAAgB,CAACD,WAAW,CAAC55B,OAAO,CAAC,CAAA;AACvC,GAAC,EAAE,CAAEsC,KAAK,CAAE,CAAC,CAAA;AAEbgR,EAAAA,SAAS,CAAC,MAAM;AACdumB,IAAAA,gBAAgB,CAACD,WAAW,CAAC55B,OAAO,CAAC,CAAA;GACtC,EAAE,EAAE,CAAC,CAAA;AAEN,EAAA,MAAMge,aAAa,GAAI,CAAEJ,EAAAA,KAAM,CAAa,YAAA,CAAA,CAAA;AAC5C,EAAA,MAAMK,cAAc,GAAI,CAAEL,EAAAA,KAAM,CAAe,cAAA,CAAA,CAAA;AAE/C,EAAA,OAAOH,IAAA,CAAA,KAAA,EAAA;AAAK1U,IAAAA,KAAK,EAAGpB,gBAAgB,CAACvG,MAAI,EAAE;MAAEwG,MAAM;MAAEC,QAAQ;AAAEC,MAAAA,QAAAA;AAAS,KAAC,CAAG;IAAA3I,QAAA,EAAA,CAC1E2J,GAAA,CAACuU,KAAK,EAAA;AACJC,MAAAA,OAAO,EAAGM,KAAO;AACjBzX,MAAAA,KAAK,EAAGA,KAAO;AACfkE,MAAAA,QAAQ,EAAGA,QAAAA;KAAY,CAAC,EAC1BvB,GAAA,CAAA,UAAA,EAAA;AAAUC,MAAAA,KAAK,EAAC,cAAc;AAC5BlB,MAAAA,QAAQ,EAAGA,QAAU;AACrBC,MAAAA,QAAQ,EAAGA,QAAU;AACrBO,MAAAA,EAAE,EAAGuV,KAAO;AACZ0I,MAAAA,OAAO,EAAGiO,aAAe;AACzB3rB,MAAAA,MAAM,EAAGkd,WAAa;AACtBnd,MAAAA,OAAO,EAAGkd,YAAc;AACxBvjB,MAAAA,KAAK,EAAGA,KAAO;AACf0L,MAAAA,GAAG,EAAG4rB,WAAa;MACnB,kBAAmB,EAAA,CAAE5b,aAAa,EAAEC,cAAc,CAAE,CAAC/N,IAAI,CAAC,GAAG,CAAG;AAChE7F,MAAAA,QAAQ,EAAGA,QAAU;MACrB,cAAezC,EAAAA,MAAM,CAAC/I,MAAM,GAAG,CAAA;AAAG,KAAE,CAAC,EACvCiK,GAAA,CAACmU,WAAW,EAAA;AAAC5U,MAAAA,EAAE,EAAG2V,aAAe;AAACd,MAAAA,WAAW,EAAGA,WAAAA;AAAa,KAAE,CAAC,EAChEpU,GAAA,CAACsU,MAAM,EAAA;AAAC/U,MAAAA,EAAE,EAAG4V,cAAgB;AAACrW,MAAAA,MAAM,EAAGA,MAAAA;AAAQ,KAAE,CAAC,CAAA;AAAA,GAC/C,CAAC,CAAA;AACR,CAAA;AAEA+xB,QAAQ,CAAC3wB,MAAM,GAAG;QAChB5H,MAAI;AACJ6H,EAAAA,KAAK,EAAE,IAAI;AACX9C,EAAAA,KAAK,EAAE,aAAa;AACpB+C,EAAAA,KAAK,EAAE,aAAa;AACpBgV,EAAAA,UAAU,EAAE,EAAE;AACdC,EAAAA,aAAa,EAAEA,CAAC;AAAE7b,IAAAA,KAAAA;GAAO,KAAMwM,OAAO,CAACxM,KAAK,CAAC,IAAIkL,QAAQ,CAAClL,KAAK,CAAC,IAAI6K,KAAK,CAAC7K,KAAK,CAAC,GAAI,EAAE,GAAGo3B,MAAM,CAACp3B,KAAK,CAAC;AACtG6G,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,MAAM;IAAE,GAAGA,OAAAA;GAAS,CAAA;AAC3C,CAAC,CAAA;AAED,MAAMi8B,gBAAgB,GAAIhL,QAAQ,IAAK;AAErC;AACAA,EAAAA,QAAQ,CAACplB,KAAK,CAAC8K,MAAM,GAAG,KAAK,CAAA;AAE7B,EAAA,MAAMwlB,QAAQ,GAAGxnB,MAAM,CAACC,gBAAgB,CAACqc,QAAQ,CAAC,CAAA;EAElD,MAAMmL,eAAe,GAAGA,MAAM;AAC5B,IAAA,MAAMC,UAAU,GAAGtvB,QAAQ,CAACovB,QAAQ,CAACG,gBAAgB,CAAC,aAAa,CAAC,CAAC1gB,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,CAAA;IAC5F,MAAM2gB,KAAK,GAAGtL,QAAQ,CAACvsB,KAAK,GAAGusB,QAAQ,CAACvsB,KAAK,CAACiZ,QAAQ,EAAE,CAAC/Q,KAAK,CAAC,IAAI,CAAC,CAAC3L,MAAM,GAAG,CAAC,CAAA;IAC/E,OAAOs7B,KAAK,GAAGF,UAAU,CAAA;GAC1B,CAAA;EAED,MAAMG,gBAAgB,GAAGzvB,QAAQ,CAACovB,QAAQ,CAACG,gBAAgB,CAAC,kBAAkB,CAAC,CAAC,GAC5EvvB,QAAQ,CAACovB,QAAQ,CAACG,gBAAgB,CAAC,aAAa,CAAC,CAAC,IACjDrL,QAAQ,CAAClc,YAAY,IAAIqnB,eAAe,EAAE,CAAC,GAC5CrvB,QAAQ,CAACovB,QAAQ,CAACG,gBAAgB,CAAC,gBAAgB,CAAC,CAAC,GACrDvvB,QAAQ,CAACovB,QAAQ,CAACG,gBAAgB,CAAC,qBAAqB,CAAC,CAAC,CAAA;EAE9D,MAAMG,SAAS,GAAG,EAAE,CAAA;EACpB,MAAM5R,SAAS,GAAG,GAAG,CAAA;AACrB,EAAA,MAAM6R,aAAa,GAAG5iB,IAAI,CAACiQ,GAAG,CAACjQ,IAAI,CAACgQ,GAAG,CAAC0S,gBAAgB,IAAI,CAAC,EAAE3R,SAAS,CAAC,EAAE4R,SAAS,CAAC,CAAA;AAErFxL,EAAAA,QAAQ,CAACplB,KAAK,CAAC8K,MAAM,GAAI,CAAA,EAAE+lB,aAAc,CAAG,EAAA,CAAA,CAAA;;AAE5C;EACAzL,QAAQ,CAACplB,KAAK,CAACiJ,QAAQ,GAAG0nB,gBAAgB,GAAG3R,SAAS,GAAG,SAAS,GAAG,QAAQ,CAAA;AAE/E,CAAC;;AC9HD,IAAIjG,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,YAAY,GAAG,SAAS,YAAY,CAAC,KAAK,EAAE;AAChD,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,OAAO,EAAE,WAAW;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,CAAC,EAAE,yEAAyE;AAChF,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,oBAAe,YAAY;;ACZ3B,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,UAAU,GAAG,SAAS,UAAU,CAAC,KAAK,EAAE;AAC5C,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,OAAO,EAAE,WAAW;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,CAAC,EAAE,8DAA8D;AACrE,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,kBAAe,UAAU;;ACZzB,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,YAAY,GAAG,SAAS,YAAY,CAAC,KAAK,EAAE;AAChD,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,QAAQ,EAAE,UAAU;AACxB,IAAI,OAAO,EAAE,WAAW;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,CAAC,EAAE,mBAAmB;AAC1B,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,oBAAe,YAAY;;ACb3B,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,aAAa,GAAG,SAAS,aAAa,CAAC,KAAK,EAAE;AAClD,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,QAAQ,EAAE,UAAU;AACxB,IAAI,OAAO,EAAE,WAAW;AACxB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,CAAC,EAAE,kBAAkB;AACzB,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF,qBAAe,aAAa;;ACD5B,MAAMphB,IAAI,GAAG,OAAO,CAAA;;AAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASm5B,KAAKA,CAAC7xB,KAAK,EAAE;EAC3B,MAAM;AAAErC,IAAAA,KAAAA;AAAM,GAAC,GAAGqC,KAAK,CAAA;EACvB,MAAM;AACJP,IAAAA,OAAO,GAAG,EAAE;IACZqyB,iBAAiB;AACjBC,IAAAA,UAAU,GAAG,EAAE;IACfC,QAAQ;IACRryB,EAAE;AACFlC,IAAAA,KAAAA;AACF,GAAC,GAAGE,KAAK,CAAA;;AAET;EACA,MAAM,CAAEs0B,MAAM,EAAEC,SAAS,CAAE,GAAGnb,QAAQ,CAAC,IAAI,CAAC,CAAA;EAC5C,MAAMob,gBAAgB,GAAGC,mBAAmB,CAC1CN,iBAAiB,IAAI,EAAE,EACvBryB,OACF,CAAC,CAAA;AACD,EAAA,MAAM4yB,UAAU,GAAGF,gBAAgB,CAACr6B,GAAG,CAAC,CAAC;AAAEiK,IAAAA,GAAAA;GAAK,KAAKA,GAAG,CAAC,CAAA;AACzD,EAAA,MAAMuwB,mBAAmB,GAAGntB,uBAAuB,CAAC4sB,UAAU,CAAC,CAAA;EAC/D,MAAM53B,IAAI,GAAG9D,KAAK,CAAC+P,OAAO,CAACksB,mBAAmB,CAAC,GAAGA,mBAAmB,CAACx7B,MAAM,CAACW,CAAC,IAAIA,CAAC,KAAKsG,SAAS,CAAC,GAAG,EAAE,CAAA;AACvG,EAAA,MAAMw0B,UAAU,GACdN,MAAM,KAAK,IAAI,GACX93B,IAAI,GACJq4B,YAAY,CAACr4B,IAAI,EAAE83B,MAAM,CAAClwB,GAAG,EAAEkwB,MAAM,CAACQ,SAAS,CAAC,CAAA;;AAEtD;AACA,EAAA,MAAMC,WAAW,GAAG7iB,QAAQ,CAACmiB,QAAQ,CAAC,GAAGW,KAAK,CAACJ,UAAU,EAAEP,QAAQ,CAAC,GAAG,CAAEO,UAAU,CAAE,CAAA;EACrF,MAAM,CAAEK,WAAW,EAAEC,cAAc,CAAE,GAAG9b,QAAQ,CAAC,CAAC,CAAC,CAAA;AACnD,EAAA,MAAM+b,YAAY,GAAGJ,WAAW,CAACE,WAAW,CAAC,IAAI,EAAE,CAAA;AAGnDhoB,EAAAA,SAAS,CAAC,MAAM;IACdioB,cAAc,CAAC,CAAC,CAAC,CAAA;AACnB,GAAC,EAAE,CAAEb,QAAQ,EAAEC,MAAM,CAAE,CAAC,CAAA;;AAGxB;EACA,SAASc,YAAYA,CAAChxB,GAAG,EAAE;IACzBmwB,SAAS,CAAE56B,OAAO,IAAK;MACrB,IAAIA,OAAO,KAAK,IAAI,IAAIA,OAAO,CAACyK,GAAG,KAAKA,GAAG,EAAE;QAC3C,OAAO;UACLA,GAAG;AACH0wB,UAAAA,SAAS,EAAE,KAAA;SACZ,CAAA;AACH,OAAA;AAEA,MAAA,IAAIn7B,OAAO,CAACm7B,SAAS,KAAK,MAAM,EAAE;AAChC,QAAA,OAAO,IAAI,CAAA;AACb,OAAA;MAEA,OAAO;QACL1wB,GAAG;AACH0wB,QAAAA,SAAS,EAAE,MAAA;OACZ,CAAA;AACH,KAAC,CAAC,CAAA;AACJ,GAAA;AAEA,EAAA,OACE1d,IAAA,CAAA,KAAA,EAAA;AAAK1U,IAAAA,KAAK,EAAGpB,gBAAgB,CAACvG,IAAI,CAAG;IAAAjC,QAAA,EAAA,CACnC2J,GAAA,CAACuU,KAAK,EAAA;AAACC,MAAAA,OAAO,EAAGlV,QAAQ,CAACC,EAAE,CAAG;AAAClC,MAAAA,KAAK,EAAGA,KAAAA;KAAS,CAAC,EAClDsX,IAAA,CAAA,KAAA,EAAA;AACE1U,MAAAA,KAAK,EAAGhB,UAAU,CAAC,4BAA4B,EAAE;AAC/C,QAAA,iBAAiB,EAAE8yB,gBAAgB,CAACh8B,MAAM,KAAK,CAAA;AACjD,OAAC,CAAG;MAAAM,QAAA,EAAA,CAEH07B,gBAAgB,CAACh8B,MAAM,KAAK,CAAC,GAC5B,kBAAkB,GAElBiK,GAAA,CAAA,KAAA,EAAA;AAAKC,QAAAA,KAAK,EAAC,2BAA2B;AAAA5J,QAAAA,QAAA,EACpCse,IAAA,CAAA,OAAA,EAAA;AAAO1U,UAAAA,KAAK,EAAC,WAAW;AAACV,UAAAA,EAAE,EAAGD,QAAQ,CAACC,EAAE,CAAG;AAAAlJ,UAAAA,QAAA,GAC1C2J,GAAA,CAAA,OAAA,EAAA;AAAOC,YAAAA,KAAK,EAAC,gBAAgB;AAAA5J,YAAAA,QAAA,EAC3B2J,GAAA,CAAA,IAAA,EAAA;AAAIC,cAAAA,KAAK,EAAC,cAAc;AAAA5J,cAAAA,QAAA,EACrB07B,gBAAgB,CAACr6B,GAAG,CAAC,CAAC;gBAAEiK,GAAG;AAAEtE,gBAAAA,KAAAA;AAAM,eAAC,KAAK;AACxC,gBAAA,MAAMu1B,YAAY,GAAGv1B,KAAK,IAAIsE,GAAG,CAAA;AAEjC,gBAAA,OACE3B,GAAA,CAAA,IAAA,EAAA;AAEE0f,kBAAAA,QAAQ,EAAG,CAAG;AACdzf,kBAAAA,KAAK,EAAC,cAAc;kBACpBiW,OAAO,EAAGA,MAAM;oBACdyc,YAAY,CAAChxB,GAAG,CAAC,CAAA;mBAChB;kBACH2b,SAAS,EAAI8B,KAAK,IAAK;AACrB,oBAAA,IAAI,CAAE,OAAO,EAAE,OAAO,CAAE,CAACnqB,QAAQ,CAACmqB,KAAK,CAAC1R,IAAI,CAAC,EAAE;sBAC7CilB,YAAY,CAAChxB,GAAG,CAAC,CAAA;AACnB,qBAAA;mBACC;AACH,kBAAA,YAAA,EAAakxB,kBAAkB,CAC7BhB,MAAM,EACNlwB,GAAG,EACHixB,YACF,CAAG;AAAAv8B,kBAAAA,QAAA,EAEHse,IAAA,CAAA,MAAA,EAAA;AACE1U,oBAAAA,KAAK,EAAC,oBAAoB;AAAA5J,oBAAAA,QAAA,EAEzBu8B,CAAAA,YAAY,EACZf,MAAM,KAAK,IAAI,IAAIA,MAAM,CAAClwB,GAAG,KAAKA,GAAG,GACpC3B,GAAA,CAAA4Y,QAAA,EAAA;sBAAAviB,QAAA,EACGw7B,MAAM,CAACQ,SAAS,KAAK,KAAK,GACzBryB,GAAA,CAAC8yB,WAAW,EAAA;AAAC7yB,wBAAAA,KAAK,EAAC,yBAAA;AAAyB,uBAAE,CAAC,GAE/CD,GAAA,CAAC+yB,aAAa,EAAA;AAAC9yB,wBAAAA,KAAK,EAAC,0BAAA;uBAA4B,CAAA;qBAEnD,CAAC,GACD,IAAI,CAAA;mBACJ,CAAA;AAAC,iBAAA,EA9BD0B,GA+BJ,CAAC,CAAA;eAER,CAAA;aACC,CAAA;WACC,CAAC,EACP+wB,YAAY,CAAC38B,MAAM,KAAK,CAAC,GACxBiK,GAAA,CAAA,OAAA,EAAA;AAAOC,YAAAA,KAAK,EAAC,gBAAgB;AAAA5J,YAAAA,QAAA,EAC3B2J,GAAA,CAAA,IAAA,EAAA;AAAIC,cAAAA,KAAK,EAAC,cAAc;AAAA5J,cAAAA,QAAA,EACtB2J,GAAA,CAAA,IAAA,EAAA;AAAIC,gBAAAA,KAAK,EAAC,cAAc;gBAAC+yB,OAAO,EAAGjB,gBAAgB,CAACh8B,MAAQ;AAAAM,gBAAAA,QAAA,EAAC,kBAAA;eAEzD,CAAA;aACF,CAAA;WACC,CAAC,GAER2J,GAAA,CAAA,OAAA,EAAA;AAAOC,YAAAA,KAAK,EAAC,gBAAgB;YAAA5J,QAAA,EAC1Bq8B,YAAY,CAACh7B,GAAG,CAAC,CAACyhB,GAAG,EAAEtiB,KAAK,KAC3BmJ,GAAA,CAAA,IAAA,EAAA;AAAkBC,cAAAA,KAAK,EAAC,cAAc;AAAA5J,cAAAA,QAAA,EACnC47B,UAAU,CAACv6B,GAAG,CAAEiK,GAAG,IAClB3B,GAAA,CAAA,IAAA,EAAA;AAAgBC,gBAAAA,KAAK,EAAC,cAAc;gBAAA5J,QAAA,EACjC8iB,GAAG,CAACxX,GAAG,CAAA;AAAC,eAAA,EADDA,GAEN,CACL,CAAA;AAAC,aAAA,EALM9K,KAMN,CACL,CAAA;AAAC,WACG,CACR,CAAA;SACI,CAAA;AAAC,OACL,CACN,EAEC4Y,QAAQ,CAACmiB,QAAQ,CAAC,IAAIU,WAAW,CAACv8B,MAAM,GAAG,CAAC,IAAIg8B,gBAAgB,CAACh8B,MAAM,GAAG,CAAC,GAEzE4e,IAAA,CAAA,KAAA,EAAA;AAAK1U,QAAAA,KAAK,EAAC,eAAe;AAAA5J,QAAAA,QAAA,GACxBse,IAAA,CAAA,MAAA,EAAA;AAAM1U,UAAAA,KAAK,EAAC,qBAAqB;UAAA5J,QAAA,EAAA,CAC9Bm8B,WAAW,GAAG,CAAC,EAAC,MAAI,EAACF,WAAW,CAACv8B,MAAM,CAAA;SACpC,CAAC,EACPiK,GAAA,CAAA,QAAA,EAAA;AACE1H,UAAAA,IAAI,EAAC,QAAQ;AACb2H,UAAAA,KAAK,EAAC,sBAAsB;UAC5BiW,OAAO,EAAGA,MAAM;AACduc,YAAAA,cAAc,CAAEQ,IAAI,IAAKrkB,IAAI,CAACiQ,GAAG,CAACoU,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;WAC9C;UACHl0B,QAAQ,EAAGyzB,WAAW,KAAK,CAAG;AAC9B,UAAA,YAAA,EAAW,eAAe;AAAAn8B,UAAAA,QAAA,EAE1B2J,GAAA,CAACkzB,aAAa,EAAE,EAAA,CAAA;SACV,CAAC,EACTlzB,GAAA,CAAA,QAAA,EAAA;AACE1H,UAAAA,IAAI,EAAC,QAAQ;AACb2H,UAAAA,KAAK,EAAC,sBAAsB;UAC5BiW,OAAO,EAAGA,MAAM;AACduc,YAAAA,cAAc,CAAEQ,IAAI,IAClBrkB,IAAI,CAACgQ,GAAG,CAACqU,IAAI,GAAG,CAAC,EAAEX,WAAW,CAACv8B,MAAM,GAAG,CAAC,CAC3C,CAAC,CAAA;WACA;AACHgJ,UAAAA,QAAQ,EAAGyzB,WAAW,IAAIF,WAAW,CAACv8B,MAAM,GAAG,CAAG;AAClD,UAAA,YAAA,EAAW,WAAW;AAAAM,UAAAA,QAAA,EAEtB2J,GAAA,CAACmzB,cAAc,EAAE,EAAA,CAAA;AAAC,SACZ,CAAC,CAAA;OACN,CAAC,GACJ,IAAI,CAAA;AAAA,KACP,CAAC,CAAA;AAAA,GACH,CAAC,CAAA;AAEV,CAAA;AAEA1B,KAAK,CAACvxB,MAAM,GAAG;EACb5H,IAAI;AACJ6H,EAAAA,KAAK,EAAE,KAAK;AACZ9C,EAAAA,KAAK,EAAE,SAAS;AAChB+C,EAAAA,KAAK,EAAE,cAAc;AACrBC,EAAAA,MAAM,EAAEA,CAACvL,OAAO,GAAG,EAAE,KAAK;IACxB,MAAM;MACJyK,EAAE;MACFmyB,iBAAiB;MACjBryB,OAAO;MACPuyB,QAAQ;MACR,GAAGwB,gBAAAA;AACL,KAAC,GAAGt+B,OAAO,CAAA;IAEX,IAAIu+B,SAAS,CAAC9zB,EAAE,CAAC,IAAIkQ,QAAQ,CAACmiB,QAAQ,CAAC,EAAE;AACvCwB,MAAAA,gBAAgB,CAAC,UAAU,CAAC,GAAGxB,QAAQ,CAAA;AACzC,KAAA;AAEA,IAAA,IAAIn4B,QAAQ,CAACi4B,iBAAiB,CAAC,EAAE;MAC/B,OAAO;AACL,QAAA,GAAG0B,gBAAgB;QACnB7zB,EAAE;AACFmyB,QAAAA,iBAAAA;OACD,CAAA;AACH,KAAA;AAEA,IAAA,IAAIz7B,KAAK,CAAC+P,OAAO,CAAC3G,OAAO,CAAC,IAAIA,OAAO,CAAC4C,KAAK,CAACqxB,QAAQ,CAAC,EAAE;MACrD,OAAO;AACL,QAAA,GAAGF,gBAAgB;QACnB7zB,EAAE;AACFF,QAAAA,OAAAA;OACD,CAAA;AACH,KAAA;IAEA,OAAO;AACL,MAAA,GAAG+zB,gBAAgB;AACnBxB,MAAAA,QAAQ,EAAE,EAAE;AACZvyB,MAAAA,OAAO,EAAE,CACP;AACEhC,QAAAA,KAAK,EAAE,IAAI;AACXsE,QAAAA,GAAG,EAAE,IAAA;AACP,OAAC,EACD;AACEtE,QAAAA,KAAK,EAAE,MAAM;AACbsE,QAAAA,GAAG,EAAE,MAAA;AACP,OAAC,EACD;AACEtE,QAAAA,KAAK,EAAE,MAAM;AACbsE,QAAAA,GAAG,EAAE,MAAA;OACN,CAAA;KAEJ,CAAA;GACF;AAED;AACF;AACA;AACA;AACA;AACA;EACE4xB,uBAAuB,EAAGh2B,KAAK,IAAK;IAClC,MAAMi2B,QAAQ,GAAG,CACf;AAAEj0B,MAAAA,EAAE,EAAE,CAAC;AAAE7J,MAAAA,IAAI,EAAE,UAAU;AAAEob,MAAAA,IAAI,EAAE,YAAA;AAAa,KAAC,EAC/C;AAAEvR,MAAAA,EAAE,EAAE,CAAC;AAAE7J,MAAAA,IAAI,EAAE,cAAc;AAAEob,MAAAA,IAAI,EAAE,YAAA;AAAa,KAAC,EACnD;AAAEvR,MAAAA,EAAE,EAAE,CAAC;AAAE7J,MAAAA,IAAI,EAAE,cAAc;AAAEob,MAAAA,IAAI,EAAE,YAAA;AAAa,KAAC,CACpD,CAAA;IACD,MAAM2iB,YAAY,GAAG59B,MAAM,CAACC,IAAI,CAAC09B,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA;IAC7C,MAAM;MAAEn0B,OAAO;MAAEE,EAAE;AAAEoyB,MAAAA,UAAAA;AAAW,KAAC,GAAGp0B,KAAK,CAAA;AAEzC,IAAA,IAAI,CAACtH,KAAK,CAAC+P,OAAO,CAAC3G,OAAO,CAAC,IAAIA,OAAO,CAACtJ,MAAM,KAAK,CAAC,IAAI47B,UAAU,KAAM,CAAGpyB,CAAAA,EAAAA,EAAG,EAAC,EAAE;AAC9E,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,IAAI,CAACF,OAAO,CAAC3H,GAAG,CAAC,CAAC;AAAEiK,MAAAA,GAAAA;AAAI,KAAC,KAAGA,GAAG,CAAC,CAACM,KAAK,CAACN,GAAG,IAAI8xB,YAAY,CAACx+B,QAAQ,CAAC0M,GAAG,CAAC,CAAC,EAAE;AACzE,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,OAAO6xB,QAAQ,CAAA;AACjB,GAAA;AACF,CAAC,CAAA;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASxB,mBAAmBA,CAACN,iBAAiB,EAAEgC,eAAe,EAAE;AAE/D;AACA,EAAA,MAAMlD,UAAU,GAAGzrB,uBAAuB,CAAC2sB,iBAAiB,IAAI,EAAE,CAAC,CAAA;AAEnE,EAAA,OAAOz7B,KAAK,CAAC+P,OAAO,CAACwqB,UAAU,CAAC,IAAIA,UAAU,CAACvuB,KAAK,CAACqxB,QAAQ,CAAC,GAC1D9C,UAAU,GACVkD,eAAe,CAAA;AACrB,CAAA;;AAEA;AACA;AACA;AACA;AACA,SAASJ,QAAQA,CAACK,MAAM,EAAE;AACxB,EAAA,OACEjvB,QAAQ,CAACivB,MAAM,CAAC,IAAIl6B,QAAQ,CAACk6B,MAAM,CAAC,OAAO,CAAC,CAAC,IAAIl6B,QAAQ,CAACk6B,MAAM,CAAC,KAAK,CAAC,CAAC,CAAA;AAE5E,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASpB,KAAKA,CAACvf,KAAK,EAAE4gB,IAAI,EAAE;EAC1B,OAAO5gB,KAAK,CAAC1c,MAAM,CAAC,CAACu9B,MAAM,EAAEtoB,IAAI,EAAE1U,KAAK,KAAK;AAC3C,IAAA,IAAIA,KAAK,GAAG+8B,IAAI,KAAK,CAAC,EAAE;AACtBC,MAAAA,MAAM,CAAC97B,IAAI,CAAC,CAAEwT,IAAI,CAAE,CAAC,CAAA;AACvB,KAAC,MAAM;MACLsoB,MAAM,CAACA,MAAM,CAAC99B,MAAM,GAAG,CAAC,CAAC,CAACgC,IAAI,CAACwT,IAAI,CAAC,CAAA;AACtC,KAAA;AAEA,IAAA,OAAOsoB,MAAM,CAAA;GACd,EAAE,EAAE,CAAC,CAAA;AACR,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASzB,YAAYA,CAACpf,KAAK,EAAErR,GAAG,EAAE0wB,SAAS,EAAE;EAC3C,OAAO,CAAE,GAAGrf,KAAK,CAAE,CAAC8gB,IAAI,CAAC,CAAC/xB,CAAC,EAAEC,CAAC,KAAK;IACjC,IAAI,CAAC0C,QAAQ,CAAC3C,CAAC,CAAC,IAAI,CAAC2C,QAAQ,CAAC1C,CAAC,CAAC,EAAE;AAChC,MAAA,OAAO,CAAC,CAAA;AACV,KAAA;IAEA,IAAIqwB,SAAS,KAAK,KAAK,EAAE;AACvB,MAAA,OAAOtwB,CAAC,CAACJ,GAAG,CAAC,GAAGK,CAAC,CAACL,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAA;AACjC,KAAA;AAEA,IAAA,OAAOI,CAAC,CAACJ,GAAG,CAAC,GAAGK,CAAC,CAACL,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAA;AACjC,GAAC,CAAC,CAAA;AACJ,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASkxB,kBAAkBA,CAAChB,MAAM,EAAElwB,GAAG,EAAEtE,KAAK,EAAE;EAC9C,IAAIw0B,MAAM,KAAK,IAAI,IAAIA,MAAM,CAAClwB,GAAG,KAAKA,GAAG,EAAE;IACzC,OAAQ,CAAA,iBAAA,EAAmBtE,KAAM,CAAY,WAAA,CAAA,CAAA;AAC/C,GAAA;AAEA,EAAA,IAAIw0B,MAAM,CAACQ,SAAS,KAAK,KAAK,EAAE;AAC9B,IAAA,OAAO,yBAAyB,CAAA;AAClC,GAAA;EAEA,OAAQ,CAAA,iBAAA,EAAmBh1B,KAAM,CAAW,UAAA,CAAA,CAAA;AAC9C;;ACtXA;AACA;AACA;AACA;AACA;AAKA,SAAS02B,IAAIA,GAAG;AACd,EAAA,OAAOpf,IAAA,CAAA,KAAA,EAAA;AAAKqf,IAAAA,KAAK,EAAC,4BAA4B;AAACrN,IAAAA,OAAO,EAAC,gBAAgB;AAACxJ,IAAAA,KAAK,EAAC,IAAI;AAAC1R,IAAAA,MAAM,EAAC,IAAI;AAAC9K,IAAAA,KAAK,EAAC,uBAAuB;AAAAtK,IAAAA,QAAA,GAAC2J,GAAA,CAAA,MAAA,EAAA;AAAMi0B,MAAAA,IAAI,EAAC,cAAc;AAACljB,MAAAA,CAAC,EAAC,qpBAAA;KAAupB,CAAC,EAAA/Q,GAAA,CAAA,MAAA,EAAA;AAAMi0B,MAAAA,IAAI,EAAC,cAAc;AAACljB,MAAAA,CAAC,EAAC,gEAAA;AAAgE,KAAE,CAAC,CAAA;AAAA,GAAK,CAAC,CAAA;AACx5B,CAAA;AAEA,SAASmjB,QAAQA,CAACt0B,KAAK,EAAE;EACvB,MAAM;AAAEqO,IAAAA,IAAAA;AAAK,GAAC,GAAGrO,KAAK,CAAA;EAEtB,IAAI,CAACqO,IAAI,EAAE;AACT,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;AAEA,EAAA,OACE0G,IAAA,CAAA,KAAA,EAAA;AAAK1U,IAAAA,KAAK,EAAC,yBAAyB;AAACU,IAAAA,KAAK,EAAC,oEAAoE;AAAAtK,IAAAA,QAAA,GAC7G2J,GAAA,CAAA,KAAA,EAAA;AAAKC,MAAAA,KAAK,EAAC,UAAU;AAACU,MAAAA,KAAK,EAAC,6DAA6D;MAACuV,OAAO,EAAGtW,KAAK,CAACu0B,eAAAA;KAAuB,CAAC,EAClIxf,IAAA,CAAA,KAAA,EAAA;AAAK1U,MAAAA,KAAK,EAAC,QAAQ;AAACU,MAAAA,KAAK,EAAC,4PAA4P;AAAAtK,MAAAA,QAAA,GACpR2J,GAAA,CAAA,GAAA,EAAA;AAAG8sB,QAAAA,IAAI,EAAC,iBAAiB;AAAC9X,QAAAA,MAAM,EAAC,QAAQ;AAACof,QAAAA,GAAG,EAAC,UAAU;AAACzzB,QAAAA,KAAK,EAAC,0FAA0F;AAAAtK,QAAAA,QAAA,EACvJ2J,GAAA,CAAC+zB,IAAI,EAAE,EAAA,CAAA;OACN,CAAC,EACJpf,IAAA,CAAA,MAAA,EAAA;QAAAte,QAAA,EAAA,CAAM,wDAEO,EAAA2J,GAAA,CAAA,GAAA,EAAA;AAAG8sB,UAAAA,IAAI,EAAC,iBAAiB;AAAC9X,UAAAA,MAAM,EAAC,QAAQ;AAACof,UAAAA,GAAG,EAAC,UAAU;AAAA/9B,UAAAA,QAAA,EAAC,SAAA;AAAO,SAAG,CAAC,EACjF,GAAA,CAAA;AAAA,OAAM,CAAC,CAAA;AAAA,KACJ,CAAC,CAAA;AAAA,GACH,CAAC,CAAA;AAEV,CAAA;AAEA,SAASg+B,IAAIA,CAACz0B,KAAK,EAAE;AACnB,EAAA,OACEI,GAAA,CAAA,KAAA,EAAA;AAAKC,IAAAA,KAAK,EAAC,+BAA+B;AAACU,IAAAA,KAAK,EAAC,mBAAmB;AAAAtK,IAAAA,QAAA,EAClE2J,GAAA,CAAA,GAAA,EAAA;AAAG8sB,MAAAA,IAAI,EAAC,iBAAiB;AAAC9X,MAAAA,MAAM,EAAC,QAAQ;AAACof,MAAAA,GAAG,EAAC,UAAU;AAACn0B,MAAAA,KAAK,EAAC,qBAAqB;AAAC0jB,MAAAA,KAAK,EAAC,oBAAoB;AAAChjB,MAAAA,KAAK,EAAC,yCAAyC;MAACuV,OAAO,EAAGtW,KAAK,CAACsW,OAAS;AAAA7f,MAAAA,QAAA,EAAC2J,GAAA,CAAC+zB,IAAI,EAAE,EAAA,CAAA;KAAI,CAAA;AAAC,GACnM,CAAC,CAAA;AAEV,CAAA;AAEO,SAASO,SAASA,CAAC10B,KAAK,EAAE;EAE/B,MAAM,CAAEqO,IAAI,EAAEsmB,OAAO,CAAE,GAAG5d,QAAQ,CAAC,KAAK,CAAC,CAAA;EAEzC,SAAS6d,UAAUA,CAACvmB,IAAI,EAAE;AACxB,IAAA,OAAQmR,KAAK,IAAK;MAChBA,KAAK,CAACtC,cAAc,EAAE,CAAA;MAEtByX,OAAO,CAACtmB,IAAI,CAAC,CAAA;KACd,CAAA;AACH,GAAA;EAEA,OACE0G,IAAA,CAAC8f,UAAQ,EAAA;AAAAp+B,IAAAA,QAAA,EAELq+B,CAAAA,YAAY,CACV10B,GAAA,CAACk0B,QAAQ,EAAA;AAACjmB,MAAAA,IAAI,EAAGA,IAAM;MAACkmB,eAAe,EAAGK,UAAU,CAAC,KAAK,CAAA;KAAK,CAAC,EAChE91B,QAAQ,CAAC2K,IACX,CAAC,EAEHrJ,GAAA,CAACq0B,IAAI,EAAA;MAACne,OAAO,EAAGse,UAAU,CAAC,IAAI,CAAA;AAAG,KAAE,CAAC,CAAA;AAAA,GAC7B,CAAC,CAAA;AAEf;;AC5DA,MAAMre,IAAI,GAAGA,MAAM,EAAE,CAAA;AAEd,SAASwe,aAAaA,CAAC/0B,KAAK,EAAE;AACnC,EAAA,MAAM4W,IAAI,GAAGpV,UAAU,CAAC,MAAM,CAAC,CAAA;EAE/B,MAAM;IAAEwzB,MAAM;AAAExoB,IAAAA,UAAAA;AAAW,GAAC,GAAGoK,IAAI,CAAC7Q,SAAS,EAAE,CAAA;EAE/C,MAAM;AAAEkvB,IAAAA,SAAAA;AAAU,GAAC,GAAGzoB,UAAU,CAAA;EAEhC,MAAM;AACJ0oB,IAAAA,QAAQ,GAAG3e,IAAI;AACf4e,IAAAA,OAAO,GAAG5e,IAAI;AACdtC,IAAAA,QAAQ,GAAGsC,IAAAA;AACb,GAAC,GAAGvW,KAAK,CAAA;EAET,MAAMo1B,YAAY,GAAI5V,KAAK,IAAK;IAC9BA,KAAK,CAACtC,cAAc,EAAE,CAAA;AAEtBgY,IAAAA,QAAQ,EAAE,CAAA;GACX,CAAA;EAED,MAAMG,WAAW,GAAI7V,KAAK,IAAK;IAC7BA,KAAK,CAACtC,cAAc,EAAE,CAAA;AAEtBiY,IAAAA,OAAO,EAAE,CAAA;GACV,CAAA;AAED,EAAA,MAAMG,gBAAgB,GAAGxpB,mBAAmB,EAAE,CAAA;AAE9C,EAAA,MAAMypB,sBAAsB,GAAG5xB,OAAO,CAAC,OAAO;AAC5CxJ,IAAAA,IAAI,EAAEm7B,gBAAgB;AACtBt8B,IAAAA,MAAM,EAAE,IAAI;AACZ8B,IAAAA,IAAI,EAAEw6B,gBAAgB;AACtB79B,IAAAA,CAAC,EAAE,EAAA;AACL,GAAC,CAAC,EAAE,CAAE69B,gBAAgB,CAAE,CAAC,CAAA;AAEzB,EAAA,OACEvgB,IAAA,CAAA,MAAA,EAAA;AACE1U,IAAAA,KAAK,EAAC,UAAU;AAChB60B,IAAAA,QAAQ,EAAGE,YAAc;AACzBD,IAAAA,OAAO,EAAGE,WAAa;AACvB,IAAA,YAAA,EAAaJ,SAAW;IACxBO,UAAU,EAAA,IAAA;AAAA/+B,IAAAA,QAAA,EAEV2J,CAAAA,GAAA,CAACiB,sBAAsB,CAACo0B,QAAQ,EAAA;AAAC77B,MAAAA,KAAK,EAAG27B,sBAAwB;MAAA9+B,QAAA,EAC/D2J,GAAA,CAACoW,SAAS,EAAA;AACR7Y,QAAAA,KAAK,EAAGq3B,MAAQ;AAChB/gB,QAAAA,QAAQ,EAAGA,QAAAA;OACZ,CAAA;AAAC,KAC6B,CAAC,EAClC7T,GAAA,CAACs0B,SAAS,IAAE,CAAC,CAAA;AAAA,GACT,CAAC,CAAA;AAEX;;ACAO,MAAMje,UAAU,GAAG;AAGxBsa,SAAS,EACTE,QAAQ,EACR5I,WAAW,EACX1G,QAAQ,EACR+O,eAAe;AAGfzb,QAAQ,EACRS,SAAS,EACT6U,KAAK,EACLgC,MAAM,EACNY,OAAO;AAGPyC,IAAI,EACJnJ,KAAK,EACLoL,KAAK,EACLrB,IAAI,EACJ7D,MAAM,EACND,SAAS;AAGT1J,KAAK,EACL4J,WAAW,EACXtJ,MAAM;AAGNvjB,MAAM,EACN6Z,OAAO;;ACzFF,MAAM8b,UAAU,CAAC;AACtBl8B,EAAAA,WAAWA,GAAG;AACZ,IAAA,IAAI,CAACm8B,WAAW,GAAG,EAAE,CAAA;AAErBlf,IAAAA,UAAU,CAAC3W,OAAO,CAAEP,SAAS,IAAK;MAChC,IAAI,CAACq2B,QAAQ,CAACr2B,SAAS,CAACe,MAAM,CAAC5H,IAAI,EAAE6G,SAAS,CAAC,CAAA;AACjD,KAAC,CAAC,CAAA;AACJ,GAAA;AAEAq2B,EAAAA,QAAQA,CAACl9B,IAAI,EAAE6G,SAAS,EAAE;AACxB,IAAA,IAAI,CAACo2B,WAAW,CAAEj9B,IAAI,CAAE,GAAG6G,SAAS,CAAA;AACtC,GAAA;EAEAzB,GAAGA,CAACpF,IAAI,EAAE;AACR,IAAA,OAAO,IAAI,CAACi9B,WAAW,CAAEj9B,IAAI,CAAE,CAAA;AACjC,GAAA;AACF;;ACZA,MAAMm9B,qBAAqB,GAAG,CAC5B,KAAK,EACL,0BAA0B,EAC1B,0BAA0B,EAC1B,kBAAkB,EAClB,aAAa,EACb,OAAO,EACP,QAAQ,EACR,UAAU,EACV,MAAM,EACN,cAAc,EACd,cAAc,EACd,oBAAoB,EACpB,oBAAoB,EACpB,kBAAkB,EAClB,KAAK,EACL,YAAY,EACZ,mBAAmB,CACpB,CAAA;AAED,MAAMC,mBAAmB,GAAG,CAC1B,KAAK,EACL,0BAA0B,EAC1B,0BAA0B,EAC1B,aAAa,EACb,OAAO,EACP,QAAQ,EACR,MAAM,EACN,SAAS,EACT,KAAK,CACN,CAAA;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,kBAAkBA,CAACf,MAAM,EAAE9/B,OAAO,GAAG,EAAE,EAAE;EAEvD,MAAM;AACJuhB,IAAAA,UAAU,GAAG,IAAIif,UAAU,EAAE;AAC7BtwB,IAAAA,kBAAkB,GAAG,IAAI7L,sBAAsB,CAAC,IAAI,CAAC;AACrDkU,IAAAA,UAAU,GAAG,IAAIlT,iBAAiB,EAAE;AACpCy7B,IAAAA,MAAM,GAAG,IAAI;AACbC,IAAAA,OAAO,GAAG,IAAA;AACZ,GAAC,GAAG/gC,OAAO,CAAA;AAEX,EAAA,IAAI,CAAC8/B,MAAM,CAAC9xB,UAAU,EAAE;AACtB,IAAA,OAAO,EAAE,CAAA;AACX,GAAA;EAEA,MAAMgzB,gBAAgB,GAAIrgC,IAAI,IAAK;IACjC,MAAMqN,UAAU,GAAG,EAAE,CAAA;IAErB,IAAIrN,IAAI,CAACqN,UAAU,EAAE;AACnBrN,MAAAA,IAAI,CAACqN,UAAU,CAACpD,OAAO,CAACqD,SAAS,IAAI;AACnCD,QAAAA,UAAU,CAAC/K,IAAI,CAACgL,SAAS,CAAC,CAAA;QAC1BD,UAAU,CAAC/K,IAAI,CAAC,GAAG+9B,gBAAgB,CAAC/yB,SAAS,CAAC,CAAC,CAAA;AACjD,OAAC,CAAC,CAAA;AACJ,KAAA;AAEA,IAAA,OAAOD,UAAU,CAAA;GAClB,CAAA;AAED,EAAA,MAAMvN,SAAS,GAAGugC,gBAAgB,CAAClB,MAAM,CAAC,CAACt+B,MAAM,CAAC,CAACf,SAAS,EAAEwN,SAAS,KAAK;IAE1E,MAAM;AACJc,MAAAA,SAAAA;AACF,KAAC,GAAGd,SAAS,CAAA;;AAEb;AACA,IAAA,IAAI6yB,MAAM,EAAE;AAEV,MAAA,IAAI/xB,SAAS,EAAE;AACbtO,QAAAA,SAAS,GAAG,CAAE,GAAGA,SAAS,EAAEsO,SAAS,CAAE,CAAA;AACzC,OAAA;AAEA4xB,MAAAA,qBAAqB,CAAC/1B,OAAO,CAAEq2B,IAAI,IAAK;AACtC,QAAA,MAAM93B,QAAQ,GAAGP,GAAG,CAACqF,SAAS,EAAEgzB,IAAI,CAACr0B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAA;QAEhD,IAAIzD,QAAQ,IAAI+G,kBAAkB,CAACzL,YAAY,CAAC0E,QAAQ,CAAC,EAAE;AAEzD,UAAA,MAAM+3B,mBAAmB,GAAGhxB,kBAAkB,CAACrL,gBAAgB,CAACsE,QAAQ,EAAE;AAAE3F,YAAAA,IAAI,EAAE,YAAA;AAAa,WAAC,CAAC,CAAA;AAEjG/C,UAAAA,SAAS,GAAG,CAAE,GAAGA,SAAS,EAAE,GAAGygC,mBAAmB,CAAE,CAAA;AACtD,SAAA;AACF,OAAC,CAAC,CAAA;AAEFN,MAAAA,mBAAmB,CAACh2B,OAAO,CAAEq2B,IAAI,IAAK;AACpC,QAAA,MAAM93B,QAAQ,GAAGP,GAAG,CAACqF,SAAS,EAAEgzB,IAAI,CAACr0B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAA;AAEhD,QAAA,IAAIzD,QAAQ,IAAI,CAAC+G,kBAAkB,CAACzL,YAAY,CAAC0E,QAAQ,CAAC,IAAIoP,UAAU,CAACjT,UAAU,CAAC6D,QAAQ,CAAC,EAAE;AAC7F,UAAA,MAAMg4B,iBAAiB,GAAG5oB,UAAU,CAAC1T,gBAAgB,CAACsE,QAAQ,CAAC,CAAA;AAC/D1I,UAAAA,SAAS,GAAG,CAAE,GAAGA,SAAS,EAAE,GAAG0gC,iBAAiB,CAAE,CAAA;AACpD,SAAA;AACF,OAAC,CAAC,CAAA;AAEJ,KAAA;IAEA,OAAO1gC,SAAS,CAACmB,MAAM,CAACw/B,QAAQ,IAAI,OAAOA,QAAQ,KAAK,QAAQ,CAAC,CAAA;GAClE,EAAE,EAAE,CAAC,CAAA;EAEN,MAAMC,mBAAmB,GAAI1gC,IAAI,IAAI;IACnC,MAAM2gC,eAAe,GAAG,EAAE,CAAA;IAC1B,MAAMj3B,SAAS,GAAGkX,UAAU,CAAC3Y,GAAG,CAACjI,IAAI,CAAC6C,IAAI,CAAC,CAAA;IAE3C,IAAI6G,SAAS,IAAIA,SAAS,CAACe,MAAM,CAACC,KAAK,IAAI1K,IAAI,CAACkM,GAAG,EAAE;AACnD,MAAA,OAAO,CAAElM,IAAI,CAACkM,GAAG,CAACD,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAE,CAAA;AACnC,KAAC,MAAM,IAAIvC,SAAS,IAAIA,SAAS,CAACe,MAAM,CAAC8iB,MAAM,IAAIvtB,IAAI,CAACgM,IAAI,EAAE;AAC5D,MAAA,OAAO,CAAEhM,IAAI,CAACgM,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAE,CAAA;AACpC,KAAC,MAAM,IAAIjM,IAAI,CAACqN,UAAU,EAAE;AAC1BrN,MAAAA,IAAI,CAACqN,UAAU,CAACpD,OAAO,CAACqD,SAAS,IAAI;QACnCqzB,eAAe,CAACr+B,IAAI,CAAC,GAAGo+B,mBAAmB,CAACpzB,SAAS,CAAC,CAAC,CAAA;AACzD,OAAC,CAAC,CAAA;AACJ,KAAA;AAEA,IAAA,OAAOqzB,eAAe,CAAA;GACvB,CAAA;;AAED;EACA,IAAIR,MAAM,IAAIC,OAAO,EAAE;IACrBtgC,SAAS,CAACwC,IAAI,CAAC,GAAGo+B,mBAAmB,CAACvB,MAAM,CAAC,CAAC,CAAA;AAChD,GAAA;;AAEA;EACA,OAAO3+B,KAAK,CAACC,IAAI,CAAC,IAAIS,GAAG,CAACpB,SAAS,CAAC,CAAC,CAAA;AACvC;;AC/JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACa8gC,eAAe,GAAGA,CAACC,WAAW,EAAEtd,iBAAiB,KAAK;EACjE,MAAMud,GAAG,GAAG,EAAE,CAAA;AAEd,EAAA,IAAIC,gBAAgB,GAAGxd,iBAAiB,CAACtb,GAAG,CAAC44B,WAAW,CAAC,CAAA;AAEzD,EAAA,OAAOE,gBAAgB,EAAE;AACvBD,IAAAA,GAAG,CAACx+B,IAAI,CAACy+B,gBAAgB,CAACj3B,EAAE,CAAC,CAAA;IAE7Bi3B,gBAAgB,GAAGxd,iBAAiB,CAACtb,GAAG,CAAC84B,gBAAgB,CAACC,OAAO,CAAC,CAAA;AACpE,GAAA;AAEA,EAAA,OAAOF,GAAG,CAAA;AACZ;;AChBA;AACA;AACA;AACA;;AAEO,MAAMG,gBAAgB,CAAC;AAC5Bt9B,EAAAA,WAAWA,CAAC4f,iBAAiB,EAAEzC,YAAY,EAAEld,QAAQ,EAAE;IACrD,IAAI,CAACs9B,kBAAkB,GAAG3d,iBAAiB,CAAA;IAC3C,IAAI,CAAC4d,aAAa,GAAGrgB,YAAY,CAAA;IACjC,IAAI,CAACjd,SAAS,GAAGD,QAAQ,CAAA;AAC3B,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEuS,EAAAA,eAAeA,CAAC7R,IAAI,EAAE88B,WAAW,GAAG,EAAE,EAAE/hC,OAAO,GAAG,EAAE,EAAE;AAEpD,IAAA,MAAMgiC,WAAW,GAAGz0B,KAAK,CAACtI,IAAI,CAAC,CAAA;IAE/B,MAAM;AACJg9B,MAAAA,aAAa,GAAGA,CAACx5B,KAAK,EAAEkC,OAAO,KAAK,IAAI,CAACm3B,aAAa,CAAC7f,YAAY,CAACxZ,KAAK,EAAE;AAAEkC,QAAAA,OAAAA;AAAQ,OAAC,CAAC;AACvFu3B,MAAAA,oBAAoB,GAAG,KAAA;AACzB,KAAC,GAAGliC,OAAO,CAAA;IAEX,MAAMmiC,2BAA2B,GAAGA,CAACC,SAAS,EAAEC,YAAY,EAAEC,WAAW,GAAG,KAAK,KAAK;MAEpF,MAAM;QACJ33B,OAAO,GAAG,EAAE;AACZ43B,QAAAA,iBAAiB,GAAG,EAAE;AACtBC,QAAAA,SAAS,GAAGT,WAAW;AACvBU,QAAAA,eAAe,GAAG,IAAA;AACpB,OAAC,GAAGJ,YAAY,CAAA;AAEhB,MAAA,IAAI,CAACP,aAAa,CAACY,0BAA0B,CAACN,SAAS,EAAE,CAAC;QAAE35B,KAAK;QAAEk6B,QAAQ;QAAEC,YAAY;AAAE98B,QAAAA,OAAAA;AAAQ,OAAC,KAAK;QAEvG,MAAM;UACJ2c,WAAW;UACXzU,UAAU;AACVvD,UAAAA,EAAAA;AACF,SAAC,GAAGhC,KAAK,CAAA;;AAET;QACA,MAAM43B,sBAAsB,GAAG1yB,sBAAsB,CAAC;AACpD/H,UAAAA,IAAI,EAAE48B,SAAS;AACfv9B,UAAAA,IAAI,EAAE88B,WAAW;AACjBx/B,UAAAA,CAAC,EAAEggC,iBAAiB;AACpBz+B,UAAAA,MAAM,EAAE2+B,eAAAA;AACV,SAAC,CAAC,CAAA;AAEF38B,QAAAA,OAAO,CAAC+8B,QAAQ,GAAGP,WAAW,IAAIx8B,OAAO,CAAC+8B,QAAQ,IAAKpgB,WAAW,IAAI,IAAI,CAACqgB,mBAAmB,CAACrgB,WAAW,EAAE4d,sBAAsB,CAAE,CAAA;;AAEpI;QACA,IAAIuC,YAAY,KAAK,CAAC98B,OAAO,CAAC+8B,QAAQ,IAAIX,oBAAoB,CAAC,EAAE;AAE/D;UACAp8B,OAAO,CAACi9B,gBAAgB,GAAG,IAAI,CAAA;UAE/B,MAAMC,iBAAiB,GAAG,IAAI,CAAClB,aAAa,CAAC7f,YAAY,CAACxZ,KAAK,EAAE;AAAEkC,YAAAA,OAAAA;AAAQ,WAAC,CAAC,CAAA;AAC7E,UAAA,MAAMs4B,aAAa,GAAGr6B,GAAG,CAACm5B,WAAW,EAAEiB,iBAAiB,CAAC,CAAA;;AAEzD;UACA,IAAI,CAAC7hC,KAAK,CAAC+P,OAAO,CAAC+xB,aAAa,CAAC,IAAI,CAACA,aAAa,CAAChiC,MAAM,IAAI,CAACE,KAAK,CAAC+P,OAAO,CAAClD,UAAU,CAAC,IAAI,CAACA,UAAU,CAAC/M,MAAM,EAAE;AAC9G,YAAA,OAAA;AACF,WAAA;AAEA,UAAA,KAAK,IAAIsB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0gC,aAAa,CAAChiC,MAAM,EAAEsB,CAAC,EAAE,EAAE;AAE7C;AACA,YAAA,MAAM2gC,eAAe,GAAG;AACtBv4B,cAAAA,OAAO,EAAE;AAAE,gBAAA,GAAGA,OAAO;AAAE,gBAAA,CAACF,EAAE,GAAGlI,CAAAA;eAAG;cAChCggC,iBAAiB,EAAE,CAAE,GAAGA,iBAAiB,EAAEhgC,CAAC,GAAG,CAAC,CAAE;AAClDigC,cAAAA,SAAS,EAAES,aAAa,CAAC1gC,CAAC,CAAC;AAC3BkgC,cAAAA,eAAe,EAAED,SAAAA;aAClB,CAAA;;AAED;AACAx0B,YAAAA,UAAU,CAACpD,OAAO,CAACqD,SAAS,IAAI;cAC9Bk0B,2BAA2B,CAACl0B,SAAS,EAAEi1B,eAAe,EAAEp9B,OAAO,CAAC+8B,QAAQ,CAAC,CAAA;AAC3E,aAAC,CAAC,CAAA;AAEJ,WAAA;AAEF,SAAA;;AAEA;QACA,IAAI/8B,OAAO,CAAC+8B,QAAQ,IAAI,CAACX,oBAAoB,IAAIU,YAAY,EAAE;UAC7D98B,OAAO,CAACi9B,gBAAgB,GAAG,IAAI,CAAA;UAC/B,IAAI,CAACI,uBAAuB,CAAClB,aAAa,CAACx5B,KAAK,EAAEkC,OAAO,CAAC,EAAEq3B,WAAW,CAAC,CAAA;AAC1E,SAAA;;AAEA;AACA,QAAA,IAAIl8B,OAAO,CAAC+8B,QAAQ,IAAIF,QAAQ,EAAE;UAChC,IAAI,CAACQ,uBAAuB,CAAClB,aAAa,CAACx5B,KAAK,EAAEkC,OAAO,CAAC,EAAEq3B,WAAW,CAAC,CAAA;AAC1E,SAAA;AAEF,OAAC,CAAC,CAAA;KAEH,CAAA;;AAED;IACA,MAAMtgB,IAAI,GAAG,IAAI,CAACmgB,kBAAkB,CAACuB,OAAO,EAAE,CAAA;IAE9C,IAAI,CAAC1hB,IAAI,EAAE;AACT,MAAA,MAAM,IAAI3c,KAAK,CAAC,iCAAiC,CAAC,CAAA;AACpD,KAAA;IAEAo9B,2BAA2B,CAACzgB,IAAI,EAAE;AAChC8gB,MAAAA,SAAS,EAAET,WAAAA;AACb,KAAC,CAAC,CAAA;AAEF,IAAA,OAAOC,WAAW,CAAA;AACpB,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACEtzB,EAAAA,KAAKA,CAACJ,SAAS,EAAErJ,IAAI,GAAG,EAAE,EAAE;IAC1B,IAAI,CAACqJ,SAAS,EAAE;AACd,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AAEA,IAAA,IAAI,CAAC3J,QAAQ,CAAC2J,SAAS,CAAC,IAAI,CAACA,SAAS,CAAC1J,UAAU,CAAC,GAAG,CAAC,EAAE;AACtD,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;IAEA,IAAI;AAEF;AACA,MAAA,MAAMhB,MAAM,GAAGy/B,SAAS,CAAC/0B,SAAS,CAAC7K,KAAK,CAAC,CAAC,CAAC,EAAEwB,IAAI,CAAC,CAAA;AAElD,MAAA,OAAOrB,MAAM,CAAA;KACd,CAAC,OAAOsB,KAAK,EAAE;AACd,MAAA,IAAI,CAACV,SAAS,CAACW,IAAI,CAAC,OAAO,EAAE;AAAED,QAAAA,KAAAA;AAAM,OAAC,CAAC,CAAA;AACvC,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AACF,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACE49B,EAAAA,mBAAmBA,CAACx0B,SAAS,EAAErJ,IAAI,EAAE;AACnC,IAAA,IAAI,CAACqJ,SAAS,CAACoU,IAAI,EAAE;AACnB,MAAA,OAAO,KAAK,CAAA;AACd,KAAA;IAEA,MAAM9e,MAAM,GAAG,IAAI,CAAC8K,KAAK,CAACJ,SAAS,CAACoU,IAAI,EAAEzd,IAAI,CAAC,CAAA;IAE/C,OAAOrB,MAAM,KAAK,IAAI,CAAA;AACxB,GAAA;AAEAu/B,EAAAA,uBAAuBA,CAACnhB,SAAS,EAAE9T,GAAG,EAAE;AACtC,IAAA,MAAMo1B,gBAAgB,GAAG,CAAE,GAAGthB,SAAS,CAAE,CAAA;IACzC,IAAIuhB,OAAO,GAAG,KAAK,CAAA;IAEnB,GAAG;AACD1V,MAAAA,GAAG,CAAC3f,GAAG,EAAEo1B,gBAAgB,EAAEz6B,SAAS,CAAC,CAAA;MACrCy6B,gBAAgB,CAACz/B,GAAG,EAAE,CAAA;AACtB,MAAA,MAAM2/B,YAAY,GAAG56B,GAAG,CAACsF,GAAG,EAAEo1B,gBAAgB,CAAC,CAAA;MAC/CC,OAAO,GAAG,CAAC,CAACD,gBAAgB,CAACriC,MAAM,KAAK,IAAI,CAACwiC,cAAc,CAACD,YAAY,CAAC,IAAI,IAAI,CAACE,aAAa,CAACF,YAAY,CAAC,CAAC,CAAA;AAChH,KAAC,QAAQD,OAAO,EAAA;AAClB,GAAA;EAEAE,cAAcA,CAACD,YAAY,EAAE;IAC3B,OAAO5zB,QAAQ,CAAC4zB,YAAY,CAAC,IAAI,CAAC76B,MAAM,CAAC66B,YAAY,CAAC,CAACviC,MAAM,CAAA;AAC/D,GAAA;EAEAyiC,aAAaA,CAACF,YAAY,EAAE;IAC1B,OAAOriC,KAAK,CAAC+P,OAAO,CAACsyB,YAAY,CAAC,KAAK,CAACA,YAAY,CAACviC,MAAM,IAAIuiC,YAAY,CAACr2B,KAAK,CAACsJ,IAAI,IAAIA,IAAI,KAAK5N,SAAS,CAAC,CAAC,CAAA;AAChH,GAAA;AACF,CAAA;AAEA+4B,gBAAgB,CAACx8B,OAAO,GAAG,CACzB,mBAAmB,EACnB,cAAc,EACd,UAAU,CACX;;AC9LM,MAAMu+B,wBAAwB,GAAG;AACtCC,EAAAA,QAAQ,EAAE,CAAE,oBAAoB,EAAE,YAAY,EAAE,kBAAkB,CAAE;AACpE1zB,EAAAA,kBAAkB,EAAE,CAAE,MAAM,EAAE7L,sBAAsB,CAAE;AACtDkU,EAAAA,UAAU,EAAE,CAAE,MAAM,EAAElT,iBAAiB,CAAE;AACzCkJ,EAAAA,gBAAgB,EAAE,CAAE,MAAM,EAAEqzB,gBAAgB,CAAA;AAC9C;;ACPO,MAAMiC,gBAAgB,CAAC;AAE5B;AACF;AACA;AACA;AACA;AACA;AACA;EACE9I,MAAMA,CAACD,QAAQ,EAAE;AAEf;AACA,IAAA,OAAOgJ,MAAM,CAACx9B,KAAK,CAACw0B,QAAQ,EAAE;AAC5BiJ,MAAAA,GAAG,EAAE,IAAI;AACTC,MAAAA,MAAM,EAAE,IAAA;AACV,KAAC,CAAC,CAAA;AACJ,GAAA;AACF,CAAA;AAEAH,gBAAgB,CAACz+B,OAAO,GAAG,EAAE;;ACnBtB,MAAM6+B,sBAAsB,GAAG;EACpCL,QAAQ,EAAE,CAAE,kBAAkB,CAAE;AAChC/I,EAAAA,gBAAgB,EAAE,CAAE,MAAM,EAAEgJ,gBAAgB,CAAA;AAC9C;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASK,YAAYA,CAAC3/B,QAAQ,EAAE+E,QAAQ,EAAE;AAEvD;AACF;AACA;AACA;AACA;AACE,EAAA,IAAI,CAAC66B,WAAW,GAAG,EAAE,CAAA;;AAErB;AACF;AACA;AACA;AACA;EACE,IAAI,CAACC,MAAM,GAAG,EAAE,CAAA;;AAEhB;AACF;AACA;AACA;AACA;AACE,EAAA,IAAI,CAACC,SAAS,GAAG,CAAC,CAAC,CAAA;;AAEnB;AACF;AACA;AACA;AACA;EACE,IAAI,CAACC,iBAAiB,GAAG;AACvBC,IAAAA,OAAO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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASonC,QAAQA,GAAG;AAEjC;AACF;AACA;AACE,EAAA,IAAI,CAACC,UAAU,GAAG,EAAE,CAAA;;AAEpB;AACA;AACA,EAAA,IAAI,CAAC1oB,EAAE,CAAC,iBAAiB,EAAE,CAAC,EAAE,IAAI,CAAC2oB,QAAQ,EAAE,IAAI,CAAC,CAAA;AACpD,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAF,QAAQ,CAAChG,SAAS,CAACziB,EAAE,GAAG,UAAS4oB,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,IAAI,EAAE;EAEjEH,MAAM,GAAG95B,OAAO,CAAC85B,MAAM,CAAC,GAAGA,MAAM,GAAG,CAAEA,MAAM,CAAE,CAAA;AAE9C,EAAA,IAAII,UAAU,CAACH,QAAQ,CAAC,EAAE;AACxBE,IAAAA,IAAI,GAAGD,QAAQ,CAAA;AACfA,IAAAA,QAAQ,GAAGD,QAAQ,CAAA;AACnBA,IAAAA,QAAQ,GAAGL,gBAAgB,CAAA;AAC7B,GAAA;AAEA,EAAA,IAAI,CAACjwB,QAAQ,CAACswB,QAAQ,CAAC,EAAE;AACvB,IAAA,MAAM,IAAIlmC,KAAK,CAAC,2BAA2B,CAAC,CAAA;AAC9C,GAAA;EAEA,IAAIsmC,cAAc,GAAGH,QAAQ,CAAA;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","x_google_ignoreList":[113,114,124]}